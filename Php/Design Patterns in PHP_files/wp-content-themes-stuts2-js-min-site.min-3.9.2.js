function handle_login_for_modal_window(){var e=jQuery("#login_email").val(),t=jQuery("#login_pass").val();e&&t?(modala_add_remove_class([".td_display_err",1,"td_display_msg_ok"]),jQuery(".td_display_err").show(),td_modala_write_err_div(td_please_wait),td_modala_call_ajax("td_mod_login",e,"",t)):(jQuery(".td_display_err").show(),td_modala_write_err_div(td_email_user_pass_incorrect))}function handle_register_for_modal_window(){var e=jQuery("#register_email").val(),t=jQuery("#register_user").val();td_mod_pattern_email.test(e)&&t?(modala_add_remove_class([".td_display_err",1,"td_display_msg_ok"]),jQuery(".td_display_err").show(),td_modala_write_err_div(td_please_wait),td_modala_call_ajax("td_mod_register",e,t,"")):(jQuery(".td_display_err").show(),td_modala_write_err_div(td_email_user_incorrect))}function handle_forgot_password_for_modal_window(){var e=jQuery("#forgot_email").val();td_mod_pattern_email.test(e)?(modala_add_remove_class([".td_display_err",1,"td_display_msg_ok"]),jQuery(".td_display_err").show(),td_modala_write_err_div(td_please_wait),td_modala_call_ajax("td_mod_remember_pass",e,"","")):(jQuery(".td_display_err").show(),td_modala_write_err_div(td_email_incorrect))}function show_hide_content_modala(e){for(var t=e.length,a=0;t>a;a++)element_id=e[a][0],element_visibility=e[a][1],1==element_visibility?jQuery(element_id).removeClass("td-dispaly-none").addClass("td-dispaly-block"):jQuery(element_id).removeClass("td-dispaly-block").addClass("td-dispaly-none")}function modala_swich_tabs(e){for(var t=e.length,a=0;t>a;a++)element_id=e[a][0],element_visibility=e[a][1],1==element_visibility?jQuery(element_id).addClass("td_login_tab_focus"):jQuery(element_id).removeClass("td_login_tab_focus")}function modala_add_remove_class(e){1==e[1]?jQuery(e[0]).addClass(e[2]):jQuery(e[0]).removeClass(e[2])}function td_modala_empty_err_div(){jQuery(".td_display_err").html(""),jQuery(".td_display_err").hide()}function td_modala_write_err_div(e){jQuery(".td_display_err").html(e)}function td_modala_empty_all_fields(){jQuery("#login_email").val(""),jQuery("#login_pass").val(""),jQuery("#register_email").val(""),jQuery("#register_user").val(""),jQuery("#forgot_email").val("")}function td_modala_call_ajax(e,t,a,r){jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:e,email:t,user:a,pass:r},success:function(e){var t=jQuery.parseJSON(e);switch(t[0]){case"login":1==t[1]?location.reload(!0):(modala_add_remove_class([".td_display_err",0,"td_display_msg_ok"]),jQuery(".td_display_err").show(),td_modala_write_err_div(t[2]));break;case"register":1==t[1]?(modala_add_remove_class([".td_display_err",1,"td_display_msg_ok"]),jQuery(".td_display_err").show()):(modala_add_remove_class([".td_display_err",0,"td_display_msg_ok"]),jQuery(".td_display_err").show()),td_modala_write_err_div(t[2]);break;case"remember_pass":1==t[1]?(modala_add_remove_class([".td_display_err",1,"td_display_msg_ok"]),jQuery(".td_display_err").show()):(modala_add_remove_class([".td_display_err",0,"td_display_msg_ok"]),jQuery(".td_display_err").show()),td_modala_write_err_div(t[2])}},error:function(){}})}function td_live_responsive(e){var t=jQuery(window).width();768>t?td_is_js_phone=!0:((td_is_js_phone===!0||e===!0)&&jQuery("#td-top-menu .sf-menu").supersubs({minWidth:15,maxWidth:40,extraWidth:1}),td_is_js_phone=!1)}function td_fake_clicks(){jQuery(".td-fake-click").click(function(){window.location=jQuery(this).data("fake-click")})}function td_done_resizing(){td_resize_videos()}function td_resize_videos(){jQuery(document).find('iframe[src*="youtube.com"]').each(function(){var e=jQuery(this);e.attr("width","100%");var t=e.width();e.css("height",.6*t,"important")}),jQuery(document).find('iframe[src*="vimeo.com"]').each(function(){var e=jQuery(this);e.attr("width","100%");var t=e.width();e.css("height",.6*t,"important")}),jQuery(document).find('iframe[src*="dailymotion.com"]').each(function(){var e=jQuery(this);e.attr("width","100%");var t=e.width();e.css("height",.6*t,"important")})}function td_ajax_search(){jQuery("#td-header-search").keydown(function(e){if(e.which&&39==e.which||e.keyCode&&39==e.keyCode||e.which&&37==e.which||e.keyCode&&37==e.keyCode)return td_aj_search_input_focus(),void 0;if(e.which&&13==e.which||e.keyCode&&13==e.keyCode){var t=jQuery(".td-aj-cur-element");if(t.length>0){var a=t.find(".entry-title a").attr("href");window.location=a}else jQuery(this).parent().parent().submit();return!1}if(e.which&&40==e.which||e.keyCode&&40==e.keyCode)return td_aj_search_move_prompt_down(),!1;if(e.which&&38==e.which||e.keyCode&&38==e.keyCode)return td_aj_search_move_prompt_up(),!1;if(e.which&&8==e.which||e.keyCode&&8==e.keyCode){var r=jQuery(this).val();1==r.length&&jQuery("#td-aj-search").empty()}return td_aj_search_input_focus(),setTimeout("td_ajax_search_do_request()",100),!0})}function td_aj_search_move_prompt_up(){td_aj_first_down_up===!0?(td_aj_first_down_up=!1,0===td_aj_search_cur_sel?td_aj_search_cur_sel=td_aj_search_results-1:td_aj_search_cur_sel--):0===td_aj_search_cur_sel?td_aj_search_cur_sel=td_aj_search_results:td_aj_search_cur_sel--,jQuery(".td_mod_aj_search").removeClass("td-aj-cur-element"),td_aj_search_cur_sel>td_aj_search_results-1?jQuery(".td-search-form").fadeTo(100,1):(td_aj_search_input_remove_focus(),jQuery(".td_mod_aj_search").eq(td_aj_search_cur_sel).addClass("td-aj-cur-element"))}function td_aj_search_move_prompt_down(){td_aj_first_down_up===!0?td_aj_first_down_up=!1:td_aj_search_cur_sel===td_aj_search_results?td_aj_search_cur_sel=0:td_aj_search_cur_sel++,jQuery(".td_mod_aj_search").removeClass("td-aj-cur-element"),td_aj_search_cur_sel>td_aj_search_results-1?jQuery(".td-search-form").fadeTo(100,1):(td_aj_search_input_remove_focus(),jQuery(".td_mod_aj_search").eq(td_aj_search_cur_sel).addClass("td-aj-cur-element"))}function td_aj_search_input_focus(){td_aj_search_cur_sel=0,td_aj_first_down_up=!0,jQuery(".td-search-form").fadeTo(100,1),jQuery(".td_mod_aj_search").removeClass("td-aj-cur-element")}function td_aj_search_input_remove_focus(){0!==td_aj_search_results&&jQuery(".td-search-form").css("opacity",.5)}function td_ajax_search_do_request(){if(""==jQuery("#td-header-search").val())return td_aj_search_input_focus(),void 0;var e=jQuery("#td-header-search").val();return td_local_cache.exist(e)?(td_ajax_search_process_request(td_local_cache.get(e)),void 0):(jQuery.ajax({type:"POST",url:td_ajax_url,data:{action:"td_ajax_search",td_string:e},success:function(t){td_local_cache.set(e,t),td_ajax_search_process_request(t)},error:function(){}}),void 0)}function td_ajax_search_process_request(e){var t=jQuery("#td-header-search").val();if(""==t)return jQuery("#td-aj-search").empty(),void 0;var a=jQuery.parseJSON(e);a.td_search_query===t&&(td_aj_search_cur_sel=0,td_aj_search_results=a.td_total_in_list,td_aj_first_down_up=!0,jQuery("#td-aj-search").html(a.td_data))}function td_mobile_menu2(){var e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},t=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},a=function(e,a){t(e,a)||(e.className=""===e.className?a:e.className+" "+a)},r=function(t,a){t.className=e((" "+t.className+" ").replace(" "+a+" "," "))},_=document.documentElement,d=(window.Modernizr.prefixed("transform"),window.Modernizr.prefixed("transition")),i=function(){var e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"};return e.hasOwnProperty(d)?e[d]:!1}();window.App=function(){var e=!1,o={},s=document.getElementById("inner-wrap"),n=!1,c="js-nav";return o.init=function(){if(!e){e=!0;var l=function(e){e&&e.target===s&&document.removeEventListener(i,l,!1),n=!1};o.closeNav=function(){if(n){jQuery("#inner-wrap").css("minHeight","auto");var e=i&&d?parseFloat(window.getComputedStyle(s,"")[d+"Duration"]):0;e>0?document.addEventListener(i,l,!1):l(null)}r(_,c)},o.openNav=function(){if(!n){var e=jQuery(".td-menu-animate").height();jQuery("#inner-wrap").css("minHeight",e),a(_,c),n=!0}},o.toggleNav=function(e){n&&t(_,c)?o.closeNav():o.openNav(),e&&e.preventDefault()},jQuery("#td-top-mobile-toggle a, .td-mobile-close a").click(function(){o.toggleNav()}),a(_,"js-ready")}},o}(),window.addEventListener&&window.addEventListener("DOMContentLoaded",window.App.init,!1),"swipe"==tds_mobile_swipe&&jQuery("html").swipe({swipeLeft:function(){td_is_slide_moving!==!0&&window.App.closeNav()},swipeRight:function(){td_is_slide_moving!==!0&&window.App.openNav()},threshold:130,allowPageScroll:"vertical",triggerOnTouchEnd:!1,fallbackToMouseEvents:!1,excludedElements:".noSwipe"})}function slideStartedMoving(){td_is_slide_moving=!0}function slideContentComplete(e){return td_is_slide_moving=!1,e.slideChanged?(jQuery(e.currentSlideObject).parent().find(".slide-info-wrap").removeClass("slide-wrap-active"),jQuery(e.currentSlideObject).children(".slide-info-wrap").addClass("slide-wrap-active"),void 0):!1}function slideContentLoaded(e){return e.slideChanged?(jQuery(e.currentSlideObject).parent().find(".slide-info-wrap").removeClass("slide-wrap-active"),jQuery(e.currentSlideObject).children(".slide-info-wrap").addClass("slide-wrap-active"),void 0):!1}function td_ajax_load(){function e(e){t!=jQuery(this).attr("href")?(e.preventDefault(),t=jQuery(this).attr("href")):t="";var a=jQuery(this).data("td_block_id");current_block_obj=td_getBlockObjById(a),current_block_obj.td_cur_cat=jQuery(this).data("cat_id"),current_block_obj.td_current_page=1,td_ajax_block_request(current_block_obj,!1,!0)}jQuery(".td-ajax-next-page").click(function(e){e.preventDefault(),jQuery(this).hasClass("ajax-page-disabled")||(current_block_obj=td_getBlockObjById(jQuery(this).data("td_block_id")),current_block_obj.td_current_page++,td_ajax_block_request(current_block_obj))}),jQuery(".td_ajax-prev-page").click(function(e){e.preventDefault(),jQuery(this).hasClass("ajax-page-disabled")||(current_block_obj=td_getBlockObjById(jQuery(this).data("td_block_id")),current_block_obj.td_current_page--,td_ajax_block_request(current_block_obj))}),jQuery(".td_ajax_load_more").click(function(e){e.preventDefault(),jQuery(this).hasClass("ajax-page-disabled")||(current_block_obj=td_getBlockObjById(jQuery(this).data("td_block_id")),current_block_obj.td_current_page++,td_ajax_block_request(current_block_obj,!0,!0))}),jQuery(".td_ajax_infinite").waypoint(function(e){"down"===e&&(current_block_obj=td_getBlockObjById(jQuery(this).data("td_block_id")),current_block_obj.td_current_page++,td_ajax_block_request(current_block_obj,!0,!1))},{offset:"110%"}),jQuery(".ajax-sub-cat").click(function(e){e.preventDefault();var t=jQuery(this).data("td_block_id");jQuery("#"+t).find(".iosSlider").iosSlider("destroy"),current_block_obj=td_getBlockObjById(t),current_block_obj.td_cur_cat=jQuery(this).data("cat_id"),current_block_obj.td_current_page=1,td_ajax_block_request(current_block_obj)});var t="";td_is_touch_device?jQuery(".ajax-sub-cat-mega").click(e):jQuery(".ajax-sub-cat-mega").hover(e,function(){})}function td_getBlockIndex(e){return cnt=0,tmpReturn=0,jQuery.each(td_blocks,function(t,a){return a.id===e?(tmpReturn=cnt,!1):(cnt++,void 0)}),tmpReturn}function td_getBlockObjById(e){return td_blocks[td_getBlockIndex(e)]}function td_ajax_block_request(e,t,a){t="undefined"==typeof t?!1:t,a="undefined"==typeof a?!0:a;var r=JSON.stringify(e);return td_local_cache.exist(r)?(a===!0&&ajax_pagination_loading_start(e,!1),td_ajax_block_process_response(td_local_cache.get(r)),"cache_hit"):(a===!0&&ajax_pagination_loading_start(e,!0),jQuery.ajax({type:"POST",url:td_ajax_url,cache:!0,data:{action:"td_ajax_block",td_atts:e.atts,td_cur_cat:e.td_cur_cat,td_block_id:e.id,td_column_number:e.td_column_number,td_current_page:e.td_current_page,block_type:e.block_type},success:function(e){td_local_cache.set(r,e),td_ajax_block_process_response(e,t)},error:function(){}}),void 0)}function td_ajax_block_process_response(e,t){var a=jQuery.parseJSON(e);jQuery(".sub-cat-"+a.td_block_id).removeClass("cur-sub-cat"),jQuery("#sub-cat-"+a.td_block_id+"-"+a.td_cur_cat).addClass("cur-sub-cat"),t===!0?jQuery("#"+a.td_block_id).append(a.td_data):jQuery("#"+a.td_block_id).html(a.td_data),a.td_hide_prev===!0?jQuery("#prev-page-"+a.td_block_id).addClass("ajax-page-disabled"):jQuery("#prev-page-"+a.td_block_id).removeClass("ajax-page-disabled"),a.td_hide_next===!0?jQuery("#next-page-"+a.td_block_id).addClass("ajax-page-disabled"):jQuery("#next-page-"+a.td_block_id).removeClass("ajax-page-disabled");var r=td_getBlockObjById(a.td_block_id);"slide"===r.block_type&&jQuery("#"+a.td_block_id+" .slide-wrap-active-first").addClass("slide-wrap-active"),ajax_pagination_loading_end(r)}function ajax_pagination_loading_start(e,t){var a=jQuery("#"+e.id);jQuery(".td-loader-gif").remove(),a.addClass("td_block_inner_overflow"),t===!0&&a.parent().append('<img class="td-loader-gif" src="'+td_get_template_directory_uri+'/images/AjaxLoader.gif" alt=""/>'),a.stop(),a.fadeTo("500",.1,"easeInOutCubic");var r=a.height();a.css("height",r)}function ajax_pagination_loading_end(e){jQuery(this).delay(100).queue(function(){jQuery(".td-loader-gif").remove(),jQuery("#"+e.id).stop(),jQuery("#"+e.id).fadeTo(700,1,function(){jQuery("#"+e.id).css("height","auto"),jQuery(".td_block_inner_overflow").removeClass("td_block_inner_overflow")}),jQuery(this).dequeue()}),jQuery.waypoints("refresh")}function td_retina(){window.devicePixelRatio>1&&(jQuery(".td-retina").each(function(){var e=jQuery(this).attr("src"),t=e.replace(".png","@2x.png");t=t.replace(".jpg","@2x.jpg"),jQuery(this).attr("src",t)}),jQuery(".td-retina-data").each(function(){jQuery(this).attr("src",jQuery(this).data("retina")),jQuery(this).addClass("td-retina-version")}))}function stopBubble(e){e&&e.stopPropagation?e.stopPropagation():window.event.cancelBubble=!0}function td_read_site_cookie(e){for(var t=escape(e)+"=",a=document.cookie.split(";"),r=0;r<a.length;r++){for(var _=a[r];" "==_.charAt(0);)_=_.substring(1,_.length);if(0==_.indexOf(t))return unescape(_.substring(t.length,_.length))}return null}function td_set_cookies_life(e){var t=new Date;t.setTime(t.getTime()+e[2]),document.cookie=e[0]+"="+e[1]+"; expires="+t.toGMTString()+"; path=/"}var td_is_js_phone=!1,td_is_slide_moving=!1,td_is_touch_device=!!("ontouchstart"in window),td_is_iPad=null!=navigator.userAgent.match(/iPad/i),td_is_iOS=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1,td_is_ie10=!1,td_is_ie=!1,td_is_phone_screen=!1;(jQuery(window).width()<768||jQuery(window).height()<768)&&td_is_iPad===!1&&(td_is_phone_screen=!0),Function("/*@cc_on return document.documentMode===10@*/")()&&(jQuery("html").addClass("ie10"),td_is_ie10=!0),(jQuery("html").is(".ie8, .ie9")||td_is_ie10===!0)&&(td_is_ie=!0);var td_local_cache={data:{},remove:function(e){delete td_local_cache.data[e]},exist:function(e){return td_local_cache.data.hasOwnProperty(e)&&null!==td_local_cache.data[e]},get:function(e){return td_local_cache.data[e]},set:function(e,t){td_local_cache.remove(e),td_local_cache.data[e]=t}};jQuery("#td-top-menu .sf-menu").supersubs({minWidth:10,maxWidth:40,extraWidth:1}),td_is_touch_device?jQuery("#td-top-menu .sf-menu").superfish({delay:300,speed:"fast",useClick:!0}):jQuery("#td-top-menu .sf-menu").superfish({delay:500,speed:200,useClick:!1}),jQuery().ready(function(){td_resize_videos();var e=150;switch(tds_snap_menu){case"never":jQuery(".td-menu-wrap").css("position","relative");break;default:jQuery(".td-menu-background").affix({offset:{top:e}})}jQuery("#search-button").click(function(){jQuery(this).delay(200).queue(function(){document.getElementById("td-header-search").focus(),jQuery(this).dequeue()})}),td_retina(),jQuery(".td-featured-img").colorbox({maxWidth:"95%",maxHeight:"95%",fixed:!0}),td_ajax_load(),td_ajax_search(),td_is_phone_screen?td_mobile_menu2():td_is_touch_device===!1&&td_mobile_menu2(),td_is_iPad===!1&&td_is_touch_device===!0&&"swipe"==tds_mobile_swipe&&window.addEventListener("load",function(){FastClick.attach(document.body)},!1);var t=!1;jQuery(document).bind("mousewheel DOMMouseScroll MozMousePixelScroll",function(){t!==!1&&(t=!1,jQuery("html, body").stop())}),document.addEventListener&&document.addEventListener("touchmove",function(){t!==!1&&(t=!1,jQuery("html, body").stop())},!1),jQuery(window).scroll(function(){t||(jQuery(this).scrollTop()>400?jQuery(".td-scroll-up").addClass("td-scroll-up-visible"):jQuery(".td-scroll-up").removeClass("td-scroll-up-visible"))}),jQuery(".td-scroll-up").click(function(){return t?void 0:(t=!0,jQuery(".td-scroll-up").removeClass("td-scroll-up-visible"),jQuery("html, body").animate({scrollTop:0},{duration:1200,easing:"easeInOutQuart",complete:function(){t=!1}}),!1)}),td_fake_clicks(),jQuery(".popup-with-form").magnificPopup({type:"inline",preloader:!1,focus:"#name",callbacks:{beforeOpen:function(){td_modala_empty_all_fields(),td_modala_empty_err_div(),jQuery(window).width()<700?this.st.focus=!1:td_is_ie===!1&&(this.st.focus="#login_email")}}}),jQuery("#login-link").on("click",function(){show_hide_content_modala([["#td-login-div",1],["#td-register-div",0],["#td-forgot-pass-div",0]]),modala_swich_tabs([["#login-link",1],["#register-link",0]]),jQuery(window).width()>700&&td_is_ie===!1&&jQuery("#login_email").focus(),td_modala_empty_err_div()}),jQuery("#login_button").on("click",function(){handle_login_for_modal_window()}),jQuery("#login_pass").keydown(function(e){(e.which&&13==e.which||e.keyCode&&13==e.keyCode)&&handle_login_for_modal_window()}),jQuery("#register-link").on("click",function(){show_hide_content_modala([["#td-login-div",0],["#td-register-div",1],["#td-forgot-pass-div",0]]),modala_swich_tabs([["#login-link",0],["#register-link",1]]),jQuery(window).width()>700&&td_is_ie===!1&&jQuery("#register_email").focus(),td_modala_empty_err_div()}),jQuery("#register_button").on("click",function(){handle_register_for_modal_window()}),jQuery("#register_user").keydown(function(e){(e.which&&13==e.which||e.keyCode&&13==e.keyCode)&&handle_register_for_modal_window()}),jQuery("#forgot-pass-link").on("click",function(){show_hide_content_modala([["#td-login-div",0],["#td-register-div",0],["#td-forgot-pass-div",1]]),modala_swich_tabs([["#login-link",0],["#register-link",0]]),jQuery(window).width()>700&&td_is_ie===!1&&jQuery("#forgot_email").focus(),td_modala_empty_err_div()}),jQuery("#forgot_button").on("click",function(){handle_forgot_password_for_modal_window()}),jQuery("#forgot_email").keydown(function(e){(e.which&&13==e.which||e.keyCode&&13==e.keyCode)&&handle_forgot_password_for_modal_window()}),jQuery("input, textarea").placeholder(),"show"==tds_more_articles_on_post_enable&&(jQuery(window).scroll(function(){var e=td_read_site_cookie("td-cookie-more-articles");if(!isNaN(parseInt(tds_more_articles_on_post_pages_distance_from_top))&&isFinite(tds_more_articles_on_post_pages_distance_from_top)&&parseInt(tds_more_articles_on_post_pages_distance_from_top)>0)var t=parseInt(tds_more_articles_on_post_pages_distance_from_top);else var t=400;jQuery(this).scrollTop()>t&&"hide-more-articles-box"!=e?jQuery(".td-more-articles-box").addClass("td-front-end-display-block"):jQuery(".td-more-articles-box").removeClass("td-front-end-display-block")}),jQuery(".td-close-more-articles-box").click(function(){jQuery(".td-more-articles-box").removeClass("td-front-end-display-block"),jQuery(".td-more-articles-box").hide(),!isNaN(parseInt(tds_more_articles_on_post_time_to_wait))&&isFinite(tds_more_articles_on_post_time_to_wait)&&td_create_cookie("td-cookie-more-articles","hide-more-articles-box",parseInt(tds_more_articles_on_post_time_to_wait))}))});var td_mod_pattern_email=/^[a-zA-Z0-9][a-zA-Z0-9_\.-]{0,}[a-zA-Z0-9]@[a-zA-Z0-9][a-zA-Z0-9_\.-]{0,}[a-z0-9][\.][a-z0-9]{2,4}$/,td_resize_timer_id;jQuery(window).resize(function(){clearTimeout(td_resize_timer_id),td_resize_timer_id=setTimeout(td_done_resizing,500)});var td_aj_search_cur_sel=0,td_aj_search_results=0,td_aj_first_down_up=!0;td_is_touch_device||""==td_ad_background_click_link||jQuery("body").click(function(e){var t=e.target?e.target:e.srcElement;jQuery("body").hasClass("td-boxed-layout")&&("inner-wrap"==t.id||"td-header-menu-wrap"==t.className||"td-header-bg"==t.className||"td-menu-background affix-top"==t.className)&&("_blank"==td_ad_background_click_target?window.open(td_ad_background_click_link):location.href=td_ad_background_click_link)});