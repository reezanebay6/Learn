var clc;(function(a){function b(a){if('undefined'==typeof a||null===a)return!1;var b=ea(a)?_(a):a;return 0<da(b.innerHTML).length}function d(a,b){if('undefined'!=typeof a.classList)a.classList.add(b);else{var c=new RegExp('\b'+b+'\b');c.test(a.className)||(a.className+=' '+b)}}function c(a,b){var c=$.createElement(a);return b&&b(c),c}function e(a,b){var c=$.createEvent('Event');c.initEvent(b,!0,!1),O.log('dispatching event on ',a),O.log(' ->',c),a.dispatchEvent(c)}function f(a,b){return a.split(/&/g).filter(function(a){return''!==a}).reduce(function(a,b){var c=b.split('=');return a[Z(c[0])]=Z(c[1]),a},b||{})}function g(a){return N(a).map(function(b){return[Y(b),Y(a[b])]}).filter(function(b){return!!b[1]}).map(function(b){return b[0]+'='+b[1]}).join('&')}function h(a){return!!(a||document.body).querySelector('#careersadsdoublehigh')}function i(){var a=[].slice.call(fa()),b=[].slice.call(ga()),c=Object.keys(ja).map(ba).filter(function(a){return!!a});return a.concat(b,c)}function j(a){var b=a.getAttribute('id');if(b in ja)return ja[b]();var c=a.parentNode,d=c.getAttribute('id');return d in ka?ka[d]:(O.log('Unknown Zone for element',a),0)}function k(a){return(-1!==a.className.indexOf('adzerk')||-1!==a.id.indexOf('adzerk')||0===a.id.indexOf('dfp-'))&&!h(a)}function l(a){return a.reduce(function(a,b){return b.prefilled?a|b.zone:a},0)}function m(a){var b=a.map(function(a){return{element:a,zone:j(a),prefilled:k(a)}}),c=[{zones:b}],d=h()||b.filter(function(a){return 8===a.zone||16===a.zone}).every(function(a){return!a.prefilled});if(d){var e={zones:b.map(function(a){switch(a.zone){case 8:return w({},a,{zone:0});case 16:return w({},a,{zone:4});default:return a;}})};c.push(e)}return c}function n(a){O.log('Placing ads after '+a+'ms');var b=i(),c=m(b),d={};if(ba('hireme')&&((M.clc_request||M.clcfl_request)&&(d.omni=M.clc_request||M.clcfl_request),d.lw=a,d.zc=c.map(function(a){var b=a.zones;return b.reduce(function(a,b){return a|b.zone},0)}).filter(function(a){return 0!==a}).join(';'),d.pf=c.reduce(function(a,b){return a|l(b.zones)},0),d.zc!==d.pf.toString())){!U||(d.fb=U);var e=f(location.hash.substr(1)),h=o(e);O.log('overrides:',h),w(d,h),X=c.reduce(function(a,b){return b.zones.forEach(function(b){0<b.zone&&(a[b.zone]=b)}),a},{}),O.log('pendingZones',X),la=ca();var j=g(d),k=Q+'?'+j;O.log('Loading: '+k),r(k)}}function o(b){var c=/^ads:/,d=a.overrides?Object.keys(a.overrides).reduce(function(b,d){return b[c.test(d)?d:'ads:'+d]=a.overrides[d],b},{}):{};for(var e in b)0===e.indexOf('ads:')&&(d[e]=b[e]);return d}function p(a,c,d){var e=_(a);if(null===e)return function(){};var f=ca(),g=setInterval(function(){b(e)&&(clearInterval(g),d(ca()-f))},c);return function(){return clearInterval(g)}}function r(a,b,d,e){void 0===b&&(b=!0),void 0===d&&(d=!0),void 0===e&&(e=null);var f=c('script',function(c){c.src=a,c.async=d;var f=!1;c.onreadystatechange=c.onload=function(){if(!f){var a=c.readyState;a&&'loaded'!==a&&'complete'!==a||(f=!0,e&&e(c),b&&(c.parentNode||c.parentElement)&&(c.parentNode||c.parentElement).removeChild(c))}}});$.body.appendChild(f)}function q(a){var b='stylesheet';/\.less$/.test(a)&&(b+='/less',ma&&setTimeout(s,10));var d=c('link',function(c){c.rel=b,c.href=a,c.type='text/css'});$.head.appendChild(d),ma||(M.less=M.less||{},M.less.sheets=M.less.sheets||[],M.less.sheets.push(d),'function'==typeof M.less.refresh&&M.less.refresh())}function s(){ma&&(O.log('Less needed. Adding...'),M.less={env:'development',relativeUrls:!0},r('https://unpkg.com/less@2.7.2/dist/less.min.js'))}function t(a){return Object.keys(a.zones).some(function(b){return!!a.zones[b].az})}function u(a,b,c){c.cn?(O.log('loading in-house ad content into zone '+a,b),G(b,c),F(b,'mousedown',B),F(b,'click',C)):c.az?(O.log('loading adzerk into zone '+a,b),A(b,c.az)):O.log('don\'t know what to do for zone '+a,b)}function v(){return[].map.call(aa('.post-taglist .post-tag'),function(a){return a.textContent})}function x(a){var b=M.ados||(M.ados={});b.run=b.run||[],b.run.push(a)}function y(a){return a.replace(/^\||\|$/g,'').replace(/\|/g,',')}function z(a){na||(x(function(){setTimeout(function(){a=a?y(a):v().map(Y).join(','),O.log('setting adzerk tags: '+a),ados_setKeywords(a),O.log('ados_load()'),ados_load()},0)}),setTimeout(function(){r('https://static.adzerk.net/ados.js')},0),na=!0)}function A(a,b){x(function(){var c=b.s,d=b.z,e=b.w,f=a.getAttribute('id');if(!f)return void O.log('adzerk can\'t load into element as it has no id attribute',a);try{var g=1<c.length?c:c[0];O.log('ados_add_placement(22, '+e+', \''+f+'\', '+JSON.stringify(g)+').setZone('+d+');'),ados_add_placement(22,e,f,g).setZone(d)}catch(a){O.warn('Error: '+a)}})}function B(a){var b=D(a);if(null!=b){var c=E(b);c.click&&!c['meta-target']&&(b.href=c.click)}}function C(a){var b=D(a);if(null!=b){var c=E(b);if(c.click&&c['meta-target']){a.preventDefault();var d=c['meta-target'];if(0<=d)return void O.log('***Error*** meta-target found with value >= 0',b);var e=oa[d];'function'==typeof e&&e(a,b,function(a,b){return I(c.click,'',a,b)})}}}function D(a){for(var b=a.target;'A'!==b.tagName&&b!==a.currentTarget;)b=b.parentNode;return b===a.currentTarget?null:b}function E(a){return[].filter.call(a.attributes,function(b){return /^data-clc-/.test(b.name)}).reduce(function(a,b){return a[b.name.replace(/^data-clc-/,'')]=b.value,a},{})}function F(a,b,c){var d='on'+b;a.addEventListener?a.addEventListener(b,c):a.attachEvent?a.attachEvent(d,c):a[d]=c}function G(a,b){var c=b.cl,e=b.cn;c&&c.forEach(function(b){return d(a,b)}),a.style.minHeight=null;var f=ca()-la;a.innerHTML=e.replace('&md=0','&md='+(f||0))}function H(a,b,c,d,e){var f=new XMLHttpRequest,g=f.setRequestHeader;f.open(a,b,!0),g.call(f,'Content-Type','application/x-www-form-urlencoded'),g.call(f,'Accept','application/json;q=0.9,*/*;q=0.8'),g.call(f,'X-Clc-Ajax','true'),f.withCredentials=!0,f.onreadystatechange=function(){4!==f.readyState||(200===f.status?d&&d(J(f)):(O.handleResponseError(f),e&&e(f.status,f.responseText,f)))},c?('[object Object]'===Object.prototype.toString.call(c)&&(c=Object.keys(c).map(function(a){return Y(a)+'='+Y(c[a])}).join('&')),f.send(c)):f.send()}function I(a,b,c,d){return H('POST',a,b,c,d)}function J(a){var b=a.getResponseHeader('content-type');return b?(b=b.substr(0,b.indexOf(';')),'application/json'===b?JSON.parse(a.responseText):a.responseText):a.responseText}function K(a,b){for(var d=a.parentNode;'LI'!==d.tagName;)d=d.parentNode;if(d=d.querySelector('.job-wrap'),!!d){var e=c('div',function(a){a.className='clc-dismissed-overlay hidden',a.innerHTML=b.content});d.appendChild(e);var f=function(){e.className='clc-dismissed-overlay'};'function'==typeof M.requestAnimationFrame?M.requestAnimationFrame(f):setTimeout(f,20)}}function L(a){for(;-1===a.className.indexOf('clc-dismissed-overlay');)a=a.parentNode;return a.className='clc-dismissed-overlay hidden',setTimeout(function(){for(var b=a;'LI'!==b.tagName;)b=b.parentNode;if(b=b.querySelector('.clc-dismiss'),b){b.style.display='';var c=b.querySelector('.clc-tooltip');c.style.display=''}a.parentNode.removeChild(a)},210),!1}var M=window,w=Object.assign||function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];for(var d,e=0,f=b.length;e<f;++e)for(var g in d=b[e],d)Object.prototype.hasOwnProperty.call(d,g)&&(a[g]=d[g]);return a},N=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b},O={log:M.console.log.bind(M.console,'[clc]'),warn:M.console.warn.bind(M.console,'[clc]'),error:M.console.error.bind(M.console,'[clc]'),handleResponseError:function(a){try{var b=c('div',function(a){w(a.style,{position:'fixed',left:'0',right:'0',top:'0',bottom:'0',backgroundColor:'rgba(0, 0, 0, 0.4)',zIndex:1e4})});document.body.appendChild(b);var d=c('div',function(a){w(a.style,{width:'50%',margin:'100px auto',padding:'1em',background:'#fff',boxShadow:'0 0 10px rgba(0, 0, 0, 0.2)',borderRadius:'5px'})});b.appendChild(d);var e=a.responseText;if(0===e.indexOf('<!DOCTYPE')){var f=c('iframe',function(a){a.src='about:blank',w(a.style,{width:'100%',height:'600px'})});d.appendChild(f);var g=f.contentDocument;g.open(),g.write(e),g.close()}else d.innerHTML=e}catch(a){O.error(a)}}};O.log('loading clc');a.options=w({lib:null,u:null,wa:!0,kt:2e3,tto:!0,h:null,allowed:'.*',wv:!0,al:!1},a.options||{}),a.overrides=a.overrides||{};var P=a.options.kt,Q=a.options.u,R=a.options.wa,S=a.options.tto,T=a.options.h,U=a.options.fb,V='[id^=adzerk].everyonelovesstackoverflow',W='[id^=dfp].everyonelovesstackoverflow',X=null;a.cmd=a.cmd||[];var Y=encodeURIComponent,Z=decodeURIComponent,$=M.document,_=function(a){return $.querySelector(a)},aa=function(a){return $.querySelectorAll(a)},ba=function(a){return $.getElementById(a)},ca=function(){return new Date().getTime()},da=function(a){return a.replace(/^\s+|\s+$/g,'')},ea=function(a){return'string'==typeof a},fa=function(){return aa(V)},ga=function(){return aa(W)},ha=function(){return fa().length},ia=function(){return ga().length},ja={"clc-tlb":function(){return 1},"clc-mlb":function(){return 2},"clc-tsb":function(){return 8},hireme:function(){return-1===location.hostname.indexOf('codinghorror')?16:128}},ka={question:1,answers:2,sidebar:8},la=0;a.addScript=r,a.addScripts=function(a,b,c){void 0===b&&(b=!0);var d=a.length;a.forEach(function(a){r(a,!1,!1,function(){d--,0===d&&c()})})},a.load=function(){var a=ha(),d=ia();if(O.log('# of adzerk placements: '+a),O.log('# of dfp slots: '+d),0===a&&0===d)return void n(0);var e='#sidebar '+V+', #sidebar '+W,f=function(){};R?f=p(e,20,n):n(0),setTimeout(function(){var a=_(e);return(O.log('checking for content in',a,', selector: '+e),b(a))?void O.log('-> has content, aborting kill timeout'):void(f(),S&&(O.log('sending adzerk timed out request [after '+P+'ms]'),$.body.appendChild(c('img',function(a){a.src='https://'+T+'/timeout.gif',a.style.display='none'}))))},P)};var ma=!M.less;a.addStyle=q,a.place=function(a){if(O.log('placing response',a),O.log('pendingZones',X),null===X)return void O.log('no pending zones - ignoring response');if(a.st&&0<a.st.length&&(O.log('adding '+a.st.length+' styles'),a.st.forEach(q)),O.log('pending zones:',X),a.disp&&0<a.disp.length){var b=a.disp.map(function(a){return X[a]}).filter(function(a){return!!a}).map(function(a){return a.element.id});0<b.length&&window.clc.loadDisplayAds(b)}Object.keys(X).forEach(function(b){var c=parseInt(b,10),d=X[c];if(!d.prefilled){var e=a.zones[d.zone];e?u(d.zone,d.element,e):O.log('zone',d.zone,'not filled')}});try{t(a)&&z(a.tags)}catch(a){O.warn('Error: '+a)}e(document,'clc:ads-loaded')};var na=!1;f(location.hash?location.hash.substr(1):'',a.options);var oa=(pa={},pa[-1]=function(a,b,c){var d=a.target;if(-1===d.className.indexOf('error')){var e=d.querySelector('.clc-tooltip');e.style.display='none',d.className='clc-dismiss spinner',c(function(a){d.className='clc-dismiss',d.style.display='none',K(d,a)},function(){d.className='clc-dismiss error',d.title='Oops! Something went wrong. Don\'t worry, our best people are on it!'})}},pa[-2]=function(a,b,c){var d=a.target,e=d.parentNode.querySelector('.clc-spinner');-1!==e.className.indexOf('error')||(e.className='clc-spinner',c(function(){e.className='clc-spinner hidden',L(d)},function(){for(var a=d;-1===a.className.indexOf('clc-dismissed-overlay');)a=a.parentNode;a.className+=' error',a.innerHTML='<div>Oops! Something went wrong. Don\'t worry, our best people are on it!</div>'}))},pa);a.cmd.forEach(function(b){return b(a)}),a.cmd.length=0;var pa})(clc||(clc={}));