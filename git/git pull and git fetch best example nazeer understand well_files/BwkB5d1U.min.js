window.Demandbase=window.Demandbase||{},window.Demandbase.Config=window.Demandbase.Config||{},window.Demandbase.Config={clientId:"BwkB5d1U",key:"bbcf58a73a5204bb9615ac78df2f1b8d28193c98",nonCompanyDefault:null,nonWatchDefault:null,getDomain:null,conditions:null,segments:null,ads:{pixels:{ad:"1454097219",rt:"1454097268",cn:null}},analytics:{fieldMap:null},isFormPage:null,forms:{key:null,companyID:null,emailID:null,fieldMap:null,toggleFieldList:null,priorityMap:null,fieldPrefix:null,fieldSuffix:null,formNameList:null,autocompletePlaceholder:null}},void 0===window.console&&(window.console={log:function(){},debug:function(){}}),void 0===window.localStorage&&(window.localStorage={getItem:function(){},setItem:function(){}}),"undefined"==typeof JSON&&(JSON={stringify:function(){},parse:function(){}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var n=this.length>>>0,t=Number(arguments[1])||0;for(t=t<0?Math.ceil(t):Math.floor(t),t<0&&(t+=n);t<n;t++)if(t in this&&this[t]===e)return t;return-1}),"function"!=typeof Object.assign&&(Object.assign=function(e,n){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var a=arguments[i];if(null!=a)for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(t[o]=a[o])}return t}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,n=!{toString:null}.propertyIsEnumerable("toString"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=t.length;return function(a){if("object"!=typeof a&&("function"!=typeof a||null===a))throw new TypeError("Object.keys called on non-object");var o,s,r=[];for(o in a)e.call(a,o)&&r.push(o);if(n)for(s=0;i>s;s++)e.call(a,t[s])&&r.push(t[s]);return r}}()),Array.prototype.some||(Array.prototype.some=function(e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError;for(var n=Object(this),t=n.length>>>0,i=arguments.length>=2?arguments[1]:void 0,a=0;a<t;a++)if(a in n&&e.call(i,n[a],a,n))return!0;return!1}),function(e){function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t={};n.m=e,n.c=t,n.p="/dist/scripts",n(0)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(1),a=t(3);window.Demandbase.Config=window.Demandbase.Config||{},window.Demandbase.Config.hooks=window.Demandbase.Config.hooks||{},window.Demandbase.Config.analytics=window.Demandbase.Config.analytics||{},window.Demandbase.Config.tokens=window.Demandbase.Config.tokens||{},window.Demandbase.Connectors=window.Demandbase.Connectors||{},window.Demandbase.utils={name:"Demandbase API Utilities",version:"2.0",logging:window.Demandbase.Config.logging||!1,debug:window.Demandbase.Config.debug||!1,callbackStack:[],callback:function(e){try{var n=window.Demandbase.utils.callbackStack;window.Demandbase.utils.log("Running Demandbase.utils.callback");for(var t in n){var i=n[t];"function"==typeof i&&(i.call(window.Demandbase,e),this.log("Running callback..."))}}catch(e){window.Demandbase.utils.alert("Error: "+e+"\n"+e.stack)}},registerCallback:function(e){try{var n=window.Demandbase.utils.callbackStack,t=window.Demandbase.IP.CompanyProfile;n.indexOf(e)==-1&&n.push(e),t&&e.call(window.Demandbase,t)}catch(e){window.Demandbase.utils.alert("Error: "+e+"\n"+e.stack)}},flattenData:function(e){for(var n in e)if("object"==typeof e[n]&&null!==e[n]&&e.hasOwnProperty(n)){for(var t in e[n])e[n+"_"+t]=e[n][t];delete e[n]}return e},buildApiParamString:function(e){var n={referrer:document.referrer,page:document.URL,page_title:document.title};if(window.Demandbase.Config.isInIFrame){n.page=document.referrer;try{n.referrer=window.top.document.referrer,n.page_title=window.top.document.title}catch(e){n.referrer=null,n.page_title="3rd Party iFrame"}}return n=Object.assign(n,e),this.buildQueryString(n)},buildApiUrl:function(e,n){var t=e||this.tokens.URL_IP_API;return t+=this.buildApiParamString(n),this.ect&&(t+=this.ect.buildParamString()),t},buildQueryString:function(e){var n="?";for(var t in e)e.hasOwnProperty(t)&&(n+=t+"="+encodeURIComponent(e[t])+"&");return n=n.substring(0,n.length-1)},getAttrValue:function(e,n){var t={city:"registry_city",state:"registry_state",zip:"registry_zip_code",country:"registry_country_code",country_name:"registry_country",latitude:"registry_latitude",longitude:"registry_longitude"},i=window.Demandbase.Config.nonCompanyDefault||window.Demandbase.utils.tokens.DFLT_NON_COMPANY,a=window.Demandbase.Config.emptyWatchDefault||window.Demandbase.utils.tokens.DFLT_AW_EMPTY,o=t[n]||"",s=e[n]||e[o]||i,r=(e.company_name||i)!==i,d=Object.keys(e).some(function(e){return 0===e.indexOf("watch_list_")});return e[n]===!1?"false":(n.indexOf("watch_list_")!==-1&&r&&(d||(a=window.Demandbase.Config.nonWatchDefault||window.Demandbase.utils.tokens.DFLT_NON_AW),s=e[n]||a),s)},getElementByIdOrName:function(e){var n=null;return e&&((n=document.getElementById(e)||null)||(n=document.getElementsByName(e)[0]||null)),n},getQueryParam:function(e){var n={},t=window.location.search.substring(1),i=t.split("&");if(!t)return"";for(var a=0;a<i.length;a++){var o=i[a].split("="),s=o[0],r=o[1];n[s]=r}return n[e]||""},isCurrentPage:function(e,n){function t(e){return 0===e.indexOf("//")?e.substring("//".length,e.length):e.replace(/^.*?:\/\//g,"")}function i(e){return e.replace(/^(www\.)/g,"")}function a(e){return e.indexOf(o,e.length-o.length)!==-1&&(e=e.substring(0,e.length-1)),e.indexOf("/",e.length-"/".length)!==-1&&(e=e.substring(0,e.length-1)),e}var o="#",s=document.location.hash,r=document.location.search,d=document.location.href;if(window.Demandbase.Config.isInIFrame&&(d=document.referrer),n){var l=n.indexOf(o);l===-1&&(l=n.length),s=n.substring(n.indexOf(o),n.length),r=n.substring(n.indexOf("?"),l),d=n}return e=t(e),e=i(e),e=a(e),d=t(d),d=i(d),d=a(d),e.indexOf(o)===-1&&d.indexOf(o)!==-1&&(d=d.substring(0,d.length-s.length)),e.indexOf("?")===-1&&d.indexOf("?")!==-1&&(d=d.substring(0,d.length-r.length)),(d=a(d))===e},isFormPage:function(){var e=window.Demandbase.Config.forms.emailFields||[];window.Demandbase.Config.forms.emailID&&e.push(window.Demandbase.Config.forms.emailID);for(var n=0;n<e.length;n++){if(this.getElementByIdOrName(e[n]))return!0}return!1},jqid:function(e){return e?"#"+e.replace(/(:|\.|\[|\]|,)/g,"\\$1"):null},alert:function(e){this.log(e)},log:function(e){(void 0!==window.console&&(this.logging||"true"===this.getQueryParam(window.Demandbase.utils.tokens.QS_ENABLE_LOG))||window.Demandbase.Config.logging)&&window.console.log("DB: "+e)},readCookie:function(e,n){return n=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)"),n?n.pop():""},writeCookie:function(e,n,t,i,a,o){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var s="";if(t)switch(t.constructor){case Number:s=t===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+t;break;case String:s="; expires="+t;break;case Date:s="; expires="+t.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+s+(a?"; domain="+a:"")+(i?"; path="+i:"")+(o?"; secure":""),!0},loadDebugFile:function(){this.loadScript(this.tokens.URL_DEBUG_FILE,"db_debug_lib"),this.log("Loaded Debug library...")},loadScript:function(e,n,t){if(!e)return void this.log("URL not provided.");if(window.Demandbase._loadedScripts=window.Demandbase._loadedScripts||{},!window.Demandbase._loadedScripts[e]){window.Demandbase._loadedScripts[e]=!0;var i=document.createElement("script"),a=document.getElementsByTagName("script")[0],o="https:"==document.location.protocol?"https:":"http:";i.async=!0,void 0!==n&&n&&(i.id=n),0==e.indexOf("//")?e=o+e:0!==e.indexOf("http:")&&0!==e.indexOf("https:")&&(e=o+"//"+e),i.src=e,a.parentNode.insertBefore(i,a),this.log("Loaded: "+e)}},loadFormModule:function(e){if("function"==typeof window.Demandbase.Config.isFormPage?window.Demandbase.Config.isFormPage():window.Demandbase.utils.isFormPage()){var n=this.tokens.URL_FORM_MODULE;void 0!==e&&void 0!==e.debug&&e.debug&&(n=this.tokens.URL_FORM_MODULE_DEBUG),void 0!==window.MktoForms2&&void 0!==window.MktoForms2.whenReady?MktoForms2.whenReady(function(e){window.Demandbase.utils.loadScript(n,"db_form_module")}):this.loadScript(n,"db_form_module"),window.Demandbase.Connectors.initWebForm=function(e){var n=e||window.Demandbase.Config.forms||{};window.Demandbase.Connectors.WebForm.connect(n)}}},events:{add:function(e){try{var n=!0;if(!this.isValid(e))return window.Demandbase.utils.log("Event not added."),!1;var t=e.type||window.Demandbase.utils.tokens.DFLT_EVENT_TYPE,i=e.elements,a=i.constructor;if(a!==HTMLCollection&&a!==NodeList)return this._attachListener(e.elements,t,e.listener);for(var o in i){i.hasOwnProperty(o)&&(this._attachListener(i[o],t,e.listener)||(n=!1,window.Demandbase.utils.log("Event not added to"+i[o])))}return n}catch(e){window.Demandbase.utils.alert("Error: "+e+"\n"+e.stack)}},_attachListener:function(e,n,t){try{var i=!1;return e?(void 0!==window.Demandbase.jQuery&&e instanceof window.Demandbase.jQuery?(void 0!==e.on?(e.on(n,t),i=!0):(e.bind(n,t),i=!0),i&&(window.Demandbase.utils.log("Event Listener bind to: "+e+" on event "+n),e.attr("demandbase_event",!0))):(e.addEventListener?(e.addEventListener(n,function(){t.call()},!1),window.Demandbase.utils.log("Event Listener added to: "+e+" on event "+n),i=!0):e.attachEvent?(e.attachEvent(n,function(){t.call()}),window.Demandbase.utils.log("Event Attached to: "+e+" on event "+n),i=!0):window.Demandbase.utils.log("ERROR: no event attached to element: "+e),i&&"function"==typeof e.setAttribute&&e.setAttribute("demandbase_event",!0)),i):(window.Demandbase.utils.log("Event not registered - invalid element/s."),null)}catch(e){window.Demandbase.utils.alert("Error _attachListener: "+e+"\n"+e.stack)}},isValid:function(e){for(var n=!1,t=["elements","listener"],i=e.elements||null,a=e.listener||null,o=window.Demandbase.utils,s=0;s<t.length;s++)if(void 0===e[t[s]]||!e[t[s]])return o.log("Invalid Event object. Missing: "+t[s]),!1;return"function"!=typeof a?(o.log('Invalid Event: "listener" must be a function. Got ('+a+")"),!1):(i instanceof Node||i instanceof NodeList||i instanceof HTMLElement||i instanceof HTMLCollection||i instanceof Window||i instanceof Document||"function"==typeof i||void 0!==window.Demandbase.jQuery&&i instanceof window.Demandbase.jQuery?n=!0:o.log("Invalid Event:  element: "+i+' has type: "'+i.constructor+'" which is not proper instance type.'),n)}},tokens:{ERR_NO_AUTH_KEY:"ERR_NO_AUTH_KEY",ERR_NO_PIXEL_ID:"ERR_NO_PIXEL_ID",QS_USE_TEST_IP:"db_useTestIp",QS_USE_TEST_DOMAIN:"db_useTestDomain",QS_QUERY_IP:"db_ip",QS_QUERY_DOMAIN:"db_domain",QS_ENABLE_LOG:"db_logging",QS_ENABLE_DEBUG:"db_debug",QS_ENABLE_TEST_MODE:"db_testMode",TEST_MODE_NAME:"dbtme",DFLT_NON_COMPANY:"(Non-Company Visitor)",DFLT_AW_EMPTY:"(AccountWatch Empty)",DFLT_NON_AW:"(Non-AccountWatch Visitor)",DFLT_EVENT_TYPE:"click",URL_FORM_MODULE:"scripts.demandbase.com/forms.min.js",URL_FORM_MODULE_DEBUG:"scripts.demandbase.com/forms.js",URL_IP_API:"api.demandbase.com/api/v2/ip.json",URL_DOMAIN_API:"api.demandbase.com/api/v1/domain.json",URL_AD_PIXEL:window.Demandbase.Config.tokens.URL_AD_PIXEL||"d.company-target.com/pixel?type=js&id=",URL_DEBUG_FILE:function(){return document.location.protocol+"//scripts.demandbase.com/"+window.Demandbase.Config.clientId+".js"}(),URL_TEST_FILE:function(){return document.location.protocol+"//tag.demandbase.com/clients/"+window.Demandbase.Config.clientId+"/"+window.Demandbase.Config.clientId+".js"}(),URL_CURRENT:function(){var e=document.URL;return window.Demandbase.Config.isInIFrame&&(e=document.referrer),e=encodeURIComponent(e)}(),PROTOCOL:function(){return"https:"==document.location.protocol?"https://":"http://"}()},detectIFrame:function(){return window.top!==window.self}},window.Demandbase.IP={name:"Demandbase IP API Wrapper",key:window.Demandbase.Config.key||window.Demandbase.Config.analytics.key||window.Demandbase.Config.ads.key||window.Demandbase.Config.forms.key||window.Demandbase.utils.tokens.ERR_NO_AUTH_KEY,CompanyProfile:null,isCalled:!1,useTestValue:window.Demandbase.utils.getQueryParam(window.Demandbase.utils.tokens.QS_USE_TEST_IP)||window.Demandbase.Config.useTestIp||!1,testValue:window.Demandbase.utils.getQueryParam(window.Demandbase.utils.tokens.QS_QUERY_IP)||window.Demandbase.Config.testIp||"No Test IP Set",_callback:function(e){if(e)try{var n=window.Demandbase.utils,t=n.flattenData(e);window.Demandbase.IP.CompanyProfile=t,n.callback(t),void 0===window.Demandbase.Connectors.WebForm&&void 0!==window.Demandbase.Config.forms&&n.loadFormModule({debug:window.Demandbase.Config.debug||window.Demandbase.Config.forms.debug||!1})}catch(e){window.Demandbase.utils.alert("IP API Error: "+e+" : "+e.stack)}},load:function(e,n){var t=window.Demandbase.utils;if(this.key==t.tokens.ERR_NO_AUTH_KEY&&void 0===e)return void t.log("IP API query cancelled - check auth key.");var i={},a="",o=void 0!==e?e:this.key,s=void 0!==n&&n===!1?window.Demandbase.Ads.track:window.Demandbase.IP._callback;this.useTestValue?a=this.testValue:t.ect&&t.ect.values&&t.ect.values.ip&&(a=t.ect.values.ip),i={key:o,query:a},t.log("Calling IP API...");var r=new XMLHttpRequest;r.onreadystatechange=function(){4==this.readyState&&200==this.status&&s(JSON.parse(this.responseText))},r.open("GET","https://"+t.buildApiUrl(t.tokens.URL_IP_API,i)),r.send()},_loadOnce:function(){if(this.isCalled)return void window.Demandbase.utils.log("IP API call blocked (already called, wait for callback)");this.isCalled=!0,this.load()}},window.Demandbase.Domain={name:"Demandbase Domain API Wrapper",key:window.Demandbase.Config.key||window.Demandbase.Config.analytics.key||window.Demandbase.Config.ads.key||window.Demandbase.Config.forms.key||window.Demandbase.utils.tokens.ERR_NO_AUTH_KEY,CompanyProfile:null,useTestValue:window.Demandbase.utils.getQueryParam(window.Demandbase.utils.tokens.QS_USE_TEST_DOMAIN)||window.Demandbase.Config.useTestDomain||!1,testValue:window.Demandbase.utils.getQueryParam(window.Demandbase.utils.tokens.QS_QUERY_DOMAIN)||window.Demandbase.Config.testDomain||"No Test Domain Set",_callback:function(e){try{var n=window.Demandbase.utils;if(!e.domain&&!e.person)return void window.Demandbase.utils.log("Demandbase.Domain: No company profile available for domain: "+this.getDomain());e=e.domain||e.person;n.flattenData(e);this.CompanyProfile=e}catch(e){window.Demandbase.utils.alert("Domain API Error: "+e+" : "+e.stack)}},load:function(){var e=window.Demandbase.utils;if("function"==typeof window.Demandbase.Config.getDomain&&this.key!==e.tokens.ERR_NO_AUTH_KEY){var n="",t={};n=this.useTestValue?this.testValue:this.getDomain(),t={key:this.key,callback:"Demandbase.Domain._callback",query:n},e.log("Calling Domain API..."),e.loadScript(e.buildApiUrl(e.tokens.URL_DOMAIN_API,t),"db_domain_api")}else window.Demandbase.utils.log("Domain API query cancelled - check auth key or Config.getDomain")},getDomain:function(e){try{return this.useTestValue?this.testValue:"function"==typeof window.Demandbase.Config.getDomain?window.Demandbase.Config.getDomain.call(window.Demandbase.Config):(window.Demandbase.utils.log("Warning: Config.getDomain fcn not defined."),"getVisitorDomain function is not defined")}catch(e){window.Demandbase.utils.alert("getDomain Error: "+e+" : "+e.stack)}}},function(){window.Demandbase.init=function(){var e=window.Demandbase.utils;if(void 0!==window.Demandbase.Config.enableTestMode&&window.Demandbase.Config.enableTestMode===!0&&"true"===e.readCookie(e.tokens.TEST_MODE_NAME)){var n="";if("true"===e.getQueryParam(e.tokens.QS_ENABLE_TEST_MODE)?(n=e.tokens.URL_TEST_FILE,e.log("Re-loading with TEST file...")):"true"===e.getQueryParam(e.tokens.QS_ENABLE_DEBUG)&&(n=e.tokens.URL_DEBUG_FILE,e.log("Re-loading DEBUG file...")),n)throw e.writeCookie(e.tokens.TEST_MODE_NAME,"false",86400,"/"),e.loadScript(n),window.Demandbase={},new Error("Tag load halted. Entering TEST MODE (no error).");e.log("Set qs param to enable TEST or DEBUG mode. Loading as normal...")}if(window.Demandbase.Connectors.Google_TagManager=new a.Google_TagManager,window.Demandbase.Config.disableEctModule===!0?window.Demandbase.IP.load():(window.Demandbase.utils.ect=new i.ExtendedCompanyTargeting,window.Demandbase.utils.ect.read(),setTimeout(function(){window.Demandbase.IP._loadOnce()},window.Demandbase.Config.ectTimeout||200)),"function"==typeof window.Demandbase.Config.getDomain){window.Demandbase.Config.getDomain()&&window.Demandbase.Domain.load()}window.Demandbase._isInitialized=!0},null==window.Demandbase.Config.isInIFrame&&(window.Demandbase.Config.isInIFrame=window.Demandbase.utils.detectIFrame()),window.Demandbase.version="4.0.2"}(),function(){function e(e){window.Demandbase.utils.log("Setup callback extender..."),"function"==typeof window.Demandbase.Config.callback&&window.Demandbase.Config.callback.call(window.Demandbase,e),n.apply(window.Demandbase.utils,[e])}var n=window.Demandbase.utils.callback;window.Demandbase.utils.callback=e,void 0!==window.MktoForms2&&void 0!==window.MktoForms2.whenReady&&void 0!==window.Demandbase.Config.forms&&MktoForms2.whenReady(function(e){window.Demandbase.utils.loadFormModule({debug:window.Demandbase.Config.debug||window.Demandbase.Config.forms.debug||!1})})}(),window.Demandbase.init()},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=t(2),a=function(){function e(){return this.ORIGIN="//b.company-target.com",this.values={gpid:"",cid:"",sid:"",ip:"",impid:"",dmps:""},e.singleton||(e.singleton=this),e.singleton}return e.prototype.loadIFrame=function(){switch(window.addEventListener("message",this.iFrameCallback.bind(this),!1),document.readyState){case"uninitialized":case"loading":window.addEventListener("DOMContentLoaded",this.appendIFrame.bind(this),!1);break;case"loaded":case"interactive":case"complete":default:this.appendIFrame()}},e.prototype.appendIFrame=function(){if(!document.getElementById("db_ect")){var e=document.createElement("iframe");e.src=document.location.protocol+this.ORIGIN+"/ect.html",e.id="db_ect",e.height="0",e.width="0",e.style.display="none",document.body.appendChild(e)}},e.prototype.iFrameCallback=function(e){void 0!==e&&0===e.origin.indexOf(document.location.protocol+this.ORIGIN)&&(i.DataStorage.update({ssid:e.data.ssid,tuuid:e.data.tuuid}),this.read())},e.prototype.read=function(){var e=i.DataStorage.fetch();(!e.isStale()&&e.ssid&&e.tuuid||(this.loadIFrame(),e.ssid||e.tuuid))&&(this.parse(e.ssid,e.tuuid),window.Demandbase.IP._loadOnce())},e.prototype.parse=function(e,n){if(e){var t={gpid:0,cid:1,sid:2,ip:3,dmps:4},i=e.split("-");this.values.gpid=i[t.gpid]||"",this.values.cid=i[t.cid]||"",this.values.sid=i[t.sid]||"",this.values.ip=i[t.ip]||"",this.values.dmps=i[t.dmps]||""}n&&(this.values.impid=n)},e.prototype.buildParamString=function(){var e="";return(this.values.gpid||this.values.cid||this.values.dmps||this.values.ip||this.values.sid)&&(e+="&gpid="+encodeURIComponent(this.values.gpid)+"&cid="+encodeURIComponent(this.values.cid)+"&dmps="+encodeURIComponent(this.values.dmps)+"&tip="+encodeURIComponent(this.values.ip)+"&tsid="+encodeURIComponent(this.values.sid)),this.values.impid&&(e+="&impid="+encodeURIComponent(this.values.impid)),e},e}();n.ExtendedCompanyTargeting=a},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e){void 0===e&&(e={}),this.ssid=e.ssid||null,this.tuuid=e.tuuid||null,this.createdAt=e.createdAt||new Date,this.updatedAt=e.updatedAt||new Date}return e.fetch=function(){return this.fromJSON(localStorage.getItem("DemandbaseDataStorage")||"{}")},e.fromJSON=function(n){void 0===n&&(n="{}");var t=JSON.parse(n),i=new Date,a=new Date;return t.createdAt&&(i=new Date(t.createdAt)),t.updatedAt&&(a=new Date(t.updatedAt)),new e({ssid:t.ssid,tuuid:t.tuuid,createdAt:i,updatedAt:a})},e.prototype.toJSON=function(){return JSON.stringify({ssid:this.ssid,tuuid:this.tuuid,createdAt:this.createdAt.toJSON(),updatedAt:this.updatedAt.toJSON()})},e.update=function(n){void 0===n&&(n={}),e.fetch().update(n)},e.prototype.update=function(e){void 0===e&&(e={}),this.ssid=e.ssid,this.tuuid=e.tuuid,this.updatedAt=new Date,this.save()},e.prototype.save=function(){localStorage.setItem("DemandbaseDataStorage",this.toJSON())},e.prototype.isStale=function(){var e=new Date((new Date).setDate((new Date).getDate()-30));return this.updatedAt<=e},e}();n.DataStorage=t},function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(){return this.DEFAULT_CONFIGURATION={enabled:!0},this.configuration={},e.singleton||(e.singleton=this,this.initialize()),e.singleton}return e.prototype.initialize=function(){Object.assign(this.configuration,this.DEFAULT_CONFIGURATION,window.Demandbase.Config.Google_TagManager),this.configuration.enabled&&window.Demandbase.utils.registerCallback(this.callback)},e.prototype.callback=function(e){window.Demandbase.Connectors.Google_TagManager.pushToDataLayer(e)},e.prototype.pushToDataLayer=function(e,n){if(!window.google_tag_manager||!window.dataLayer||"function"!=typeof dataLayer.push)return!1;var t=n?"_"+n:"";return dataLayer.push(e),dataLayer.push({event:"Demandbase_Loaded"+t}),window.Demandbase.utils.log("Pushed to GTM dataLayer"),!0},e}();n.Google_TagManager=t}]),function(e){function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t={};n.m=e,n.c=t,n.p="/dist/scripts",n(0)}([function(e,n){window.Demandbase.Ads={name:"Demandbase Ad Connector",version:"4.2.2",pixels:window.Demandbase.Config.ads.pixels||{},conversionTriggers:window.Demandbase.Config.ads.conversionTriggers||{},track:function(e){try{window.Demandbase.Ads._log("tracked.")}catch(e){window.Demandbase.utils.alert("Ads Error: "+e+"\n"+e.stack)}},trackConversion:function(){this._loadPixel("cn")},load:function(){try{this._setCampaign(),this.loadPixels(),this._setEvents(),window.Demandbase.utils.registerCallback(this.track),void 0!==window.Demandbase.Config.ads.reportingOnly&&window.Demandbase.Config.ads.reportingOnly===!0&&window.Demandbase.Config.ads.key!==window.Demandbase.IP.key&&window.Demandbase.IP.load(window.Demandbase.Config.ads.key,!1)}catch(e){window.Demandbase.utils.alert("Ads Error: "+e+"\n"+e.stack)}},loadPixels:function(){try{this._loadPixel("ad"),this.isConversionPage()?this.trackConversion():this._loadPixel("rt")}catch(e){window.Demandbase.utils.alert("Ads Error: "+e+"\n"+e.stack)}},isConversionPage:function(e){if(void 0!==this.conversionTriggers.pages){var n,t=window.Demandbase.utils;n=e?[e]:this.conversionTriggers.pages;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];if(t.isCurrentPage(a))return!0}}return!1},_loadPixel:function(e){var n=this.pixels[e]||window.Demandbase.utils.tokens.ERR_NO_PIXEL_ID;if(n&&n!==window.Demandbase.utils.tokens.ERR_NO_PIXEL_ID){var t=document.createElement("img"),i=document.getElementsByTagName("body")[0],a=window.Demandbase.utils;t.setAttribute("style","display:none"),t.setAttribute("alt","Demandbase pixel"),t.id="db_pixel_"+e,t.src=a.tokens.PROTOCOL+a.tokens.URL_AD_PIXEL+n+"&page="+a.tokens.URL_CURRENT,void 0!==i&&i||(i=document.getElementsByTagName("head")[0]),i.appendChild(t),this._log("Loaded Pixel "+t.src)}},_setCampaign:function(){if(void 0!==window.Demandbase.Config.ads.campaigns)for(var e=window.Demandbase.Config.ads.campaigns||[],n=window.Demandbase.utils,t=0;t<e.length;t++)for(var i=e[t],a=i.pages||[],o=0;o<a.length;o++)if(n.isCurrentPage(a[o]))return this.pixels=i.pixels,this.conversionTriggers=i.conversionTriggers,void this._log("Campaign set to: "+i.name)},_setEvents:function(){if(void 0!==this.conversionTriggers.events){var e=this.conversionTriggers.events||[];for(var n in e)if(e.hasOwnProperty(n)){var t=e[n];t.listener||(t.trackConversion?t.listener=function(){window.Demandbase.Ads.trackConversion()}:t.virtualPageview?t.listener=function(){window.Demandbase.Ads.loadPixels(),window.Demandbase.IP.load(void 0,!1)}:this._log("Define a listener function or set trackConversion or virtualPageview")),window.Demandbase.utils.events.add(t)}}else this._log("No events in conversionTriggers")},_log:function(e){window.Demandbase.utils.log("Ads: "+e)}},window.Demandbase.Ads.load()}]),function(e){function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t={};n.m=e,n.c=t,n.p="/dist/scripts",n(0)}([function(e,n){if(void 0===window.__db)var t={segments:null,conditions:null};window.Demandbase.DBCondition=function(e,n,t,i,a){this.name=e,this.attributeValue=n,this.operator=t,this.value=i,this.attributeName=a,this._checkValue=function(e){switch(t){case"equals":return this.attributeValue==e;case"not equals":return this.attributeValue!==e;case"contains":return this.attributeValue.indexOf(e)!==-1;default:return!1}},this.evaluate=function(){if(t=this.operator.toLowerCase(),t=window.Demandbase.DBCondition.prototype.supportedOperators[t],"object"==typeof this.value){for(var e in this.value)if(this._checkValue(this.value[e])===!0)return!0;return!1}return this._checkValue(this.value)}},window.Demandbase.DBCondition.prototype.name="DBCondition",window.Demandbase.DBCondition.prototype.supportedOperators={"=":"equals","==":"equals",equal:"equals",equals:"equals","!=":"not equals","!==":"not equals","not equal":"not equals","not equals":"not equals",contains:"contains",contain:"contains"},window.Demandbase.DBConditionBuilder={isValid:function(e){for(var n=["name","attributeValue","operator","value","attributeName"],t=0;t<n.length;t++)if(void 0===e[n[t]])return!1;return!0},build:function(e,n){try{if(void 0!==e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)return e;if(e.attributeName||(e.attributeName=e.attribute||"NO_ATTR_SET"),e.attributeValue=n[e.attribute]||"",!this.isValid(e))return null;var t=e.name,i=e.attributeValue,a=e.operator,o=e.value,s=e.attributeName;return new window.Demandbase.DBCondition(t,i,a,o,s)}catch(e){window.Demandbase.utils.log("DBConditionBuilder: "+e+"\n"+e.stack)}}};var i=function(e,n){this.name=e,this.rules=[],this.operator="",this.addCondition=function(e){if(!(e&&e.evaluate||void 0!==e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)){var e=window.Demandbase.DBConditionBuilder.build(e,window.Demandbase.Segments.CompanyProfile);if(!e)throw"Invalid Condition: "+e.name;window.Demandbase.utils.log("DBSegmentBuilder converted condition successfully...")}switch(this.rules.push(e),this.operator||i.prototype.supportedOperators.any){case"and":return this.value=this.value&&e.evaluate();case"or":return this.value=this.value||e.evaluate();default:return e.evaluate()}},this.value=this.addCondition(n)};i.prototype.name="DBSegment",i.prototype.supportedOperators={"&&":"and","&":"and",and:"and","||":"or","|":"or",or:"or",any:"or",all:"and"},window.Demandbase.DBSegmentBuilder={isValid:function(e){for(var n=["name","operator","rules"],t=0;t<n.length;t++)if(void 0===e[n[t]])return!1;return"Array"===e.rules.constructor.name},build:function(e){try{if(!this.isValid(e))return null;var n,t=e.name,a=e.rules[0],o=e.operator;if(a){if(n=new i(t,a),n.operator=i.prototype.supportedOperators[o]||i.prototype.supportedOperators.any,e.rules.length>1)for(var s=1;s<e.rules.length;s+=1){var a=e.rules[s];if(void 0===a.constructor.prototype.name||"DBCondition"!==a.constructor.prototype.name){var r=window.Demandbase.DBConditionBuilder.build(a,void 0);r&&(a=r)}n.addCondition(a)}return n}}catch(e){window.Demandbase.utils.log("DBSegmentBuilder: "+e+"\n"+e.stack)}}},window.Demandbase.Segments=window.Demandbase.Segments||{name:"Demandbase Segments",CompanyProfile:null,AccountWatchVisitor:!1,IsCompany:!1,version:"1.2.2",_debug:window.Demandbase.utils.debug||!1,_allConditions:window.Demandbase.Config.conditions||t.conditions||[],_allSegments:window.Demandbase.Config.segments||t.segments||[],_isInitialized:!1,_setup:function(){try{this._isInitialized&&this._reset(),this.CompanyProfile||!window.Demandbase.IP&&!window.Demandbase.Domain||(this.CompanyProfile=window.Demandbase.IP.CompanyProfile||window.Demandbase.Domain.CompanyProfile||{}),"Detailed"===this.CompanyProfile.information_level&&(this.IsCompany=!0);for(var e in this.CompanyProfile)this.CompanyProfile.hasOwnProperty(e)&&0===e.indexOf("watch_list_")&&(this.AccountWatchVisitor=!0);for(var n in this._allConditions)this._allConditions.hasOwnProperty(n)&&this._allConditions[n]&&(void 0===this._allConditions[n].constructor.prototype.name||"DBCondition"!==this._allConditions[n].constructor.prototype.name)&&this.add("condition",this._allConditions[n]);for(var t in this._allSegments)this._allSegments.hasOwnProperty(t)&&this._allSegments[t].name&&(void 0===this._allSegments[t].constructor.prototype.name||"DBSegment"!==this._allSegments[t].constructor.prototype.name)&&this.add("segment",this._allSegments[t])}catch(e){window.Demandbase.utils.alert("Segments: "+e+"\n"+e.stack)}},_reset:function(){this._allConditions=window.Demandbase.Config.conditions||t.conditions||[],this._allSegments=window.Demandbase.Config.segments||t.segments||[]},load:function(){try{window.Demandbase.utils.registerCallback(this.init)}catch(e){window.Demandbase.utils.alert("Segments: "+e+"\n"+e.stack)}},init:function(e){try{var n=window.Demandbase.Segments;n.CompanyProfile=e,n._setup(),n._isInitialized=!0}catch(e){window.Demandbase.utils.alert("Segments: "+e+"\n"+e.stack)}},getActiveSegments:function(){var e=[];for(var n in this._allSegments)this._allSegments.hasOwnProperty(n)&&this._allSegments[n].value&&e.push(this._allSegments[n]);return e},getInactiveSegments:function(){var e=[];for(var n in this._allSegments)this._allSegments.hasOwnProperty(n)&&(this._allSegments[n].value||e.push(this._allSegments[n]));return e},add:function(e,n){try{if(!e||!n||n=={})return window.Demandbase.utils.log("Demandbase.Segments.add operation failed due to invalid/empty parameters."),null;if("condition"===e){for(var t,a=this._allConditions.length,o=0;o<this._allConditions.length;o++)if(this._allConditions[o].name===n.name){a=o;break}if(t=window.Demandbase.DBConditionBuilder.build(n,this.CompanyProfile),t?this._allConditions[a]=t:window.Demandbase.utils.log("Invalid Condition (not created) from: "+JSON.stringify(n)),void 0===n.standalone||n.standalone!==!1){var s=n.name;this.add("segment",{name:s,rules:[s],operator:i.prototype.supportedOperators.any})}}else if("segment"===e){if("segment"!==this.isValid(n))return null;for(var r,d,l=(n.name,this._allSegments.length),u=n.rules||[],c=0;c<this._allSegments.length;c++)if(this._allSegments[c].name===n.name){l=c;break}for(var m=0;m<u.length;m++){var w=u[m];i.prototype.supportedOperators[w]||(i.prototype.supportedOperators[w]||(d=this.get("condition",w)),d?u[m]=d:window.Demandbase.utils.log("Segment: "+n+" uses a Condition ("+u[m]+") that is not defined."))}if(n.rules=u,r=window.Demandbase.DBSegmentBuilder.build(n))if(this._allSegments[l]=r,this.hasOwnProperty(r.name))this[r.name]=r;else try{Object.defineProperty(this,r.name,{value:r.value,writable:!0})}catch(e){window.Demandbase.Segments[r.name]=r.value}else window.Demandbase.utils.log("Invalid Segment (not created) from: "+JSON.stringify(n))}else window.Demandbase.utils.log('Invalid "type" parameter ('+e+') passed to "add" function.  Must be "segment" or "condition".')}catch(e){window.Demandbase.utils.alert("Segments: "+e+"\n"+e.stack)}},get:function(e,n){var t=[];if(1===arguments.length&&(n=e),"condition"===e){if(void 0!==n.constructor.prototype.name&&"DBCondition"===n.constructor.prototype.name)return n;t=this._allConditions}else{if(void 0!==n.constructor.prototype.name&&"DBSegment"===n.constructor.prototype.name)return n;t=this._allSegments}for(var a in t)if(this._allConditions[a].name===n)return this._allConditions[a]
;return i.prototype.supportedOperators[n]||window.Demandbase.utils.log('No item with type: "'+e+'" found with name: '+n),null},isValid:function(e){var n,t=["name","rules"],i=["name","attribute","operator","value"];if(!e)return!1;if(void 0!==e.constructor.prototype.name&&"DBSegment"===e.constructor.prototype.name)return"segment";if(void 0!==e.constructor.prototype.name&&"DBCondition"===e.constructor.prototype.name)return"condition";try{if(e.hasOwnProperty("name")&&e.hasOwnProperty("rules")){if("object"==typeof e.rules)return"segment"}else for(var a in t)if(!e.hasOwnProperty(t[a]))return window.Demandbase.utils.log('Invalid DBSegment definition.  Missing property:"'+t[a]+'"'),!1;if(n)return n;for(var a in i){if(!e.hasOwnProperty(i[a]))return window.Demandbase.utils.log('Invalid DBCondition definition.  Missing property:"'+i[a]+'"'),!1;n="condition"}return n}catch(e){return window.Demandbase.utils.alert("Segments: "+e+"\n"+e.stack),!1}}},window.Demandbase.Segments.load()}]),function(e){function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t={};n.m=e,n.c=t,n.p="/dist/scripts",n(0)}([function(e,n){window.Demandbase.Connectors.Google_Analytics={name:"Demandbase Universal Analytics Connector",fields:window.Demandbase.Config.analytics.fieldMap||{},CompanyProfile:null,gType:null,trackerName:"",track:function(e){try{if(!e)throw"Error - no data passed to callback";var n=window.Demandbase.Connectors.Google_Analytics;n.CompanyProfile=e,n._detectG(),n._setTrackerName();for(var t in n.fields)if(n.fields.hasOwnProperty(t)){var i=t,a=n.fields[t],o=window.Demandbase.utils.getAttrValue(e,a);n._var(i,a,o.toString())}n._cEvent("Demandbase","API Resolution","IP API")}catch(e){window.Demandbase.utils.alert("GA Error: "+e+"\n"+e.stack),window.Demandbase.Connectors.Google_Analytics._cEvent("Demandbase","API Resolution","Callback Error")}},load:function(){try{window.Demandbase.Config.analytics&&window.Demandbase.Config.analytics.fieldMap&&window.Demandbase.utils.registerCallback(this.track),this._setEvents()}catch(e){window.Demandbase.utils.alert("GA Error: "+e+"\n"+e.stack)}},_log:function(e){window.Demandbase.utils.log("GA: "+e)},_var:function(e,n,t){"ga"===this.gType?this._setCustomVariable(e,n,t):window.ga(function(){window.Demandbase.Connectors.Google_Analytics._setCustomDimension(e,t)}),this._log(e+" "+n+" : "+t)},_setCustomDimension:function(e,n){var t=this.trackerName?this.trackerName+".set":"set";window.ga(t,"dimension"+e,n)},_setCustomVariable:function(e,n,t){var i=this.trackerName?this.trackerName+"._setCustomVar":"_setCustomVar",a=window.Demandbase.Config.analytics.googleAnalyticsClassicScope||2;window._gaq.push([i,e>>0,n,t,a])},_cEvent:function(e,n,t){"ga"===this.gType?this._trackEvent(e,n,t):window.ga(function(){window.Demandbase.Connectors.Google_Analytics._sendEvent(e,n,t)}),this._log("Sent Custom Event:"+e+"/"+n+"/"+t)},_sendEvent:function(e,n,t){var i=this.trackerName?this.trackerName+".send":"send";window.ga(i,"event",{eventCategory:e,eventAction:n,eventLabel:t,nonInteraction:!0})},_trackEvent:function(e,n,t){var i=this.trackerName?this.trackerName+"._trackEvent":"_trackEvent";window._gaq.push([i,e,n,t,0,1])},_detectG:function(){window._gaq?(this.gType="ga",_gaq.push(["_addDevId","NE7T9"])):this.gType=null,this._setGaObject(),window.ga(function(){window.Demandbase.Connectors.Google_Analytics.gType="ua"}),this._log("Detected Google version: "+this.gType)},_setGaObject:function(){void 0===window.ga&&(window.GoogleAnalyticsObject="ga",window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date)},_setEvents:function(){var e=window.Demandbase.Config.analytics.events||[];if(e){var n=window.Demandbase.utils;for(var t in e)if(e.hasOwnProperty(t)){var i=e[t];if(i.data){var a=i.data.category||"",o=i.data.action||"",s=i.data.label||"";void 0===i.listener&&a&&o&&s?i.listener=function(){window.Demandbase.Connectors.Google_Analytics._cEvent(a,o,s),window.Demandbase.utils.log("Event listener ran....")}:a&&o&&s||this._log("Need to define a custom listener function or set data with category/action/label")}n.events.add(i)}}else this._log("No analytics events")},_setTrackerName:function(){var e=this;if(void 0!==window.Demandbase.Config.analytics.trackerName&&window.Demandbase.Config.analytics.trackerName)return void(this.trackerName=window.Demandbase.Config.analytics.trackerName);if(void 0!==window._gat&&"function"==typeof window._gat._getTrackers){var n=_gat._getTrackers();if(n.length>0){var t=n[0],i=t._getName()||"";this.trackerName=i}}else window.ga(function(){var n=window.ga.getAll()||[];if(n.length>0){var t=n[0],i=t.get("name")||"";e.trackerName=i}})}},window.Demandbase.Connectors.Google_Analytics.load()}]),function(e){function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t={};n.m=e,n.c=t,n.p="/dist/scripts",n(0)}([function(e,n){window.Demandbase.DBContent=function(e){this.name=e.name||"",this.modify=e.modify||function(){window.Demandbase.utils.log("DBContent: modify function not defined")},this.segments=e.segments||[],this.url=e.url||[],this.run=function(){try{var e=!1;for(var n in this.url)if(this.url.hasOwnProperty(n)){var t=this.url[n];window.Demandbase.utils.isCurrentPage(t)&&(e=!0)}if(e){var i=!1;for(var n in this.segments)if(this.segments.hasOwnProperty(n)){var a=this.segments[n],o=window.Demandbase.Segments[a];void 0!==o&&o&&(i=!0)}return i?(window.Demandbase.utils.log("DBContent: running modify function for: "+this.name),this.modify.call(document),!0):(window.Demandbase.utils.log("DBContent modify "+this.name+" not fired.  Segment "+a),!1)}return window.Demandbase.utils.log("DBContent modify "+this.name+" not fired. no URL match with: "+this.url),!1}catch(e){window.Demandbase.utils.alert("Content Error: "+e+"\n"+e.stack)}}},window.Demandbase.DBContentBuilder={isValid:function(e){if(!e)return!1;var n=["name","segments","pages","modify"];if("function"!=typeof e.modify)return window.Demandbase.utils.log("DBContentBuilder: invalid type in config."),!1;for(var t=0;t<n.length;t++)if(void 0===e[n[t]])return window.Demandbase.utils.log("DBContentBuilder: invalid config missing: "+n[t]),!1;return!0},build:function(e){try{return this.isValid(e)?("string"==typeof e.pages?e.url=[e.pages]:e.url=e.pages,"string"==typeof e.segments&&(e.segments=[e.segments]),new window.Demandbase.DBContent(e)):null}catch(e){window.Demandbase.utils.alert("DBContentBuilder: "+e+"\n"+e.stack)}}},window.Demandbase.Content={name:"Demandbase Content Personalization and Targeting Module",version:"0.55",mods:{},init:function(){try{window.Demandbase.utils.registerCallback(this._callback),this._setup()}catch(e){window.Demandbase.utils.alert("Content Error: "+e+"\n"+e.stack)}},modify:function(){try{var e=!1;for(var n in this.mods)if(this.mods.hasOwnProperty(n)){var t=this.mods[n],i=t.run();i&&(e=!0)}return e}catch(e){window.Demandbase.utils.alert("Content Error: "+e+"\n"+e.stack)}},_callback:function(){try{window.Demandbase.Content._setup(),window.Demandbase.Content.modify()}catch(e){window.Demandbase.utils.alert("Content Error: "+e+"\n"+e.stack)}},_setup:function(){if(void 0!==window.Demandbase.Config.content)for(var e in window.Demandbase.Config.content){var n=window.Demandbase.Config.content[e],t=window.Demandbase.DBContentBuilder.build(n);t&&(this.mods[t.name]=t)}}},window.Demandbase.Content.init()}]),function(e){function n(i){if(t[i])return t[i].exports;var a=t[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t={};n.m=e,n.c=t,n.p="/dist/scripts",n(0)}([function(e,n){"function"==typeof window.Demandbase.Config.onLoad&&window.Demandbase.Config.onLoad.call(window.Demandbase)}]);