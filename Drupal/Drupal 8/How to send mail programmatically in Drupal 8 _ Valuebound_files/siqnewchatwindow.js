!function(a){var e=function(t,e){this.$elem=a(t),this.dropobj=e,this.options=e.options};e.prototype={init:function(){this.setHeader(),this.setDropList(),this.bindEventHandlers(),this.$elem.addClass("sqico-drpdwn")},setHeader:function(){var t=this.dropobj;this.$elem.attr("dockeydown","dropdown").html('<em class="req" title="Mandatory"></em><a href="javascript:;" id="dropheader" purpose="'+t.purpose+'">'+t.defaultval+"</a>")},setDropList:function(){for(var t='<ul id="dropcontent">',e=this.options,i=e.length,n=this.dropobj.purpose,o=0;o<i;o++){var s=e[o],r=0!=s.isClient,a=getEscapedText(s.ID||s.value),l=getEscapedText(s.DNAME||s.text),d=getEscapedText(s.NAME||""),p="department"===n?this.getDeptStatusHTML(s):"";t+=r?'<li val="'+a+'" uniname="'+d+'">'+l+p+"</li>":""}this.$elem.append(t+"</ul>"),this.sortList()},sortList:function(){if("department"===this.dropobj.purpose){var t=this.$elem.find("ul"),e=t.find("li");e.sort(function(t,e){return parseInt(a(t).find("span").attr("status"))>parseInt(a(e).find("span").attr("status"))?1:-1}),t.empty().html(e)}},getDeptStatusHTML:function(t){var e=""+t.STATUS=="true"?$Support.DEPT_ONLINESTATUES:$Support.DEPT_OFFLINESTATUES,i="1"===(e=""+t.ENGAGED=="true"?$Support.DEPT_ENGAGESTATUES:e)?"department.status_"+e:"common.offline";return'<span class="desc deptst_'+e+'" status="'+e+'">'+LSResource.getRealValue(i)+"</span>"},getDeptName:function(t){for(var e=this.options,i=e.length,n=0;n<i;n++){var o=e[n];if(o.ID===t||o.value===t)return o.DNAME||o.text}},bindEventHandlers:function(){var o=this.$elem,s=this,r={department:function(t,e){$Support.Util.handleDeptChange(t,e)},customdrpdwn:function(t){$Support.Util.handleInputChange(t.parents('div[purpose="custom"]').attr("name"),t.attr("val"))}};o.on("click","a",function(t){if(!$Support.Util.isPreview()){var i=a(this).attr("val"),e=a("div.sqico-drpdwn");s.alignDropDown(),1<e.length&&e.removeClass("zindrp").find("ul").hide(),o.addClass("zindrp").find("ul").stop().slideToggle(350,function(){var t=a(this),e=t.find('li[val="'+i+'"]');t.css("overflow",""),e.length?e.addClass("atsel"):t.find("li:first-child").addClass("atsel"),t.is(":hidden")?o.removeClass("zindrp"):t.scrollTop(0)}),o.removeClass("errfield"),$Clickoutside.bindclick(function(){s.hideDropDown()},"dropcontent","dropheader")}}).on("click","li",function(t,e){var i=a(this).attr("val");o.children("a").attr("val",i).html(s.getDeptName(i)),s.hideDropDown(),$Support.Util.setTextareaHeight(),o.attr("val",i).removeClass("errfield");var n=r[s.dropobj.purpose];"function"==typeof n&&n(a(this),e)}).on("mouseenter","li",function(){o.find("li.atsel").removeClass("atsel"),a(this).addClass("atsel")}),$Support.contentdiv.on("scroll",function(){o.find("ul:visible").length&&s.alignDropDown()})},alignDropDown:function(){var t=this.$elem,e=t.children("a"),i=t.children("ul"),n=e.offset().top,o=e.outerHeight(),s=a("body").outerHeight();if(n+o+i.outerHeight()>s+$Support.contentdiv.scrollTop())return t.addClass("btmalign"),i.css({top:"auto",bottom:s-n,"z-index":"13"}),void i.find("li").removeClass("atsel");t.removeClass("btmalign"),i.css({bottom:"auto",top:n+o})},hideDropDown:function(){var t=this.$elem;t.find("ul").slideUp(function(){t.removeClass("zindrp")}).find("li.atsel").removeClass("atsel")}},a.fn.dropdown=function(t){return this.each(function(){new e(this,t).init()})}}(jQuery);var $Clickoutside={bindclick:function(){}};function getSource(e){return ie?window.event.srcElement:e.target}function getEventSourceId(e){return null!=(e=null==e?window.event:e).srcElement?e.srcElement.id:e.target.id}function isUndefined(e){return void 0===e}function getObjectSize(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t}function lsnocachefix(e,t){if("json"!=e)return e?"&nocache="+(new Date).getTime():"&"+_CFPARAMNAME+"="+getLDCSRFToken()+"&nocache="+(new Date).getTime();var n={};return n.nocache=(new Date).getTime(),!0!==t&&null!=t||(n[_CFPARAMNAME]=getLDCSRFToken()),n}function zeroUpFront(e){return 100<=e&&(e%=100),e<10&&(e="0"+(e=""+e)),e}function shrinkImage(e,t,n,r){var o={WIDTH:t,HEIGHT:e},i=[r/t,n/e];return 1<(i=Math.min(i[0],i[1]))?o:o={WIDTH:t*i,HEIGHT:e*i}}function getEncodedText(e){return e&&(e=(e=e.replace(/&#39;|&#x27;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&#x2F;/g,"/")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")),e}function getMemSize(e){return 1048576<e?getRoundedDecimals(100*e/1048576/100,2)+" MB":1024<e?getRoundedDecimals(100*e/1024/100,2)+" KB":getRoundedDecimals(e,2)+" Bytes"}function getRoundedDecimals(t,e){try{return t.toFixed(e)}catch(e){return t}}function processInput(e,t,n){if(!t)return t;switch(e){case"emailid":","==(t=t.replace(/(\s)|(\/)/g,"")).charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t.match(/@/g)&&t.match(/@/g).length<=1&&(t=t.replace(/,/g,"."));break;case"trimlength":n=n||100,t=t.substring(0,n)}return t}function getLDCSRFToken(){return $Support.getParent().$ZSIQCookie.get(_CFCNAME)}function getUnescapedText(e,t){if(isUndefined(e)||!t&&!isEncoded(e))return e;var n=$("<div></div>"),r=n.html(e).text();return n.remove(),r}function getEscapedText(e){return isEncoded(e)?e:$("<div/>").text(e).html()}function isEncoded(e){try{if(!/<|>/.test(e))return!0}catch(e){}return!1}function isPostMessageSupported(){try{return!!window.postMessage}catch(e){}return!1}util={optimizeFontForMozilla:function(e){var t="<FONT";if(-1!=e.indexOf(t)){var n=e.split(t);for(i=0;i<n.length;i++)n[i]=util.insertSpanForColor(n[i]);var r="";if(1<n.length)for(i=0;i<n.length;i++)r=0==i?n[i]:r+t+n[i];""!=r&&(e=r)}return e}};var Base64={PadChar:"=",samples:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",getB64:function(e,t){var n=Base64.samples.indexOf(e.charAt(t));if(-1==n)throw"Error";return n},atob:function(t){if(!t)return"";var n,r,o,i=t.length;if(0==i)return t;try{return window.atob(t)}catch(e){if(i%4!=0)throw"Error";n=0,t.charAt(i-1)==Base64.PadChar&&(n=1,t.charAt(i-2)==Base64.PadChar&&(n=2),i-=4);var a=[];for(r=0;r<i;r+=4)o=Base64.getB64(t,r)<<18|Base64.getB64(t,r+1)<<12|Base64.getB64(t,r+2)<<6|Base64.getB64(t,r+3),a.push(String.fromCharCode(o>>16,o>>8&255,255&o));switch(n){case 1:o=Base64.getB64(t,r)<<18|Base64.getB64(t,r+1)<<12|Base64.getB64(t,r+2)<<6,a.push(String.fromCharCode(o>>16,o>>8&255));break;case 2:o=Base64.getB64(t,r)<<18|Base64.getB64(t,r+1)<<12,a.push(String.fromCharCode(o>>16))}return a.join("")}}},CommonUtil={TZOFFSET:-1*(new Date).getTimezoneOffset(),toJSON:function(e){return Object.toJSON?Object.toJSON(e):JSON.stringify(e)},parseToJSON:function(t){try{if("object"==typeof t)return t;t=JSON.parse(t)}catch(e){t=$.parseJSON(t)}return t},getCaptcha:function(e){return null!=e?"<img src='/showcaptcha?digest="+e+"'></img>":null},isAllowPasteImage:function(){return this.isAllowFileSharing()&&/chrome/.test(navigator.userAgent.toLowerCase())},isAllowFileSharing:function(){return JSON.parse($Support.EmbedObj.eprops.icfile)&&Licence.verify("filesharing")},isAllowAssist:function(){return JSON.parse($Support.EmbedObj.eprops.isscreenshare)&&CommonUtil.isIntegratedPortal(LDINTEG_ZASSIST)&&Licence.verify("assistallowed")},isAudioCallAllowed:function(){return!$Support.isBotChat&&CommonUtil.isAudiocallEnabledFromPortal()&&JSON.parse($Support.EmbedObj.eprops.isaudiocall)&&Object.keys(SUPPORT_REPS).length<2&&Licence.verify("audiocall")&&CommonUtil.isSecuredSchema()&&avaction.isBrowserSupported(navigator.userAgent)},isScreenSharingAllowed:function(){return CommonUtil.isScreenshareEnabledFromPortal()&&JSON.parse($Support.EmbedObj.eprops.issiqscreenshare)&&Licence.verify("issiqscreenshare")&&this.isAudioCallAllowed()},handleImgLoad:function(e,t,n){e=$(e),CommonUtil.setShrinkImageCSS(e,t,n),e.animate({opacity:1},150)},setShrinkImageCSS:function(e,t,n){var r=(e=$(e))[0],o=e.parent(),i=t||o.height(),a=n||o.width(),c=shrinkImage(r.naturalHeight,r.naturalWidth,i,a);e.css({height:c.HEIGHT,width:c.WIDTH})},wordCapitalize:function(e){return e.toLowerCase().replace(/\b\w/g,function(e){return e.toUpperCase()})},escapeSpecialNotation:function(e){if(""==e||null==e)return e;if(-1!==(e=""+e).indexOf("$")){index=-1,count=0;for(var t=e.split(""),n=0;n<=t.length;n++)if("$"===t[n])count++,index=parseInt(n);else if(1<count&&-1!=index){dollar="";for(var r=0;r<count-1;r++)dollar+="$";t.splice(index+1,0,dollar),index=-1,count=0}e=t.join("")}return e},handleEscape:function(e){$(e.target).parents(".editfields").length&&$UI.hideUserEditUI()},scrollIntoView:function(e,t){e.scrollTop(t[0].offsetTop-e[0].offsetTop)},getTextFromHeadToCaret:function(e){var t,n,r;(e=e[0]).isContentEditable&&document.selection?document.selection&&(e.focus(),(r=document.selection.createRange()).moveStart("character",-e.value.length),t=r.text):($(e).focus(),"number"==typeof(n=e.selectionEnd)?t=e.value.substring(0,n):document.selection&&((r=e.createTextRange()).moveStart("character",0),r.moveEnd("textedit"),t=r.text));return t},insertAtCaret:function(e,t){if(document.selection)e.focus(),document.selection.createRange().text=t,e.focus();else if(e.selectionStart||0===e.selectionStart){var n=e.selectionStart,r=e.selectionEnd,o=e.scrollTop;return e.value=t+e.value.substring(r,e.value.length),e.focus(),e.selectionStart=n+t.length,e.selectionEnd=t.length,void(e.scrollTop=o)}e.value+=t,e.focus()},handleAddDynamicKey:function(e,t,n){var r=CommonUtil.getTextFromHeadToCaret(t),o=r.lastIndexOf(e);n=r.slice(0,o+1)+n+e+" ",CommonUtil.insertAtCaret(t[0],n)},handleGridNavigation:function(e,t,n){CommonUtil.preventDefaultAndPropagation(t);var r,o=t.which,i=e.find(n+'[style*="block"]'),a=i.length,c=e.find(".sel"),s=i.index(c),l=Math.floor(e.width()/120);if(-1===s)r=i[0];else if(37===o)r=-1==--s?i[a-1]:i[s];else if(39===o)r=++s===a?i[0]:i[s];else if(38===o){if(s-l<=-1)r=a<=(s=(Math.ceil(a/l)-1)*l+s%l)?i[s-l]:i[s];else r=i[s-l]}else 40===o&&(r=a<=s+l?i[s%l]:i[s+l]);if(void 0!==r)return r=e.find(r),c.removeClass("sel"),r.addClass("sel"),CommonUtil.scrollToView(r,e),r},scrollToView:function(e,t){"string"==typeof t&&(t=$("#"+t)),"string"==typeof e&&(e=t.find("#"+e));var n=CommonUtil.getParentChildOffset(e,t),r=Math.ceil(t[0].scrollTop);n.elementtop<n.containertop?(r-=n.containertop-n.elementtop,t.scrollTop(r)):n.elementbottom>n.containerbottom&&(r+=n.elementbottom-n.containerbottom,t.scrollTop(r))},getParentChildOffset:function(e,t){var n={};return n.containertop=t.offset().top,n.containerbottom=n.containertop+t[0].clientHeight,n.elementtop=e.offset().top,n.elementbottom=n.elementtop+e.outerHeight(),n},preventDefaultAndPropagation:function(e){e.preventDefault(),e.stopPropagation()},handleFileUpload:function(t){var n=t.callbacks;$.ajax({xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){n.progress&&n.progress(e,t.msgid)},!1),e},url:$Support.getAjaxURL("upload",".ls"),type:"POST",data:t.formdata,contentType:!1,dataType:t.type,processData:!1,success:function(e){n.success&&n.success(e)},complete:function(e){n.complete&&n.complete(e)}})},isIntegratedPortal:function(e){var t=$Support.EmbedObj.integid;if("null"==t||""==t)return!1;t=JSON.parse(t);var n=[LDINTEG_SDPONDEMAND,LDINTEG_ZOHOSUPPORT,LDINTEG_ZCREATOR];e&&(n=[e]);for(var r=0;r<t.length;r++){var o=t[r];if(-1!==$.inArray(o,n))return!0}return!1},getformattedtext:function(e,t){return e.length>=t?e+"<br>":e},addIfExists:function(e,t,n){if(n)return e[t]=n},isBot:function(e){if(e&&-1!=e)try{var t=e.split("_")[2];return/^b/.test(t)}catch(e){return!1}},getBotImageURL:function(){var e=$Support.getParent().$ZSIQChat.getWidgetData(),t=e.embedobj;return(e.commondata.isdev?t.schema+"://"+t.embedserverurl:"")+"https://img.zohostatic.com/salesiq/Nov_07_2018_1_https/images/botagent.svg"},isSecuredSchema:function(){return-1<window.location.protocol.indexOf("https")},isAudiocallEnabledFromPortal:function(){return"true"==$Support.getParent().$ZSIQChat.getWidgetData().embedobj.isaudiocallallowed},isScreenshareEnabledFromPortal:function(){return"true"==$Support.getParent().$ZSIQChat.getWidgetData().embedobj.issiqscreenshare},decodeHTML:function(e){return e.replace(/&#x2F;/g,"/").replace(/&#39;|&#x27;/g,"'").replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")},getScreenName:function(){return _SCREENNAME}},Licence={verify:function(e){var t=$Support.EmbedObj.linfo[e];return t&&JSON.parse(t)||!1},isFreePlan:function(){var e=parseInt($Support.EmbedObj.linfo.planid);return e===L_FREE||e===L_FREE1||e===L_FREE2}};var SIGNATURE_CHAT="1",DN_UNSUPPORTED=-1,TRIGGER_SMILEY_KEY=":",THIS_WEEK="0",LAST_WEEK="1",THIS_MONTH="2",LAST_MONTH="3",TODAY="5",YESTERDAY="6",TOMORROW="8",NEXT_WEEK="9",NEXT_MONTH="10",LAST_TWO_WEEKS="11",NEXT_TWO_WEEKS="12",LAST_TWO_MONTHS="13",NEXT_TWO_MONTHS="14",THIS_QUARTER="15",LAST_QUARTER="16",NEXT_QUARTER="17",THIS_YEAR="18",ADDINFO_TRIGGER="8",TRIGGER_SEND_MESSAGE=2,TRIGGER_PLAY_TUNE=9,AVAILABLE="1",IDLE="4",ENGAGED="6",NFY_USER_ENTERED=110,PUSH_MSG=111,CT_NFY_MSG=112,NFY_ENDLIVESUPPORT="113",NFY_LS_OPERATIONS=114,NFY_PUSH_MSG=115,NFY_USER_CONTINUE=116,NFY_USER_TYPING=104,NFY_USER_IDLE=105,RESEND_AUTO="1",RESEND_MANUAL="2",CT_TXT_MSG=12,CT_NFY_USERSTATUS=13,CT_NFY_USERDELETE=15,CT_INF_MSG=16,CT_ATT_MSG=20,CT_NFY_LEAVESUPPORT="35",WM_DNAME_UPDATE=45,WM_WebRTC_MSG=59,WM_AV_MSG=29,WM_CUSTOM=2,L_FREE1=1,L_FREE2=7,L_FREE=12,ONLINE=1,OFFLINE=0,LDINTEG_ZOHOSUPPORT=1,LDINTEG_SDPONDEMAND=4,LDINTEG_ZCREATOR=5,LDINTEG_ZASSIST=13,VERTICAL=0,HORIZONTAL=1,AUDIOCALL=(TRIGGER_SEND_MESSAGE=2,TRIGGER_PLAY_TUNE=9,ADDINFO_TRIGGER="8",0),VIDEOCALL=1,AUDIOVIDEOCALL=2,AV_CONNECTED="connected",AV_FAILED="failed",UPSTREAM=1,DOWNSTREAM=2,AV_ACCEPTED=1,AV_REJECTED=2,AV_INITIATE=3,AV_CANDIDATE=4,AV_ENDCALL=5,AV_CONNECTWITHPEER=6,AV_INCOMINGCALL=1,AV_OUTGOINGCALL=2,AV_CONNECTING=3,AV_ONGOING=4,AV_RECONNECTING=5,AV_USERBUSY=6,AV_STARTRECORD=7,AV_RECORDING=8,AV_PLAY=9,CONVERSATION_VIEW=1;var myMsgObj={};Message={trim:function(e){try{e=(e=(e=(e=(e=e.replace(/<p>/gi,"")).replace(/<\/p>/gi,"")).replace(/<a/gi,"<a target='_blank'")).replace(/\n/gi,"<br>")).replace(/^\s*$/gi,"")}catch(e){}return e},format:function(e){try{e=(e=(e=" "+e).replace(/((?:href|src)=["']?)?((https?:\/\/(?:www\.)?|www\.)[a-z0-9][^@]*?)(?=&quot;|&#x27;|&lt;|[\s"'<]|$)/gi,function(e,t,a,n){_SCHEMA,_EMBEDSERVERURL;return t?e:'<a href="'+getUnescapedText("www."===n?"http://"+a:a)+"\" target='_blank'>"+a+"</a>"})).replace(/(=['"])?([a-z0-9]([a-z0-9_\-+\.]*)@([a-z0-9_\-\.]*)(\.[a-z]{2,22}(\.[a-z]{2}){0,2}))/gi,function(e,t,a){return t?e:'<a href="mailto:'+a+'" class="updatedata" purpose="email">'+a+"</a>"})}catch(e){}return e},getDisplayContent:function(e){return e=Smiley.replace(e),e=Message.trim(e)},isLocalUser:function(e){return e==myMsgObj.sender},isHeader:function(e,t){return t&&t!=Message.presender},isSameBrowser:function(e){return!e||e==LSMessanger.getSid()},send:function(e,t,a){var n=(new Date).getTime();this.displaySendMessage(e,t,a,n),LSMessanger.sendMessage(e,t,a,n)},displaySendMessage:function(e,t,a,n){t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),myMsgObj.chid=e,myMsgObj.msg=t,myMsgObj.scroll=!0,myMsgObj.uniqueid=n,null!=a&&""!=a&&(myMsgObj.msg="<span style='"+a+"'>"+t+"</span>"),Message.formatAndDisplay(myMsgObj)},formatAndDisplay:function(e){try{var t=e.msg,a=t,n=e.sender,r=e.mod,i=e.istranslated,s="";if(null==e.scroll||e.scroll,t=Message.getDisplayContent(t),s=null!=r&&"att"==r?(t=Message.constructAttUrl(e),"chatwindow.sharing_a_file_with_you"):(e.msg=t,"cannedarticle"===e.mode&&(a=$FAQ.getHeaderMessage(e.msg)),t=Message.getMessageBlock(e),"common.says.msg"),$("#conversationoption").remove(),ZSIQTranscript.updateTranscript({html:t,msgid:e.msgid,sender:e.sender}),$Support.clearEndTimer(),e.dname&&!Message.isLocalUser(n)){var l=LSResource.getRealValue(s,getUnescapedText(e.dname)+","+a);Message.handleBlinkTitle(l)}Message.presender=n;var o=$Support.contentdiv.find("#consentbannerdiv");Message.isLocalUser(n)||e.convvisitorid&&("null"==n||$Support.Util.isAnnonUser(n))||i||0==o.length||$Support.hidetranslatebanner()}catch(e){}},updateMessageTime:function(e){try{var t=e.sender+"_"+e.msgid,a=($Support.chatdiv||$("#msgdiv")).find('div[msgid="'+t+'"]');if(0==a.length)return;var n=a.prev().attr("msgtime");if(n){var r=e.lmsgtime;if(n!=r&&3e3<r-n){var i=e.chid;return LSMessanger.transcript(i,$EmbedManger.getvwmsid()),LSDebugger.pushDebugInfo(e),void LSDebugger.postDebugInfo("Chat transcript mismatched | "+i+" | "+n+" | "+a.prev().text(),null,null,!0)}}var s=e.time;a.attr("msgtime",s)}catch(e){}},getAVMessageBlock:function(e,t){e.type;var a=JSON.parse(e.opruser).dname,n=e.isvisitoraccess,r="none",i="";if(t||1!=$("#audiocall").length||(r=""),callagain_txt="<span class='sqico-call' style='display: "+r+"' id='audio_callagain' onclick='avimpl.startCall()'>"+LSResource.getRealValue("av.info.callagain")+"</span>","endcall"===e.action){if(null!=e.call_duration&&""!=e.call_duration&&(i=LSResource.getRealValue("av.info.success"," "+e.call_duration)+callagain_txt,!t)){var s={attenderemail:$Support.EmbedObj.attenderemail,duration:e.call_duration};$Support.Util.handleCallbacks("call.completed",s)}CallImpl.updateUI(AV_RATING)}return"missed"===e.action&&(i=LSResource.getRealValue("av.info.agent.missed")+callagain_txt,n&&(i=LSResource.getRealValue("av.info.visitor.missed",a)+callagain_txt)),"terminated"===e.action&&(i=LSResource.getRealValue("av.info.visitor.cancelled",a)+callagain_txt,n&&(i=LSResource.getRealValue("av.info.agent.cancelled")+callagain_txt)),"rejected"===e.action&&(i=LSResource.getRealValue("av.info.visitor.declined",a)+callagain_txt,n&&(i=LSResource.getRealValue("av.info.agent.declined")+callagain_txt)),"busy"===e.action&&(i=LSResource.getRealValue("av.info.visitor.declined",a)+callagain_txt,t||avimpl.handleUserBusy()),t||"busy"===e.action||"missed"===e.action&&n||"rejected"===e.action&&!n||avimpl.clear(),i},getMessageBlock:function(e,t){var a="";try{a=e.msg,sender=e.sender;var n=MyDate.getHoursandMin((new Date).getTime(),!0,"bclient");if("CT_INF_MSG"==sender)a='<div class="inf_msg">'+a+"</div>";else{var r=!1,i=getEscapedText(e.dname);Message.presender&&Message.presender===sender&&(r=!0);var s={sender:sender,dname:i,msg:a,time:n,previoussender:r,uniqueid:e.uniqueid,msgid:e.msgid,meta:$Widget.getMetaCardData()};"cannedarticle"===e.mode?(s.msg=a=ZSIQTranscript.getCustomArticleCard(e.msg),s.iscannedarticle=!0,s.cardheader=$FAQ.getHeaderMessage(e.msg),$Support.handleNewMessageInConversation(s)):"botrating"===e.mode&&(s.botrating=!0,s.ratinghtml=e.ratinghtml),e.bot_image&&(s.bot_image=e.bot_image),$Support.updateChatCache(s);var l=$.extend({},s);a=ZSIQTranscript.getTranscript(l,t)}}catch(e){}return a},displayInfo:function(e,t){Message.display($UI.getInfoMsgHTML(e,t),!0)},getInfoHTML:function(e,t,a){var n="",r=e.mode,i=$Support.EmbedObj;if("ACCEPT_TRANSFER"==r&&e){$BotImpl.enableComposer();var s=e.opruser;s.attendername=s.dname,n=LSResource.getRealValue("transcript.info.chattransfer",s.dname),$Support.isBotChat&&!a&&$Support.handleBotTransferAccept(),t||(i.attenderimagefkey=s.image_fkey,i.setAttender(s.lsuid),i.attenderaboutme=s.aboutme,$Support.isConversationUIFocussed()||$UI.setInnerHeader(s),i.attendername=getUnescapedText(s.dname),$Support.handleChatTransferInConversationListView());var l=$Support.LSDB.getFromSession((a||i.chatID)+"_transcript")[0];l=$.extend(l,s),$Support.removeChatCookie(),$Support.setCookie(),$Support.Util.toggleAudioCallIcon(!0);for(var o=document.querySelectorAll("#audio_callagain"),c=0;c<o.length;c++)o[c].style.display="";avimpl.hideCallIcon=!1}else if("ACCEPT_FORWARD"==r)n=LSResource.getRealValue("transcript.info.acceptforward");else if("FORWARD_SUPPORT"==r)n=LSResource.getRealValue("transcript.info.forwardsupport",e.opruser.dname);else if("ADDSUPPORTREP"==r&&e)n=LSResource.getRealValue("transcript.info.addrep",e.userlist.dname),avimpl.hideCallIcon=!0;else if("INVITE"==r){var g=e.type,d=e.opruser,u=d.dname;if("audio"==g)n=LSResource.getRealValue("transcript.info.visitor.requestaudiochat",u);else if("video"==g)n=LSResource.getRealValue("transcript.info.visitor.requestvideochat",u);else if("meeting"==g){var p=e.opr;d.wmsid==$Support.EmbedObj.vwmsid?(n=LSResource.getRealValue("transcript.info.sameuser.sharedesktop"),myMsgObj.sender&&(n+=" <a href='"+e.start_url+"' target='_blank'>"+LSResource.getRealValue("chatwindow.meeting.share.now")+"</a>")):n="request"==p?LSResource.getRealValue("chatwindow.meeting.request",u)+(myMsgObj.sender?" <a href='"+e.start_url+"' target='_blank' documentclick='openmeeting'>"+LSResource.getRealValue("chatwindow.meeting.share.now")+"</a>":""):LSResource.getRealValue("chatwindow.share.screen",u)+(myMsgObj.sender?" <a href='"+e.join_url+"' target='_blank' documentclick='openmeeting'>"+LSResource.getRealValue("chatwindow.meeting.joinnow")+"</a>":"")}}else if("AVCALL"===r)n=Message.getAVMessageBlock(e,a);else if("CHATMONITOR_JOIN"==r){$Support.Util.toggleAudioCallIcon();for(o=document.querySelectorAll("#audio_callagain"),c=0;c<o.length;c++)o[c].style.display="none";n=LSResource.getRealValue("transcript.info.addrep",e.opruser.dname),avimpl.hideCallIcon=!0}return n},constructAttUrl:function(e){var t="";try{var a=e.sender,n=e.msg,r=($Support.EmbedObj,""!=Message.presender&&Message.presender==a),i={sender:a,dname:e.dname,msg:n,previoussender:r,file:{size:n.size,url:n.url,fName:n.fName,comment:n.comment},mode:"att"};e.msgid&&(i.file.msgid=e.msgid),$Support.updateChatCache(i),t=ZSIQTranscript.getTranscript(i)}catch(e){}return t},display:function(e,t,a,n){if(null!=$("#msgdiv")){var r,i=document.getElementById("msgmaindiv"),s=!0;if((i.scrollHeight-i.scrollTop==i.clientHeight||i.scrollHeight<i.clientHeight)&&(s=!1),ie||(e=util.optimizeFontForMozilla(e)),Message.isTypingShown()&&Message.isFirstMessageForTyping())if(Message.isLocalUser(n))ZSIQTranscript.removeTyping(!0);else{var l=!n;ZSIQTranscript.removeTyping(l);var o=$("<div/>").html(e).contents();if(o&&0<o.length)e=o.find(".msgbx").prop("outerHTML"),r=!0}var c=$Support.chatdiv.find('span[msgid="'+a+'"]');if(c.length)c.find(".filedet").replaceWith($(e).find(".filedet")),c.find(".fdload").replaceWith($(e).find(".fdload"));else{var g=$(".zsiq_transferdiv");0<g.length?(r||$(e).insertBefore(g),g.is(":visible")||g.show()):r||$Support.chatdiv.append(e),r&&$("#msgmaindiv .agntmsg").last().append(e)}var d=$("#msgdiv > .ziq_msg").last();if(!s||t)return void Message.scroll(i,d);Message.animate(d)}},animate:function(e,t,a){if(e){var n=t?{right:"auro",left:"-20px",opacity:"0"}:{right:"0",left:"0",opacity:"1"};e.animate(n,300,function(){a&&a(e)})}},isTypingShown:function(){return 0<$("#siq_bottype").length},isFirstMessageForTyping:function(){return $("#siq_bottype").parent().attr("frstmsg")},scroll:function(e,t){e&&$(e).animate({scrollTop:e.scrollHeight-e.offsetHeight},250,function(){Message.animate(t)})},handleBlinkTitle:function(e){$EmbedManger.isComposerFocused()||parent==self&&$EmbedManger.iswindowfocused()||Message.blinkTitle(e)},blinkTitle:function(e){var t=$Support;t.isblinking||(t.documenttitle=document.title,t.isblinking=!0),Message.startBlinking(e),$Support.getParent().$ZSIQUtil.blinkTitle(e)},startBlinking:function(e){if(!e)return!1;clearTimeout($Support.blinktimer);var t,a="";$Support.blinktimer=setInterval(function(){t="title"==t?(a=e,"chmsg"):(a=$Support.documenttitle,"title"),document.title=a},500)},stopBlinking:function(){$Support.getParent().$ZSIQUtil.stopBlinking(),$Support.isblinking&&(clearTimeout($Support.blinktimer),$Support.isblinking=!1,document.title=$Support.documenttitle)},checkCardMask:function(e){for(var t=e.split("").map(Number),a=0,n=t.length,r=n%2,i=0;i<t.length;i++){var s=t[i];i%2==r&&(s*=2),9<s&&(s-=9),a+=s}if(a%10==0){var l=e.split("");switch(n){case 13:return l.splice(0,9,"XXX-XXX-XXX-"),l.join("");case 14:return l.splice(0,10,"XXX-XXX-XXXX-"),l.join("");case 15:return l.splice(0,11,"XXX-XXXX-XXXX-"),l.join("");case 16:return l.splice(0,12,"XXXX-XXXX-XXXX-"),l.join("")}}return!1},checkMaskOccurance:function(e,t){var a=!1,n=[];if((n=e.match(/\b(((\d)+([-]|\s)*)+(\d)+)\b/g))&&n.length)for(var r=0;r<n.length;r++){var i=n[r].match(/\d+/g).join(""),s=i.length;if(!(s<13||16<s)){var l=Message.checkCardMask(i);l&&(a=!0,e=e.replace(n[r],l))}}return t?a:e}};var dext=".ls",CURCONID=-1,SUPPORT_REPS={};_SUBDOMAIN="zoho.com";var _AGENT_ONLINE=!(_JOINED=!1),MONITOR_TIMER=0,IGNORE_ENCODE=[CT_TXT_MSG];function print(e){try{var t=document.getElementById("debug");t.innerHTML=e+"<br>"+t.innerHTML}catch(e){}}function printtime(){print(new Date)}function LSgetPrd(){return LSMessanger.getPrd()}function LSgetAuthType(){return 0}function LSgetUserName(){return LSMessanger.getUserName()}function LSgetNickName(){return LSMessanger.getNickName()}function LSgetUserId(){return LSMessanger.getUserId()}function LSgetSid(){return LSMessanger.getSid()}var lpt,pmonInterval=15e3;function LSplive(){lpt=new Date}function LSMessanger(){}LSMessanger.init=function(){this.rchid=-1},LSMessanger.setRCHID=function(e){LSMessanger.rchid=e},LSMessanger.getRCHID=function(){return LSMessanger.rchid},LSMessanger.deleteSid=function(){delete LSMessanger.sid},LSMessanger.register=function(e,t){try{setTimeout(function(){LSDebugger.postDebugInfo("Visitor Side before registor : "+t,null,"",!0)},1)}catch(e){}if(e){if(!t)return!1;this.prd=e,this.uname=t,LSMessanger.init(),WmsLite.setNoDomainChange(),WmsLite.setAuthType(0),WmsLite.setJSStaticDomain(_WMSJSSTATICDOMAIN),WmsLite.forceDomainChange();var s=_SCHEMA+"://"+_EMBEDSERVERURL;WmsLite.allowCrossOrigin(s),WmsLite.setWmsContext("salesiq"),WmsLite.setConfig(79),WmsLite.registerAnnon(e,this.uname,this.nname)}else $EmbedManger.UI.showProcess(LSResource.getRealValue("common.serverconnectingerror")+" <a href='javascript:void(0)' onclick='window.location.reload()'>"+LSResource.getRealValue("common.reload")+"</a>")},LSMessanger.getUserName=function(){return this.uname},LSMessanger.getNickName=function(){return this.nname},LSMessanger.setNickName=function(e){this.nname=e},LSMessanger.getUserId=function(){return this.uid},LSMessanger.getPrd=function(){return this.prd},LSMessanger.getSid=function(){return this.sid},LSMessanger.disable=function(){WmsLite.disablewms=!0},LSMessanger.isdisablewms=function(){return WmsLite.disablewms},LSMessanger.push=function(e,t,s){try{var a=parseInt(e.mtype);0<a&&-1===IGNORE_ENCODE.indexOf(a)&&e.msg&&(e.msg=getEncodedObject(e.msg))}catch(e){}var n=$EmbedManger;if(null!=e&&!_WMSDOWN)if(0==e.mtype){var i=null!=this.sid;(u=e.msg)&&(this.uid=u.uid,this.sid=u.sid),myMsgObj.sender=this.uname,myMsgObj.nname=this.nname,myMsgObj.dname=this.nname,SUPPORT_REPS={};var r=n.getChatID(),o=n.getVisitorID();try{setTimeout(function(){LSDebugger.postDebugInfo("Visitor Side after registor : "+myMsgObj.sender+" : "+myMsgObj.nname+o,null,"",!0)},1)}catch(e){}if(-1!=r){var d=n.getWaitingCookie();if(!$NE&&d)return;$NE&&t&&$Support.removeCacheCookie(),LSMessanger.joinchat(r,n.getvwmsid(),t,s)}else-1!=o?(_JOINED=!1,n.reJoin()):-1!=o||i||n.addVisitor();$Support.setTabOwner()}else if(-3==e.mtype){_JOINED=!1;r=n.getChatID();LSMessanger.joinchat(r,n.getvwmsid())}else if(10==e.mtype){r=(u=e.msg).chid;LSMessanger.setRCHID(r);for(var g=0;g<u.users.length;g++){var p=u.users[g];SUPPORT_REPS[p.uname]=p}$Support.isBotChat&&1<Object.keys(SUPPORT_REPS).length&&$(".zsiq_transferdiv").remove(),u.users.length&&n.UI.showAgentStatus(),LSMessanger.transcript(n.getChatID(),n.getvwmsid())}else if(e.mtype==CT_TXT_MSG){var u=e.msg;LSMessanger.joinchat(n.getChatID(),n.getvwmsid()),EmbedSound.isPlaying("endtimer")&&EmbedSound.stop();var m=u.sender;if(Message.isLocalUser(m))Message.isSameBrowser(u.sid)||Message.formatAndDisplay(u);else{var l=$BotImpl.isBotMessage(u);KeyHandler.isWindowFocused()||l||EmbedSound.play("smessage");var c=u.msg;u.nname&&($Support.EmbedObj.attendername=u.nname),l?$BotImpl.formatAndDisplay(u):Message.formatAndDisplay(u);c=c.replace(/<span[^>]*?>/gi,"").replace(/<\/span>/gi,"").replace(/<br>/gi,"\r\n");var S={visitid:n.getVisitID(),message:c};n.handleCallbacks("visitor.chatmessage",S),Self.status.clear(),($Support.isFloat()&&$Support.getTabOwner()==LSMessanger.getSid()&&parent.$ZSIQWidgetUI.getWidgetState()==parent.$ZSIQWidgetUI.F_BUTTON||$Support.isConversationUIFocussed()||$Support.isFAQUIFocussed())&&$Support.incrementUnreadCount()}Message.updateMessageTime(u),$Support.handleOnGoingchatActionsInConversation("newmsg",u)}else if(e.mtype==CT_NFY_USERSTATUS){u=e.msg;try{SUPPORT_REPS[u.uname]=u,n.UI.showAgentStatus()}catch(e){}}else if(e.mtype===NFY_ENDLIVESUPPORT||e.mtype===CT_NFY_LEAVESUPPORT){u=e.msg;try{LSDebugger.postDebugInfo("Chat flow debug | End Chat notified to visitor session "+LSMessanger.getSid()+" | "+u.chid,null,null,!0)}catch(e){}if(avimpl.stopOngoingCallOnChatEnding(),parent.$ZSIQLSDB.remove("istriggered"),LSMessanger.disable(),_JOINED=!1,n.getQuitStatus())return;n.updateChatCookie();c=u.msg;if($Support.isBotChat&&(ZSIQTranscript.removeTyping(!0),$Widget.removeComponent(),c&&c.replies&&(c.sender=u.sender,$Support.showRepliesNow(c))),n.isNewEmbed)return n.handleChatEnded(u),void $Support.handleOnGoingchatActionsInConversation("endchat",u);n.setQuitStatus(!0),e.mtype===CT_NFY_LEAVESUPPORT?(Message.displayInfo(LSResource.getRealValue("visitorchat.supportchat.ended"),"chtend"),n.UI.showFeedback(c)):(Message.displayInfo(""),n.UI.handleEndSupport(u)),n.handleChatEnded(u)}else if(e.mtype==NFY_LS_OPERATIONS){if("audiovideocall"==(y=(u=e.msg).module)&&(u.msg=JSON.parse(u.msg)),u.msg&&"cannedarticle"===u.msg.mode)Message.formatAndDisplay(u.msg),($Support.isFloat()&&$Support.getTabOwner()==LSMessanger.getSid()&&parent.$ZSIQWidgetUI.getWidgetState()==parent.$ZSIQWidgetUI.F_BUTTON||$Support.isConversationUIFocussed()||$Support.isFAQUIFocussed())&&$Support.incrementUnreadCount(),$Support.isFAQEnabled()&&$FAQ.updateMessageCount("newmsg");else if("mailchimp"==y){(h=u.msg).name&&n.setVisitorName(h.name),h.email&&n.setVisitorEmail(h.email),n.UI.updateVisitorName(h),$Support.storeInCookie("mailchimp",JSON.stringify({email:h.email,name:h.name}),31e4)}else if("desktopsharing"==y||"audiovideocall"==y||"VISITORNAMECHANGE"==y||"acceptforward"==y||"forwardsupport"==y||"acctranschat"==y||"addsupportrep"==y||"transchat"==y||"updatechatparticipant"==y){if(n.UI.formatAndDisplayInfo("",u.msg,u.addinfo),n.updateChatCache({msg:u.msg}),"VISITORNAMECHANGE"===y){var h=u.msg.VISITORDATA;"[object Object]"===Object.prototype.toString.call(h)&&(h.name&&n.setVisitorName(h.name),h.email&&n.setVisitorEmail(h.email),h.phone&&n.setVisitorPhone(h.phone),n.UI.updateVisitorName(h),SupportUI.embeddiv.find("#filedata").html(SupportUI.getSendFileHtml())),n.UI.hideVisitorInfo()}if("acctranschat"==y){n.UI.hideGroupIcon();S={visitid:n.getVisitID(),attendername:u.dname,department:u.deptname,attenderemail:u.attenderemail};n.handleCallbacks("agent.accepttransfer",S);var f=document.querySelectorAll("#audio_callagain");if($("#audiocall").length){$Support.Util.toggleAudioCallIcon(!0);for(f=document.querySelectorAll("#audio_callagain"),g=0;g<f.length;g++)f[g].style.display="";avimpl.clear()}else for(g=0;g<f.length;g++)f[g].style.display="none"}if("addsupportrep"==y){n.UI.showGroupIcon(),$Support.Util.toggleAudioCallIcon();for(f=document.querySelectorAll("#audio_callagain"),g=0;g<f.length;g++)f[g].style.display="none"}if("transchat"==y){var I=u.msg;S={visitid:n.getVisitID(),currentuser:I.opruser.dname,transfertype:I.type,transfername:I.transferdetails.transfername};n.handleCallbacks("agent.transferchat",S)}else if("updatechatparticipant"==y){"CHATMONITOR_JOIN"==(I=u.msg).mode&&$Support.isBotChat&&$(".zsiq_transferdiv").remove()}}else if("blockip"==y)n.setIPBlockStatus(!0),"float"!=n.getType()&&"personal"!=n.getType()||n.quit();else if("addsupportrep"==y){var M=u.msg.userlist;SUPPORT_REPS[M.uname]=M,n.UI.showAgentStatus()}else if("updatechatparticipant"==y){M=u.msg.userlist;SUPPORT_REPS[M.uname]=M,n.UI.showAgentStatus()}else"bottransfer"===y&&$Support.handleBotTransfer(e.msg)}else if(e.mtype==NFY_USER_IDLE){(S=e.msg).msg="",Self.status.update(S),$Support.handleOnGoingchatActionsInConversation("typingstatus",S)}else if(e.mtype==NFY_USER_ENTERED){(S=e.msg).msg=n.isNewEmbed?"":LSResource.getRealValue("infomsg.enteredtext",S.dname),Self.status.update(S),$Support.handleOnGoingchatActionsInConversation("typingstatus",S)}else if(e.mtype==NFY_USER_TYPING){S=e.msg;var v=n.isNewEmbed?"ne.infomsg.istyping":"infomsg.istyping";S.msg=LSResource.getRealValue(v,S.dname),Self.status.update(S),$Support.handleOnGoingchatActionsInConversation("typingstatus",S);var L=$Support.EmbedObj,C=S.sender?S.sender.split("_")[2]:"";if(L.attender==C&&L.attendername!=S.nname){var E=$Support.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid");$Support.LSDB.storeInSession(E+"_conversation",""),$Support.convlistcontainer.find("#pastchatconv").html("");var U="";1==$Support.convlistcontainer.find("#currchatconv").find(".siqc_cntbody").length&&(U=$($Support.convlistcontainer.find("#currchatconv").find(".siqc_cntbody")[0]).attr("chid")),$Support.PopulateConversationList(function(e,t){if(e.length){var s="";e.forEach(function(e){U!=e.chid&&(e.question=getEscapedText(e.question),s+=$Temp.getConversationHistoryHTML(e))}),t?$Support.convlistcontainer.find("#pastchatconv").prepend($(s)):$Support.convlistcontainer.find("#pastchatconv").append(s)}}),$Support.EmbedObj.attendername=S.nname,$("#attname").html(S.nname),$("#convchatattendername").html(S.nname),LSMessanger.transcript($EmbedManger.getChatID(),LSMessanger.getUserId(),!0),$Support.removeCookie("ZLD"+L.livelsid)}}else if(e.mtype==CT_ATT_MSG){if((S=e.msg).msgid||(S.msgid=(new Date).getTime()),Message.formatAndDisplay(S),n.UI.clearProgress(),!Message.isLocalUser(S.sender)){KeyHandler.isWindowFocused()||EmbedSound.play("smessage");var b=S.msg;S={visitid:n.getVisitID(),message:LSResource.getRealValue("chatwindow.sharing_a_file_with_you",S.dname),filesize:getMemSize(b.size),filename:b.fName,sender:S.sender,dname:S.dname,content:b.content};n.handleCallbacks("visitor.chatmessage",S),($Support.isFloat()&&$Support.getTabOwner()==LSMessanger.getSid()&&parent.$ZSIQWidgetUI.getWidgetState()==parent.$ZSIQWidgetUI.F_BUTTON||$Support.isConversationUIFocussed()||$Support.isFAQUIFocussed())&&$Support.incrementUnreadCount()}Message.updateMessageTime(S),$Support.handleOnGoingchatActionsInConversation("newmsg",S)}else if(e.mtype==WM_CUSTOM){var y,O=e.msg;if("pickupsupport"===(y=O.module)){try{LSDebugger.postDebugInfo("Chat flow debug | Pickup chat notified to visitor session "+LSMessanger.getSid()+" | "+O.visitorid,null,null,!0)}catch(e){}n.handlePickUp(O),$Support.handleOnGoingchatActionsInConversation("pickupchat"),avimpl.checkAttenderBrowser(O)}else if("audiovideo"===y)ZAudioVideo.handleStatus(O);else if("desktopsharing"===y)n.handleDesktopSharing(O),($Support.isFloat()&&$Support.getTabOwner()==LSMessanger.getSid()&&parent.$ZSIQWidgetUI.getWidgetState()==parent.$ZSIQWidgetUI.F_BUTTON||$Support.isConversationUIFocussed()||$Support.isFAQUIFocussed())&&$Support.incrementUnreadCount();else if("actendsession"===y||"endsupport"==y)n.handleEndSession(O);else if("joinproactivechat"===y){e=O.data;Message.isSameBrowser(e.sid)||n.handleJoinProActive(e)}else"missed"===y?$Support.handleMissedVisitor(!0):"audiovideocall"===y?avimpl.handleStartChat(e):"botbroadcast"===y?$Support.handleBotBroadcast(e):"skipoffline"===y?$Support.handleBotSkipOffline():"botbusy"===y?$Support.handleBotBusy():"vtranslanguage"===y&&$Support.handleVTransLang(e.msg)}else if(e.mtype==CT_NFY_MSG){(S=e.msg).sender!=myMsgObj.sender&&Message.formatAndDisplay(S)}else if(e.mtype==NFY_PUSH_MSG){S=e.msg;n.UI.handlePushMessage(S),($Support.isFloat()&&$Support.getTabOwner()==LSMessanger.getSid()&&parent.$ZSIQWidgetUI.getWidgetState()==parent.$ZSIQWidgetUI.F_BUTTON||$Support.isConversationUIFocussed()||$Support.isFAQUIFocussed())&&$Support.incrementUnreadCount()}else if(e.mtype==CT_NFY_USERDELETE){var D=(u=e.msg).users;for(g=0;g<D.length;g++)delete SUPPORT_REPS[D[g].uname];n.UI.showAgentStatus()}else if(e.mtype==WM_DNAME_UPDATE&&"-1"!=n.getChatID()){var T=e.msg.dname;LSMessanger.setNickName(T),myMsgObj.dname=T,n.setVisitorName(T),n.setCookie()}else e.mtype==WM_WebRTC_MSG?(e.msg.msg=JSON.parse(e.msg.msg),"credential"!==e.msg.msg.cbtype&&$Support.LSDB.remove("avcallstatus_"+$Support.EmbedObj.chatID),avaction.init(e.msg)):e.mtype==WM_AV_MSG&&(e.msg.msg=JSON.parse(e.msg.msg),"credential"!==e.msg.msg.cbtype&&$Support.LSDB.remove("avcallstatus_"+$Support.EmbedObj.chatID),avaction.init(e.msg))},LSMessanger.joinchat=function(e,t,s,a){if(!_JOINED&&-1!=e){var i=$EmbedManger,n=lsnocachefix("json",!1);n.chid=e,n.sid=encodeURIComponent(LSMessanger.getSid()),i.getuvid()&&-1===i.getVisitorID()&&(n.uvid=i.getuvid()),t&&(n.wmsid=t),n.visitorid=encodeURIComponent(i.getVisitorID()),s&&(n.isntwrkreconnect=s),a&&(n.isserverupwithoutserverdown=a),$Support.proactive&&(n.isproactive=!0),$.ajax({url:$Support.getAjaxURL("joinchat",dext),type:"POST",data:n,dataType:"json",success:function(e){if(e){var t=e[0],s=t.objType,a=t.objString;if(a.chid)_JOINED=!0;else{if("object"==s&&"CHATENDED"==a.ERROR){var n=a.CHATDETAILS;if(i.getQuitStatus())return;if(LSMessanger.disable(),i.isNewEmbed)return $Support.Util.showChatUI(),i.handleChatEnded(n),void i.updateChatCookie();i.setQuitStatus(!0),$("#waitingform").hide(),i.showChatUI(),i.UI.handleEndSupport(n),i.handleChatEnded(n),i.updateChatCookie()}"error"===s&&(i.UI.resizequestion||i.UI.postMessage("size","shrink"),i.removeChatCookie(),document.location.reload())}}}})}},LSMessanger.transcript=function(e,t,s){if(-1!=e){var a=$EmbedManger,n=a.getType();null!=n&&"null"!=n||(n="embed"),"personal"==n&&(n="float");var i="";-1!==a.getVisitorID()?i+="&visitorid="+a.getVisitorID():i+="&uvid="+a.getuvid();var r=$Support.getAjaxURL("getvisitortranscript",dext);r+="?tzoffset="+_TZCOFFSET+"&uid="+t+"&type="+n+i+lsnocachefix(!0)+"&lang="+_LANG,_CCODE&&(r+="&ccode="+_CCODE);var o="";return a.isNewEmbed&&(o="json"),$.get(r,"",function(e){if($.trim(e)){$("#waitingform").hide();var t=a.UI.embeddiv();if(-1!=e.indexOf("transcript.try.after.sometime"))return t.find("#embedcontainer").html(""),void a.UI.displayInfo(LSResource.getRealValue("transcript.try.after.sometime"));$Support.proactive&&$Support.isSessionTranscriptEmpty()?(a.updateChatCache(e,!0),$Support.Util.populateTriggerUI($Support.EmbedObj)):(a.showChatUI(e,s),a.updateChatCache(e,!0)),a.isautotrigger()||a.UI.showVisitorInfo(),avimpl.checkCallIcon(),a.UI.resizeWindow(),LSMessanger.resendMessages(RESEND_AUTO),$Support.isFAQUIFocussed()&&$Support.incrementUnreadCount(),$Support.handleOnGoingchatActionsInConversation("newchat")}},o),""}},LSMessanger.sendMessage=function(n,i,r,o,d){if(_WMSDOWN||d&&!_JOINED)LSMessanger.handleResendFailed(n,i,r,o,d);else{var g=$EmbedManger;if(g.setCallbackargs(arguments),i&&$.trim(i)){i=i.replace(/[\n\r]/gi,"\n");var e={chid:n,sender:myMsgObj.sender,msg:i,sid:LSMessanger.getSid(),dname:getUnescapedText(LSMessanger.getNickName())};if(e.isbotchat=$Support.isBotChat,e.lang_embed=_LANG,e.ccode=_CCODE,e.visitorid=encodeURIComponent($Support.EmbedObj.visitorID),d&&(e.resendtype=parseInt(d)),r&&(e.style=r),$.extend(e,lsnocachefix("json")),$.extend(e,g.UI.getCaptchaValue()),o&&(e.msgid=o),$Widget.getMetaData()){var t=$Widget.getMetaData();t.value="object"==typeof t.value?JSON.stringify(t.value):""+t.value,e.meta=JSON.stringify(t),$Widget.clearMetaData()}$.ajax({url:$Support.getAjaxURL("sendmessage",dext),type:"POST",data:e,dataType:"json",success:function(e){var t=e[0],s=t.module,a=t.objString;"error"==s&&a.digest?g.UI.showCaptcha(a.digest):(g.setCallbackargs(null),g.UI.hideCaptcha(),d&&(d==RESEND_AUTO?Message.displaySendMessage(n,i,r):d==RESEND_MANUAL&&($("#"+o).removeClass("resend"),$("#resendicon").hide(),$EmbedManger.UI.displayInfo(LSResource.getRealValue("infomsg.msgsent.success")),setTimeout(function(){$EmbedManger.UI.hideInfo()},2e3))),$Support.LSDB.getFromSession($EmbedManger.getChatID()+"_failedmsg")&&LSMessanger.resendMessages(d))},error:function(){LSMessanger.handleResendFailed(n,i,r,o,d)}})}}},LSMessanger.handleResendFailed=function(e,t,s,a,n){$("#"+a).addClass("resend");var i=!!n;LSMessanger.storeFailedMessages(e,t,s,a,i),n==RESEND_MANUAL&&($EmbedManger.UI.displayInfo(LSResource.getRealValue("embed.msg.resendfail")),setTimeout(function(){$EmbedManger.UI.hideInfo()},2e3))},LSMessanger.storeFailedMessages=function(e,t,s,a,n){var i=$("#"+a),r=$Support.LSDB.getFromSession($EmbedManger.getChatID()+"_failedmsg"),o={chid:e,msg:t,properties:s,uniqueid:a};r&&0<r.length?n?r.splice(0,0,o):r.push(o):(r=new Array(o),i&&i.find(".msgbx").append($EmbedManger.UI.getResendIcon())),$Support.LSDB.storeInSession($EmbedManger.getChatID()+"_failedmsg",r)},LSMessanger.sendPredictMessage=function(e){if(-1!==$EmbedManger.getVisitorID()&&0!=$.trim(e).length){var t={chid:$EmbedManger.getChatID(),sender:myMsgObj.sender,msg:e,sid:LSMessanger.getSid(),dname:getUnescapedText(LSMessanger.getNickName())};$.extend(t,lsnocachefix("json")),$.ajax({url:$Support.getAjaxURL("sendprdctmsg",dext),type:"POST",data:t,dataType:"json",success:function(e){}})}},LSMessanger.setSubDomain=function(e){_SUBDOMAIN=e},LSMessanger.getSubDomain=function(){return _SUBDOMAIN},LSMessanger.resendMessages=function(e){var t=$EmbedManger.getChatID()+"_failedmsg",s=$Support.LSDB.getFromSession(t);if(s&&!(s.length<1)){var a=s.shift();$Support.LSDB.storeInSession(t,s),LSMessanger.sendMessage(a.chid,a.msg,a.properties,a.uniqueid,e)}};function DynamicMsg(){this.init()}DynamicMsg.init=function(){DynamicMsg.values={},DynamicMsg.labelsmap={"company.name":"clearbit_reveal_companyname","company.location":"clearbit_reveal_location","company.website":"clearbit_reveal_domain","company.employeecount":"clearbit_reveal_employees","company.annualrevenue":"clearbit_reveal_annualrevenue","company.marketcapital":"clearbit_reveal_marketcap","company.fundraised":"clearbit_reveal_raised","company.type":"clearbit_reveal_type","company.twitterfollowers":"clearbit_reveal_followers","company.facebooklikes":"clearbit_reveal_likes","company.industrytype":"clearbit_reveal_industry","company.sector":"clearbit_reveal_sector","attender.name":"attendername","attender.email":"attenderemail","visitor.name":"name","visitor.id":"visit_id","visitor.email":"email","visitor.phone":"phone","visitor.department":"department","visitor.question":"question","visitor.ip":"ip","visitor.country":"country","visitor.pagetitle":"title","visitor.pageurl":"currentpage","visitor.referrer":"referrer","visitor.timezone":"localtime","visitor.operating.system":"os","visitor.browser":"browser","visitor.browser.version":"browserversion","smart.timenow":"smart_timenow","screen.resolution":"screen","web.embed.name":"embed"},$EmbedManger.isNewEmbed&&(DynamicMsg.updateValues($EmbedManger.getAddinfo()),DynamicMsg.updateValues(Browser.getInfo()))},DynamicMsg.setValues=function(e){DynamicMsg.updateValues($EmbedManger.getAddinfo()),DynamicMsg.updateValues(Browser.getInfo()),DynamicMsg.updateValues(e),DynamicMsg.updateValues($.parseJSON(e.CUSTOMERINFO),"custom."),delete DynamicMsg.values.CUSTOMERINFO},DynamicMsg.updateValues=function(e,a){if(e){var t="";for(var i in e)t=a?a+i:i,DynamicMsg.values[t.toLowerCase()]=e[i]}else if("custom."==a)for(var r in DynamicMsg.values)""==r.split("custom.")[0]&&delete DynamicMsg.values[r]},DynamicMsg.getKeyFromMap=function(e){return"custom"===e.split(".")[0]?e.toLowerCase():DynamicMsg.labelsmap[e.toLowerCase()]},DynamicMsg.getValue=function(e){if(clientkey=DynamicMsg.getKeyFromMap(e),value=DynamicMsg.values[clientkey],"undefined"==typeof value)return"";if(!clientkey)return e;if("smart_timenow"===clientkey)return DynamicMsg.getSmartTimeNow();if("name"===clientkey){var a=value.split(" ");return"Visitor"===a[0]||/^\d+$/.test(a[0])?"":CommonUtil.wordCapitalize(value)}if("department"===clientkey){if("-1"==value)return"";for(var t=$EmbedManger.getDeptlist(),i=0;i<t.length;i++){var r=t[i];if(""+r.ID===value)return r.NAME}}return value},DynamicMsg.updateClearBitValues=function(e){if(e.Reveal)for(var a in e.Reveal)DynamicMsg.updateValue("clearbit_reveal_"+a,e.Reveal[a]);if(e.Enrichment)for(var a in e.Enrichment)DynamicMsg.updateValue("clearbit_enrichment_"+a,e.Enrichment[a])},DynamicMsg.updateValue=function(e,a){DynamicMsg.values[e.toLowerCase()]=a},DynamicMsg.getSmartTimeNow=function(){var e="",a=(new Date).getHours();return 5<=a&&a<12?e="morning":12<=a&&a<17?e="afternoon":17<=a&&a<21?e="evening":(21<=a||a<5)&&(e="night"),LSResource.getRealValue("smart.timenow."+e)},DynamicMsg.getSmartTimePeriod=function(e){var a=new Date;return(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())+" "+LSResource.getRealValue("common.time.hours")},DynamicMsg.fillValues=function(e){var a=new Array,t="",i="",r="",n=0;for(-1===e.indexOf("&#x25;")&&-1===e.indexOf("&lt;br&#x2f;&gt;")||(e=(e=e.replace(/&#x25;/g,"%")).replace(/&lt;br&#x2f;&gt;/g," "));-1!=e.indexOf("%")&&(t="",strt=e.indexOf("%",n),last=e.indexOf("%",strt+1),-1!==strt&&-1!==last);)r=i=e.substring(strt+1,last),-1!==i.indexOf("|")&&(r=(a=(i=r).split("|"))[0],t=a[1]),val=DynamicMsg.getValue(r),val===r?(i=e.substring(strt+1,last),value="%"+i+"%"):(value=val||t,e=e.replace("%"+i+"%",CommonUtil.escapeSpecialNotation(value))),n=strt+value.length-1;return e};function $SupportConfig(e){var s=e.einfo,t=e.pinfo,i=s.embedstatus;this.setEmbedProps(CommonUtil.parseToJSON(s.props)),this.setPortalProps(t.pinfo),this.setAdditionalParams(e.params),this.setLicenceProps(e.linfo);var o=e.name?e.name:e.params&&e.params.name?e.params.name:void 0;this.setVisitorName(o);var n=e.email?e.email:e.params&&e.params.email?e.params.email:void 0;this.setVisitorEmail(n),this.setVisitorID(-1),this.setChatID(-1),this.setPrevCHID(-1),this.setSelectedDept(i.DEPARTMENTID),this.mappeddept=this.department,this.setLiveSupportID(s.embedid),this.setEmbedType(e.params.type),this.setDepartmentList(i.DEPTLIST),this.setEmbedName(e.einfo.uniquename),this.setWaitAction(),e.annonid&&this.setvwmsID(e.annonid),this.setEmbedWaitingTime(s.waitingtime),this.setPortalName(t.screenname),this.setSchema(e.schema),this.setProductCode(e.lsprdcode),this.setEmbedStatus(i.STATUS),this.setSoundConfig(!0),this.setCompanylogo(t.clogo_fkey),this.setCompanyWebsite(t.companywebsite),this.setConfigureMsg(s.props),this.setAddinfo(e.params),this.setBusnsHrStatus(i),this.setErrorFieldInfo(),this.setIntegId(t.integid),this.setIntegProps(e.integprops),this.isBetaPortal=t.isbetaportal,this.setUserDetails(s.userdetails)}$SupportConfig.prototype={booleanprops:["icphoto","icsound","icfile","isscreenshare","issiqscreenshare","ispopout","icmail","icprint","iclogo","isconversation","isaudiocall","showsmiley"],objprops:["isname","isemail","isphoneno","feedback","rating","color","isbotenabled"],setEmbedProps:function(e){this.eprops={};for(var s=0;s<this.booleanprops.length;s++){var t=this.booleanprops[s];this.eprops[t]=this.getBooleanVal(JSON.parse(e[t])[0])}for(s=0;s<this.objprops.length;s++){t=this.objprops[s];this.getBooleanValuesForObject(e,t)}},setPortalProps:function(e){this.pprops=e},setAdditionalParams:function(e){this.eparams=e},setLicenceProps:function(e){this.linfo=e},setVisitorName:function(e){var s=this.visitorname;this.visitorname=isUndefined(e)?s:"Guest"===e?LSResource.getRealValue("common.you"):e},setVisitorEmail:function(e){this.visitoremail=isUndefined(e)?this.visitoremail:e},setVisitorID:function(e){this.visitorID=isUndefined(e)?this.visitorID:e},setSelectedDept:function(e){this.department=isUndefined(e)?this.department:e},setChatID:function(e){this.chatID=isUndefined(e)?this.chatID:e},setPrevCHID:function(e){this.lchid=e},setLiveSupportID:function(e){this.livelsid=e},setvwmsID:function(e){this.vwmsid=isUndefined(e)?this.vwmsid:e},setEmbedType:function(e){this.type=e||"float"},setSchema:function(e){_SCHEMA=e},setPortalName:function(e){this.portalname=e},setDepartmentList:function(e){this.deptlist=e},setEmbedWaitingTime:function(e){this.embedwaitingtime=e},setEmbedName:function(e){this.embedname=e},setWaitAction:function(e){this.waitaction="text"},setAttender:function(e){this.attender=e},setVisitID:function(e){this.VISITID=e},setProductCode:function(e){$Support.Util.productCode=e},setAttenderZUID:function(e){this.attenderZUID=e},setAttenderUserAgent:function(e){this.attenderuseragent=e},setVisitorPhone:function(e){this.visitorphone=isUndefined(e)?this.visitorphone:e},setEmbedStatus:function(e){this.status=JSON.parse(e)},setSoundConfig:function(e){this.soundval=e},setCompanylogo:function(e){this.clogo=_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/clogo/"+e+"/photo.ls"},setConfigureMsg:function(e){this.waitmsg=JSON.parse(e.waitingmsg)[1].msg||LSResource.getRealValue("ne.waitmsg");var s=JSON.parse(e.offlinemsg)[1];this.offlinemessage=s.msg||"",this.offlinerespmsg=s.resmsg||LSResource.getRealValue("ne.offlinerespmsg");var t=JSON.parse(e.busymsg)[1];this.missedmessage=t.msg||LSResource.getRealValue("embed.busymsg"),this.missedrespmsg=t.resmsg||LSResource.getRealValue("ne.offlinerespmsg"),this.thanksmsg=JSON.parse(e.thanksmsg)[1].msg||"";var i=JSON.parse(e.engagedmsg)[1];this.engagedmessage=i.msg||"",this.engagedrespmsg=i.resmsg||LSResource.getRealValue("ne.offlinerespmsg");var o=JSON.parse(e.deptmsg)[1];this.deptofflinemsg=o.msg||"",this.deptofflinerespmsg=o.resmsg||"",this.feedbackcomplete=JSON.parse(e.feedback)[1].msg||"";var n=JSON.parse(e.rating)[1];this.feedbackcomplete1=n.msg1||"",this.feedbackcomplete2=n.msg2||"",this.feedbackcomplete3=n.msg3||"",this.feedbackcomplete4=n.msg4||"",this.feedbackcomplete5=n.msg5||"",this.windowsize=JSON.parse(e.size)[1].val||2,this.faqaccess=JSON.parse(e.faqaccess)||""},setAddinfo:function(e){var s=this.addinfo||{};this.addinfo={name:e.name||s.name,email:e.email||s.email,question:e.question||s.question,autochat:e.autochat||s.autochat,deptname:e.deptname||s.deptname,phone:e.phone||s.phone,country:e.country||s.country,embed:e.embedname||s.embedname,forcefloatingwindow:e.forcefloatingwindow||null}},setBusnsHrStatus:function(e){this.bushrstatus=e.BUSINESSHOURSTATUS},setErrorFieldInfo:function(){this.errorinfo={visname:LSResource.getRealValue("ne.errorinfo.name"),visemail:LSResource.getRealValue("ne.errorinfo.email"),visphone:LSResource.getRealValue("ne.errorinfo.phone"),msgarea:LSResource.getRealValue("ne.errorinfo.question")}},setIntegId:function(e){this.integid=e},setIntegProps:function(e){this.integprops=e},setCompanyWebsite:function(e){e&&(this.companywebsite=-1==e.indexOf("http")?"http://"+e:e)},setUserDetails:function(e){e&&(this.userdetails=e)},getBooleanVal:function(e){return 1==e?"true":"false"},getBooleanValuesForObject:function(e,s){this.eprops[s]={};var t=JSON.parse(e[s]);if(this.eprops[s][0]=this.getBooleanVal(t[0]),"isname"==s||"isemail"==s||"isphoneno"==s){var i=t[1];this.eprops[s][1]={ismandatory:this.getBooleanVal(i.ismandatory)}}else if("color"==s){var o=t[1];o.code||(o.code="#0091ff"),this.eprops[s][1]=o}else"isbotenabled"==s&&(this.eprops[s][1]=t[1]);"rating"==s?$Support.israting=JSON.parse(this.eprops.rating[0]):"feedback"==s&&($Support.isfeedback=JSON.parse(this.eprops.feedback[0]))}};var ZSIQTranscript=function(){"use strict";var O="",R=function(e){var s=e.sender.split("_");return s=s[2]||s[0],_SCHEMA+"://"+_EMBEDSERVERURL+"/"+CommonUtil.getScreenName()+"/userimg/"+s.replace("b","")+"/photo.ls?nocache=1"},g=function(e){return e=Message.format(e),Smiley.replace(e)},M=function(e){return(e.meta&&e.meta.msgid?e.meta.msgid:e.msgid)||""},z=function(e){var s=e.file,i=e.convvisitorid,t=e.convchid,a=-1!=e.msg.content.indexOf("image"),n=(e.time,$Support.EmbedObj),r=s.fName||s.name;r=getEscapedText(r);var m=$Support.getAjaxURL("download",".ls");m+="?fsize="+s.size+"&url="+escape(s.url)+"&fName="+encodeURIComponent(r),m+=i?"&visitorid="+i+"&chid="+t+"&isconversation=true":"&chid="+n.chatID+"&wmsid="+n.vwmsid;var l=s.purl||m,d=s.msgid||"",c=getMemSize(s.size),g=(s.progress,s.progress?" fprgs":""),o=$.trim(s.comment)?"<code>"+getEscapedText(s.comment)+"</code>":"";return['<span class="fileattch siq-file-attach'+g+(o?" imgcmt":"")+'" msgid="'+d+'" data-ftype="'+e.msg.content+'" data-bubble="true">',a?'<img src="'+l+'" height="75" width="75" class="siq-attach-image">':"",'<span class="filedet" documentclick="imagepreview"><em class="txtelips">'+r+"</em>",'<em class="size" size="'+c+'">( '+c+" )</em></span>",v(s,l),a?'<em class="img_msk" data-bubble="true" documentclick="imagepreview"></em>':"","</span>"+Smiley.replace(o)].join("")},v=function(e,s){return'<div class="file_alin"><div class="file_pmain"><div class="file_prgs" msgid="'+(e.msgid||"")+'"><div class="pie"></div><div class="pie fill"></div></div></div>'+(s='<a target="_blank" class="fdload" href="'+s+'"><span class="sqico-dwnld siq-file-progress"></span></a>')+"</div>"},H=function(e){return!(!e||-1==e.indexOf("$"))},j=function(e){return!!$Support.EmbedObj&&(!(e=e||$Support.EmbedObj.visitorname)||e&&(0===e.lastIndexOf("Visitor ",0)||0===e.lastIndexOf("Guest",0)))},t=function(e){var s=M(e);if(!s||!o(s)){var i=e.is_ignoreformat?e.html:g(e.html),t=e.ispopulate,a=e.sender;if(null!=$("#msgdiv")){var n=document.getElementById("msgmaindiv");if(!n)return;var r,m=!0;if((n.scrollHeight-n.scrollTop==n.clientHeight||n.scrollHeight<n.clientHeight)&&(m=!1),h()&&b())if(k(a))_(!0);else{_(!a);var l=$("<div/>").html(i).contents();if(l&&0<l.length)i=l.find(".msgbx").prop("outerHTML"),r=!0}var d=$Support.chatdiv.find('span[msgid="'+s+'"]');if(d.length)d.find(".filedet").replaceWith($(i).find(".filedet")),d.find(".fdload").replaceWith($(i).find(".fdload"));else{var c=$(".zsiq_transferdiv");0<c.length?(r||$(i).insertBefore(c),c.is(":visible")||c.show()):r||$Support.chatdiv.append(i),r&&$("#msgmaindiv .agntmsg").last().append(i)}if(f(),$Support.isBotChat&&$UI.appendTransferDiv(),!m||!t)return void p(e.callback);u($("#msgdiv > .ziq_msg").last(),e.callback)}}},o=function(e){return!!$("#msgdiv").find('[data-msgid="'+e+'"]').length},p=function(e){var s=$("#msgmaindiv")[0],i=$("#msgdiv > .ziq_msg").last();s&&$(s).animate({scrollTop:s.scrollHeight-s.offsetHeight},0,function(){u(i,!1,e)})},u=function(e,s,i){if(e){var t=s?{right:"auro",left:"-20px",opacity:"0"}:{right:"0",left:"0",opacity:"1"};e.animate(t,300,function(){i&&i(e)})}},f=function(){var a=$Support.container.find(".ziq_msg:not(.siq_widget)");a.each(function(e){var s=$(this);s.removeClass("single_msg lst_msg");var i=$(a[e-1]),t=$(a[e+1]);!t.length&&!i.length||!t.length&&s.hasClass("agntmsg")&&i.hasClass("vismsg")||!t.length&&s.hasClass("vismsg")&&i.hasClass("agntmsg")||s.hasClass("agntmsg")&&t.hasClass("vismsg")&&i.hasClass("vismsg")||s.hasClass("vismsg")&&t.hasClass("agntmsg")&&(i.hasClass("agntmsg")||!i.length)?s.addClass("single_msg"):(!t.length||s.hasClass("agntmsg")&&t.hasClass("vismsg")||s.hasClass("vismsg")&&t.hasClass("agntmsg"))&&s.addClass("lst_msg")})},h=function(){return 0<$("#siq_bottype").length},b=function(){return $("#siq_bottype").parent().attr("frstmsg")},k=function(e){return e==myMsgObj.sender},_=function(e){var s=$("#siq_bottype"),i=s.parent().prev().hasClass("agntmsg");if(s.length){if(e||i)return void s.parent().remove();s.remove()}},a=function(){return'<div class="type-loadr textC"><span></span><span></span><span></span></div>'},B=function(e){var s=e?"vismsg":"agntmsg";return!$("#msgdiv").find(".ziq_msg").last().hasClass(s)},L=function(e){return!(!e.meta||!e.meta.hand_off)||!!e.hand_off};return{getTranscript:function(e,s){var t=$Support.EmbedObj,i=t?t.eprops:{},a=e.convvisitorid,n=k(e.sender)||a&&("null"==e.sender||H(e.sender))||e.isvisitor,r=t&&n&&!a?t.visitorname||e.name:e.dname,m=e.isbotmessage,l=O&&O==r;O=r;var d="agntmsg siq-agntmsg",c="siq-user-name",g="siq-user-message",o="";(n||e.isques)&&(d="vismsg siq-visitmsg",c="siq-visitor-name",g="siq-visitor-message"),r=getEscapedText(r);var v=e.msg;if(!e.file&&"object"==typeof v)return"";e.iscannedarticle&&(d+=" msg-card");var p="",u='purpose="name"';!j(r)&&r||m||(r=LSResource.getRealValue("common.you")),t&&-1<d.indexOf("vismsg")&&(JSON.parse(i.isname[0])||JSON.parse(i.isemail[0])||JSON.parse(i.isphoneno[0]))&&!a&&($Support.waitTimer||(p='<em class="sqico-edit" title="'+LSResource.getRealValue("ne.title.edit")+'"></em>',o='documentclick="userdetails"'));var f=e.time||"",h=e.uniqueid?e.uniqueid:e.msgid?e.msgid:"";h=e.file?e.file.msgid:h;var b=function(e){var s=t?t.eprops:"";if(t&&!JSON.parse(s.showsmiley))return"";var i=document.createElement("DIV");return i.innerHTML=Smiley.replace(e),(i.textContent||i.innerText).trim()?"":" smily_msg"}(v),_=m||t&&!n&&CommonUtil.isBot(e.sender)?"<img class='vis_botimg' src='"+R(e)+"' />":"",$="",q="";e.file&&($=" file_msg",q='isimage="'+(-1!=e.msg.content.indexOf("image"))+'"');var S=e.ratinghtml?e.ratinghtml:"",C=e.meta&&e.meta.card_data&&e.meta.card_data.value?e.meta.card_data.value.image:null,E=C?e.meta.card_data.value:null,y="";E&&E.lat&&(y=" lat="+E.lat+" lng="+E.lng+' documentclick="openmapfromimage" ');var T=e.bot_image||C,x=T?'<div class="cmpnt-sldimg mB10"><img src="'+T+'" '+y+" > </div>":"",w=T?"msg-botimg":"";return d=s?d+" rm_anim":d,(l||!B(n)&&n)&&(d+=" mrgT2",r=p=u=_=""),["<div "+(h?'id="'+h+'"':"")+'" '+q+' class="ziq_msg '+(d+=e.iswidget?" siq_widget":"")+b+$+'" data-field="message" data-msgid="'+M(e)+'" hand-off="'+L(e)+'">',"<div "+u+' class="'+c+'" '+o+">"+_+r+p+"</div>",'<div class="msgbx '+w+'" title="'+f+'">'+x,e.file?z(e):'<span class="'+g+'">'+v+"</span>"+S,"</div>","</div>"].join("")},updateTranscript:t,removeTyping:_,showTyping:function(e){if($("#msgdiv").length&&0==$("#siq_bottype").length){var s=$Support.EmbedObj?$Support.EmbedObj.attendername||e.dname:Bot.getBotOBJ().name,i='<div frstmsg="true" class="ziq_msg agntmsg siq-agntmsg mrgT2 siq_widget" id="bottype_msg"><div purpose="name" class="siq-user-name dib-mid mB5">'+(!B()||Message.presender==e.sender&&!k(Message.presender)?"":'<img class="vis_botimg" src="'+R(e)+'"/>'+s)+'</div><div class="msgbx" id="siq_bottype">'+a()+"</div></div>";t({html:i,sender:e.sender}),O=s}},getCustomArticleCard:function(n){if(!n)return"";var e=n.owner_imgkey?'<img src="'+_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+n.owner_imgkey+'/photo.ls?nocache=1">':"";return'<div class="posrel"><div class="cmpnt-wrap">'+(n.image?'<div class="cmpnt-sldimg"><img src="'+n.image+'"></div>':"")+'<div class="cmpnt-body-cont cmpnt-artl-cont"><div class="cmpnt-hdln">'+(n.title?getEncodedText(n.title):"")+'</div><div class="cmpnt-desc lH20">'+getEncodedText(n.description||"")+"</div>"+(n.owner_name?'<div class="mT15"><div class="dib-mid cmpnt-atrlimg">'+e+'</div><div class="dib-mid cmpnt-artl-desc">'+LSResource.getRealValue("article.by")+" <em>"+getEncodedText(n.owner_name)+"</em></div></div>":"")+(n.articles&&n.articles.length?function(e){var s="";for(var i in e){var t=Object.keys(e[i])[0],a=e[i][t]||"";s+='<nav class="cmpnt-art-list"><em class="sqico-faqarticle dib-mid"></em><div class="dib-mid elips"><p class="lH20 elips dib-mid" article-id="'+t+'" iscard="true" title="'+(a=getEncodedText(a.replace(/<br\s*\/?>/gi," ")))+'">'+a+"</p></div></nav>"}return'<div class="mT10" id="rel-articles-'+n.id+'"><div class="cmpnt-arthd">'+LSResource.getRealValue("faq.relatedarticles")+" :</div>"+s+"</div>"}(n.articles):"")+"</div></div></div>"},reSetPreviousSender:function(){O=""},scroll:p,setMessageClass:f,isMessageExist:o,getMessageID:M,getFormatedHTML:g,getImageURL:R}}();$Support={LSDB:parent.$ZSIQLSDB?parent.$ZSIQLSDB:opener?opener.$ZSIQLSDB:void 0,convlistindex:0,convlistlimit:{1:5,2:6,3:7},isallconvlistfetched:!1,getParent:function(){return window.parent.$ZSIQWidget?window.parent:window.opener&&opener.$ZSIQWidget?window.opener:void 0},DEPT_ONLINESTATUES:"1",DEPT_OFFLINESTATUES:"2",DEPT_ENGAGESTATUES:"3",init:function(t){try{$Support.EmbedObj=new $SupportConfig(t),this.setTheme(t),$Support.Util.updateParentFontFamily(),this.isscript="script"===t.params.src,this.Util.setBrowserValues(),DynamicMsg.init();try{Self.status.init()}catch(t){}this.cachearr=[],this.checkAndShowUI(),$Support.Util.isPreview()&&$CWPreview.init(),window.parent.$ZSIQChatWindow.handleESCEvent(window)}catch(t){}},setTheme:function(t){this.theme="theme"+t.theme},isFloat:function(){return"float"===$Support.type},checkAndShowUI:function(t){$Support.appendMetaTag();var e=$Support.EmbedObj,i=this.getCookieValue("ZLD"+e.livelsid),o=this.getWaitingCookie(),n=this.getTriggerCookie();$UI.setContainer();var a=$Support.getParent().$ZSIQUtil.getAPIValues();if(window.parent.$ZSIQWidget.getWidgetObject().isshowcallbubble)return $Support.container.append($Support.contentdiv=CallUIHandler.getInitialHtml()),void handleDrag();if($Support.Util.updateViewAttribute("msgarea"),$Support.Util.isPreview())return e.status?$UI.init():$Support.showOfflineUI(),this.Util.setTextareaHeight(),void $Support.handleApiData(a);if((a.floatwindowfields||a.customfield)&&$Support.handleFieldVisibility(a.floatwindowfields,a.customfield),n)return $Support.Util.handleChatTrigger(n),void($Support.isConversationAllowed()&&$Support.container.find("#showsiqconv").click());if(i&&(e.setVisitorName(i.name),e.setVisitorEmail(i.email)),clearTimeout($Support.Util.jsdownloadtimer),i&&i.cid&&"-1"!=i.cid&&$Support.getParent().$ZSIQWidgetUI.getWidgetState()==$Support.getParent().$ZSIQWidgetUI.F_WINDOW?$Support.Util.downloadAdditionalFiles():$Support.Util.jsdownloadtimer=setTimeout($Support.Util.downloadAdditionalFiles,1e4),i&&i.cid&&"-1"!=i.cid&&($Support.isFloat()||"personal"==$Support.type)){this.handleChatCookie(i);var r=$Support.getUnreadCount();r&&$Support.isFloat()&&$Support.getParent().$ZSIQWidgetUI.updateCount(r),$Support.isBotChat&&o&&($Support.handleWaitingDisplay(!0,!0),$UI.showTransferWaiting())}else o&&$Support.isFloat()?(this.handleWaitingCookie(o),o.chid&&this.updateTranscriptFromSession()):e.status?($UI.init(),this.Util.setTextareaHeight()):(DynamicMsg.setValues($Support.getValuesForDynamicMsg()),$Support.showOfflineUI());if($Support.isConversationAllowed())$Support.container.find("#showsiqconv").click();else{var s=this.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid");this.LSDB.removeSessionStore(s+"_conversation")}if(-1!=t&&$Support.handleApiData(a),this.Util.bindUtilEvents(),$Support.Util.calculateContentHeight(),avimpl.curr_status){switch(CallImpl.isCallWithChat=!1,avimpl.curr_status){case"connecting":$("body").append($Temp.getReconnectionUI(avimpl.attenderimgurl,"av.info.connecting"));break;case"ongoing":$("body").append($Temp.getOnCallUI(avimpl.attenderimgurl));break;case"outgoing":$("body").append($Temp.getOutgoingcallUI(avimpl.attenderimgurl,$Support.EmbedObj.attendername));break;case"reconnecting":$("body").append($Temp.getReconnectionUI(avimpl.attenderimgurl,"av.info.reconnecting"))}$("body").find("#faqcall").remove(),document.getElementsByClassName("zsembd_audiocl")[0].sdrag()}-1!=t&&avimpl.checkOngoingCall()},showOfflineUI:function(){$Support.Util.isPreview()&&($Support.contentdiv=""),$UI.updateOfflineUI(),$Support.isFloat()||this.Util.showOfflineBanner()},handleFieldVisibility:function(t,e){var i=$Support.EmbedObj,n=[];if(i.status&&t&&t.online?n=t.online.split(","):!i.status&&t&&t.offline&&(n=t.offline.split(",")),e&&0!=e.length)try{$.each(e,function(t,e){e.index=t;var i=e.name;if(n.length,/^_default./.test(i)){var o=i.replace("_default.","");0<=["name","email","phone"].indexOf(o)&&-1==n.indexOf(o)&&n.push(o)}})}catch(t){}if(n.length){i.eprops.isname[0]=!1,i.eprops.isemail[0]=!1,i.eprops.isphoneno[0]=!1;for(var o=0;o<n.length;o++){"contactnumber"!=n[o]&&"phone"!=n[o]||(n[o]="phoneno");var a="is"+n[o];i.eprops[a]&&(i.eprops[a][0]=!0)}}},handleChatCookie:function(t){var e=$Support.EmbedObj;this.updateCommonKeys(t);var i=e.visitorID;e.attenderimagefkey=t.imagefkey,e.uvid=t.uvid||e.uvid,e.question=t.ques,e.setAttender(t.attender),e.setAttenderZUID(t.attenderZUID),t.attenderuseragent&&e.setAttenderUserAgent(t.attenderuseragent),t.attendername=e.attendername=t["attname_"+i]||"",t.aboutme=t["aboutme_"+i]||"",e.attenderemail=t.attenderemail,$Support.proactive=t.isproactive,$Support.istriggeredchat=t.istriggeredchat,$Support.isBotChat=t.isbotchat,$Support.botchatprops=t.botchatprops,LSMessanger.setNickName(t.name),LSMessanger.register($Support.Util.productCode,e.vwmsid),$UI.setInnerHeader(t),this.updateTranscriptFromSession(),DynamicMsg.setValues($Support.getValuesForDynamicMsg()),avimpl.checkAudioCallButton(),$Support.isBotChat&&"-1"!=$Support.EmbedObj.chatID&&($Support.hidetransfer=$Support.LSDB.getFromSession($Support.EmbedObj.chatID+"_handoff"),$UI.populateUserAction())},updateTranscriptFromSession:function(){var t=$Support.EmbedObj,e=this.LSDB.getFromSession(t.chatID+"_transcript");e&&e.length&&(myMsgObj.sender=t.vwmsid,myMsgObj.dname=t.visitorname,this.Util.showChatUI(e))},startChat:function(){$Support.initiateChat()},initiateChat:function(t){DynamicMsg.setValues($Support.getValuesForDynamicMsg()),this.intime=(new Date).getTime(),this.LSDB.remove("ZLD"+$Support.EmbedObj.livelsid+"WTIME"),this.removeBroadCast(),delete $Support.SIQFieldname;var e=this.getBotUser(),i=$Support.EmbedObj.attender;if(!i){var o=this.LSDB.get("ZLDPERSONALIZE");i=$Support.getParent().$ZSIQChat.getWidgetData().widgettype==$Support.getParent().SIQ_PERSONALIZE&&o?o:void 0}var n=!e||i&&-1==e.indexOf(i),a=1==$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.isgdprenabled,r=this.EmbedObj.pprops,s=this.LSDB.getFromSession(_SCREENNAME+"_gdpr_chatconsent"),p=r.chatcookiepolicyurl,d=!(!a||!JSON.parse(r.isgdprenabled)||1!=JSON.parse(r.chatprivacyconfig)||s);if(CallImpl.isCallAloneEmbed()||this.handleWaitingDisplay(null,null,!n,d),LSMessanger.setNickName($Support.EmbedObj.visitorname),d){var u=$Support.contentdiv;return u.find(".sqico-edit").remove(),u.find("div[purpose=name]").attr("documentclick",""),$UI.hideUserEditUI(),void $UI.appendChatConsentDiv(t,!1,p)}$Support.istriggeredchat&&$Support.showVisitorQuestion(),t||LSMessanger.sid?$Support.addVisitor():this.EmbedObj.vwmsid?LSMessanger.register($Support.Util.productCode,this.EmbedObj.vwmsid):$Support.getAnnonID($Support.EmbedObj.visitorname)},updateInputValues:function(){$Support.container.find("[purpose]").each(function(){var t=$(this),e=t.attr("purpose"),i=t.val()||t.attr("val");if(isUndefined(i)||""==i)return!0;$Support.EmbedObj[e]=i}),$Support.updateVisitorName()},updateVisitorName:function(){var t=$Support.EmbedObj;if(!t.visitorname){var e=t.visitoremail;e?t.setVisitorName(e.split("@")[0]):t.setVisitorName("Visitor "+Math.round(1e5*Math.random()))}},storeInCookie:function(t,e,i){var o=parent.$ZSIQCookie?parent.$ZSIQCookie:opener?opener.$ZSIQCookie:void 0;t=_SCREENNAME+"-"+t,o.set(t,e,i)},addVisitor:function(){var a=this,r=a.EmbedObj;CallImpl.isCallAloneEmbed()&&(r.question=LSResource.getRealValue("av.info.callquesmsg",r.visitorname),r.isaudiocall=!0);var t=lsnocachefix("json");void 0===r.question&&(r.question=$.trim(this.composer.val())),this.getComposer().val(""),$.extend(t,Browser.getInfo(),{referrer:processInput("trimlength",t.referrer,3e3),currentpage:processInput("trimlength",t.currentpage,950),name:r.visitorname,lsid:r.livelsid,email:processInput("emailid",r.visitoremail),ques:r.question,deptid:r.department,annonid:r.vwmsid,platform:navigator.platform,embeduniquename:r.embedname,autotrigger:$Support.istrigmsg}),$.extend(t,$Support.getCaptcha),r.uvid&&(t.uvid=r.uvid),$Support.istrigmsg&&$Support.Util.handleCallbacks("visitor.triggerresponded",{});var e=r.attender,i=this.LSDB.get("ZLDPERSONALIZE");null!=e&&""!=e?(t.attender=e,$Support.isbottrigmsg&&(t.isbotchat=!0)):$Support.getParent().$ZSIQChat.getWidgetData().widgettype==$Support.getParent().SIQ_PERSONALIZE&&i&&(t.attender=i),r.visitorphone&&(t.phone=r.visitorphone);var o=r.attenderemail;o&&(avimpl.attenderemail=t.attenderemail=o);var n=this.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid");n&&(t.avuid=n);var s=$Support.getParent().$ZSIQUtil.getAPIVisitorID();s&&(t.cvuid=s);var p=r.cinfo;if($Support.getParent().$ZSIQChat.getWidgetData().embedobj.ismailchimpenabled&&!$Support.getParent().$ZSIQChat.istrackedfrommailchimp){if(t.mc_cid=$Support.getParent().$ZSIQUtil.getURLParameterByName("mc_cid"),t.mc_eid=$Support.getParent().$ZSIQUtil.getURLParameterByName("mc_eid"),null!=t.mc_cid&&""!=t.mc_cid&&null!=t.mc_eid&&""!=t.mc_eid)$Support.storeInCookie("mc_cid",t.mc_cid,864e5),$Support.storeInCookie("mc_eid",t.mc_eid,864e5);else if(u=$Support.getCookieValue("mailchimp")){var d=u;"string"==typeof u&&(u=JSON.parse(d)),t.name=d.name,t.email=d.email}else t.mc_cid=$Support.getCookieValue("mc_cid"),t.mc_eid=$Support.getCookieValue("mc_eid");null!=t.mc_cid&&""!=t.mc_cid&&null!=t.mc_eid&&""!=t.mc_eid||(t.mc_cid=void 0,t.mc_eid=void 0)}else{var u;(u=$Support.getCookieValue("mailchimp"))&&("string"==typeof(d=u)&&(u=JSON.parse(d)),t.name=d.name,t.email=d.email)}var c=r.exid;c&&(t.exid=c),p&&("object"==typeof p&&(p=JSON.stringify(p)),t.cinfo=p),$Support.Util.isCampaignEnabled()&&$Support.subscribe&&(t.subscribe="true");var l=$Support.getParent().$ZSIQUtil.getAPIValues();if((l.mtrigger||l.triggermsg)&&r.pmsg&&(t.prevtrigg=r.pmsg),t.includebots=!0,l.waitime&&(t.custom_waitime=l.waitime),r.isaudiocall){CallImpl.isCallWithChat=!0,CallImpl.updateUI(AV_OUTGOINGCALL),t.isaudiocall=r.isaudiocall,EmbedSound.play("outgoingcall",60),this.LSDB.remove("av_call"),this.LSDB.set("av_call",!0);var m=$Support.waitingtime||$Support.EmbedObj.embedwaitingtime;this.LSDB.set("ZLD_ApiAVCall",!0,1e3*m),clearTimeout(avimpl.ApiCalltimer),avimpl.ApiCalltimer=setTimeout(function(){avimpl.terminateAudioCall();var t={attenderemail:avimpl.attenderemail,waitingduration:m};avimpl.handleUserBusy(),$Support.Util.handleCallbacks("call.missed",t)},1e3*m),$Support.setWaitingCookie(),avimpl.attenderemail&&(t.attenderemail=avimpl.attenderemail),CallImpl.isCallAloneEmbed()&&delete $Support.composer}this.handleAjax("addvist",t,function(t){var e=t.objString;if(e.CLEARBITINFO&&(DynamicMsg.updateClearBitValues(JSON.parse(e.CLEARBITINFO)),delete e.CLEARBITINFO),$("#audiocall_outgoingend").removeClass("cmn_disable"),DynamicMsg.setValues(e),$Support.EmbedObj.feedbackcomplete=DynamicMsg.fillValues($Support.EmbedObj.feedbackcomplete),a.updateAddVistObj(e),"object"!==t.objType||"EMBEDOFFLINE"!==e.ERROR){var i=e.ATTENDER;if(i&&r.attender!=i&&(r.attendername=r.attenderemail),r.setAttender(i),r.setVisitID(e.VISIT_ID),r.setChatID(e.CHID),$Support.isBotChat=""+e.ISBOTCHAT=="true",r.isaudiocall||$UI.hideCaptcha(),a.deleteTriggerCookie(),a.handleTrigAddVist(e),$Support.istriggeredchat)a.setCookie();else{var o=(new Date).getTime()-parseInt(e.DIFFTIME)-a.intime;a.latency=o/(a.remwaitingtime+o)*a.stepinterval,a.setWaitingCookie()}delete a.rating;var n={name:r.visitorname,email:r.visitoremail,question:r.question,visitid:r.VISITID};n.phone=r.visitorphone?r.visitorphone:"",n.customfields=r.cinfo?r.cinfo:"",$Support.istriggeredchat?a.Util.handleCallbacks("visitor.triggeredchat",n):a.Util.handleCallbacks("visitor.chat",n),r.isaudiocall||$Support.handleOnGoingchatActionsInConversation("newchat"),delete r.isaudiocall,$("#wait_div").length||JSON.parse(e.ISBOTCHAT)||$Support.istriggeredchat||($Support.handleWaitingDisplay(),$UI.populateVisitorQuestion())}else a.handleAddVisitStatusChange(e)},function(t){a.addVisitErrorHandling(t),delete r.isaudiocall})},addVisitErrorHandling:function(t){if(/module/.test(t.responseText))try{var e=JSON.parse(t.responseText)[0].objString.digest;return void(e?setTimeout(function(){$UI.showCaptcha(e)},300):$UI.updateOfflineUI())}catch(t){}},updateAddVistObj:function(t){var e=this.EmbedObj,i=t.NAME;e.setVisitorName(i),e.setVisitorEmail(t.EMAIL),e.setVisitorID(t.CU_ID),LSMessanger.setNickName(i)},handleTrigAddVist:function(t){var e=t.ADDINFO;e&&(e=JSON.parse(e),$Support.istrigmsg&&e[ADDINFO_TRIGGER]&&(this.istriggeredchat=!0,delete $Support.istrigmsg,$Support.EmbedObj.setChatID(t.CHID),_JOINED=!0),$Support.isBotChat&&($UI.appendTransferDiv(),delete this.istriggeredchat))},handleWaitingDisplay:function(t,e,i,o){if(!this.istriggeredchat){if(o)return $Support.waitingtime=this.EmbedObj.embedwaitingtime,void $UI.showWaitingUI(!0);clearTimeout(this.waitTimer);var n=$Support.remwaitingtime=$Support.getWaitingHandlerCookie().remwaitingtime,a=Math.round(n/1e3),r=$Support.EmbedObj;this.waitingtime=a;var s=void 0===$Support.nochatforward||$Support.nochatforward;if(r.attender&&s&&this.waitingtime==Math.floor(r.embedwaitingtime/2)&&!e&&$Support.broadcastVisitor(),n<=0)if(this.LSDB.remove("ZLD"+r.livelsid+"WTIME"),this.removeBroadCast(),e){$Support.botchatprops.status="missed",$Support.setCookie(),$UI.showTransferMissed();var p={};p.chid=r.chid,$Support.handleOnGoingchatActionsInConversation("missedchat",p)}else this.handleMissed("CWTOUT","2",!0);else{if($Support.Util.isApiWaitHandler())try{$Support.Util.handleCallbacks("chat.waitinghandler",{WTIME:r.embedwaitingtime,CURRENTTIME:a,waitingtime:r.embedwaitingtime,currenttime:a})}catch(t){}t?$UI.updateWaitingTime():$UI.showWaitingUI(i),this.stepinterval||(this.stepinterval=500),this.waitTimer=setTimeout(function(){$Support.handleWaitingDisplay(!0,e)},$Support.stepinterval)}}},handlePickUp:function(t){var e=this.EmbedObj;$Support.isBotChat=""+t.isbotpickup=="true",$Support.botchatprops={status:"connected"},e.setAttender(t.attender),$Support.isBotChat&&$Support.contentdiv.stop(!1,!1,!0),this.removeCookie("ZLD"+e.livelsid+"WAITING"),this.LSDB.remove("ZLD"+e.livelsid+"WTIME"),this.removeBroadCast(),this.composer&&this.composer.removeAttr("disabled"),$UI.removeCWaitHandler(),clearTimeout(this.waitTimer),handlePaste(),delete this.istriggeredchat,delete this.proactive,delete this.waitingtime,e.setChatID(t.chid),e.setVisitorID(t.visitorid),e.setAttender(t.attender),e.setAttenderZUID(t.attenderzuid),e.setAttenderUserAgent(t.attender_useragent),e.chatintime=$Support.intime;var i=CallImpl.isCallWithChat;!i&&$UI.hideBanner(),e.attenderimagefkey=t.image_fkey,!i&&$UI.setInnerHeader(t),e.attendername=getUnescapedText(t.attendername),e.attenderemail=t.attenderemail,e.attenderaboutme=t.aboutme,DynamicMsg.updateValue("attendername",e.attendername),DynamicMsg.updateValue("attenderemail",e.attenderemail),LSMessanger.joinchat(t.chid,e.vwmsid),this.setCookie(),!i&&$UI.populateUserAction(),!i&&$UI.populateIcon(),avimpl.checkAudioCallButton();var o=parseInt(t.pickuptime)-parseInt($Support.intime),n={attendername:e.attendername,attenderemail:e.attenderemail,visitid:e.VISITID,waitingduration:o};$Support.Util.handleCallbacks("visitor.attend",n)},sendMessage:function(t,e){if(!$Support.isbottrigmsg||!$Support.checkAndShowMandatoryFields(e)){$Support.isBotChat&&($Support.clearBotQuestionTimeout(),$Support.updateSIQFields({value:t}));var i=this.EmbedObj,o=i.chatID;if(-1!==i.visitorID)return e.val("").focus(),Message.send(o,t),!1;-1!==o?this.joinProactiveChat(t):$Support.isbottrigmsg&&this.handleBotTriggerReply(t,e)}},handleBotTriggerReply:function(t,e){$Support.EmbedObj.question=t,this.istriggeredchat=!0,$Support.EmbedObj,e&&(e.val(""),this.enableTextarea(e)),$Support.updateVisitorName(),$Support.Util.removeSendClickAction(),this.getComposer().attr("dockeyup","sendmessage"),$Support.startChat()},handleSendMessage:function(t,e,i){try{this.endtimer&&this.clearEndTimer(),16!=e&&Self.status.active(i)}catch(i){}if(this.Util.handlePredictMsg(t),13==e&&i.shiftKey)return this.Util.calculateTextareaHeight(),!0;if(this.toggleSendButton(t),13==e){if(!Smiley.handleInSertSmiley(null,i.target))return this.Util.calculateTextareaHeight(),!1;this.triggerSendMessage(t),i.preventDefault()}var o=$Support.EmbedObj.eprops;JSON.parse(o.showsmiley)&&Smiley.checkAndTriggerSmiley(i,e),this.Util.calculateTextareaHeight()},toggleSendButton:function(t){t=t||$Support.getComposer(),""===$.trim(t.val())?$Support.Util.removeSendClickAction():($("#sqico-send").attr("documentclick",t.attr("dockeyup")),$Support.isNewHeader()&&$Temp.handleStartChatBTN(),$("#action_icons").addClass("show_send"))},triggerSendMessage:function(t){var e=this.Util;clearTimeout(e.prdcttimer),t=t||$Support.getComposer();var i=$.trim(t.val());if(""!=i)if(Licence.verify("creditmask")&&Message.checkMaskOccurance(i,!0)){$UI.appendConsentDiv(!1),$Support.disableTextarea();var o=document.getElementById("msgmaindiv");Message.scroll(o)}else this.getUserConsent(0,t)},getUserConsent:function(t,e){var i=1==t,o=this.Util;clearTimeout(o.prdcttimer),e=e||$Support.getComposer();var n=$.trim(e.val());i&&(n=Message.checkMaskOccurance(n,!1)),this.endtimer&&$Support.clearEndTimer(),this.sendMessage(n,e),$Support.Util.removeSendClickAction(),$UI.removeConsentDiv(),$Support.enableTextarea(),$Support.Util.calculateTextareaHeight(),o.enablepmsg=!1},getChatUserConsent:function(t,e,i){if($UI.removeChatConsentDiv(),0!=t){if($Support.LSDB.storeInSession(_SCREENNAME+"_gdpr_chatconsent",!0),i&&$Support.proactivedata)return $UI.populateUserAction(),$UI.populateIcon(),handlePaste(),void $Support.startProactiveChat($Support.proactivedata);var o=$Support.EmbedObj.attender;if(!o){var n=this.LSDB.get("ZLDPERSONALIZE");o=$Support.getParent().$ZSIQChat.getWidgetData().widgettype==$Support.getParent().SIQ_PERSONALIZE&&n?n:void 0}var a=$Support.getBotUser(),r=!a||o&&-1==a.indexOf(o);!$Support.istriggeredchat&&r?$Support.startWaitingTimer():a&&!$Support.isbottrigmsg||$Support.showVisitorQuestion(),e||LSMessanger.sid?$Support.addVisitor():this.EmbedObj.vwmsid?LSMessanger.register($Support.Util.productCode,this.EmbedObj.vwmsid):$Support.getAnnonID($Support.EmbedObj.visitorname)}else this.closeChatConsentCallBk(i)},startWaitingTimer:function(){$UI.showWaitingUI(),$Support.stepinterval||($Support.stepinterval=500),$Support.waitTimer=setTimeout(function(){$Support.handleWaitingDisplay(!0,null)},$Support.stepinterval)},startProactiveChat:function(t){var e=this.EmbedObj;$Support.getComposer().val(""),$("#msgarea").val(""),Message.displaySendMessage(e.chatID,e.question),$Support.handleAjax("joinproactive",t,function(t){$Support.Util.handleUpdateBTN(),"error"!=t.objType&&($Support.handleJoinProActive(t.objString),$Support.Util.handleCallbacks("visitor.triggerresponded",{}))})},closeChatConsentCallBk:function(t){if(t||$Support.istriggeredchat)return $Support.istriggeredchat&&this.getComposer().attr("dockeyup","triggermsg"),$Support.getComposer().val(""),$("#msgarea").val(""),void $Support.getParent().$ZSIQChatWindow.closeChatWindow();$Support.getParent().$ZSIQChatWindow.closeChatWindow(),setTimeout(function(){$Support.Util.closeEmbed()})},chatWindowUICallBk:function(){var t=this.composer=$Support.getComposer(),e=$Support.getParent().$ZSIQUtil.getCookieValue("state");t.val(""),-1!=this.EmbedObj.chatID&&this.EmbedObj.chatID||$UI.populateVisitorQuestion(),this.handleComposerEvents();var i=this.istrigmsg;if(this.proactive||i)return i||(this.updateTranscriptFromSession(),t.attr("dockeyup","sendmessage")),2==e&&$Support.getParent().$ZSIQChatWindow.expandChatWindow(),void(i&&!$Support.isbottrigmsg&&t.attr("dockeyup","triggermsg"));var o=this.EmbedObj.addinfo.autochat;o&&""+o=="true"&&$Support.getParent().$ZSIQChatWindow.expandChatWindow()},handleComposerEvents:function(){this.composer.on("focus.blinktitle keyup.blinktitle click.blinktitle",function(){$Support.iscomposerfocus=!0,Message.stopBlinking()}),this.composer.bind("blur.blinktitle",function(){$Support.iscomposerfocus=!1})},reJoin:function(){var n=this,a=n.EmbedObj,t=lsnocachefix("json");t.visitorid=a.visitorID,this.handleAjax("rejoinvisitor",t,function(t){if("error"!=t.objType){var e=t.objString,i=e.chid?e.chid:a.chatID();if(a.setChatID(i),LSMessanger.joinchat(i,a.vwmsid),e.visitid&&(a.VISITID=e.visitid),e.ispickup){var o=$Support.getCookieValue("ZLD"+a.livelsid);(!o||o&&!o.cid)&&n.handlePickUp(e)}}})},handleMissed:function(t,e,i){$UI.removeCWaitHandler(),this.missedVisitorAction(t,e,i)},missedVisitorAction:function(e,t,i){var o;lsnocachefix("json");var n=$Support.EmbedObj;-1!=n.visitorID&&(o={lsid:n.livelsid,visitorid:encodeURIComponent(n.visitorID),vwmsid:n.vwmsid,mode:"visitor",debuginfo:CommonUtil.toJSON({"Missed By":e}),actiontype:t},this.handleAjax("missedvisitor",o,function(t){$Support.handleMissedVisitor("error"!=t.objType,e)},function(t){}))},handleMissedVisitor:function(t,e,i,o){if($Support.callquitstatus=!0,LSMessanger.disable(),clearTimeout($Support.waitTimer),$Support.removeChatCookie(),t){if(e&&"ONHAS"==e)$Support.init($Support.getParent().$ZSIQWidget.getEmbedObject()),$Support.getParent().$ZSIQChatWindow.constructIframe();else if(!$Support.waitingtime||$Support.waitingtime<=0){var n=$Support.EmbedObj;if($Support.resetChatAndShowOfflineUI(o),!i){var a={name:n.visitorname,email:n.visitoremail,question:n.question,visitid:n.VISITID};a.phone=n.visitorphone?n.visitorphone:"",a.customfields=n.cinfo?n.cinfo:"",$Support.Util.handleCallbacks("visitor.missed",a)}}var r={};r.chid=n.lchid,$Support.handleOnGoingchatActionsInConversation("missedchat",r)}},handleBotBusy:function(t){$UI.removeTransferDiv(),$Support.resetChatAndShowOfflineUI(!0,!0)},resetChatAndShowOfflineUI:function(t,e){var i=$Support.EmbedObj;i.setPrevCHID(i.chatID),i.setChatID(-1),$UI.showMissedVisitorBanner(t,e),$Support.isNewHeader()?$("#sqico-send").attr("title",LSResource.getRealValue("embed.submit")):$("#msgarea").after($Temp.getSendIcon(!0))},transferMissedLeaveMessage:function(t){$Support.callquitstatus=!0,LSMessanger.disable(),$Support.removeChatCookie();var e=$Support.EmbedObj;e.setPrevCHID(e.chatID),e.setChatID(-1);var i=!1;"offline"==t.attr("purpose")&&(i=!0),$TH.handleMissedStatus(i)},handleLeaveMessage:function(){$Support.sendOfflineMsg()},getComposer:function(){return $Support.composer||$("#msgarea")},sendOfflineMsg:function(){var t={},r=$Support,s=r.EmbedObj,p=r.getComposer(),d=$.trim(p.val());$.extend(t,Browser.getInfo(),{referrer:processInput("trimlength",t.referrer,3e3),currentpage:processInput("trimlength",t.currentpage,950),lsid:s.livelsid,email:processInput("emailid",s.visitoremail),name:s.visitorname,msg:d,deptid:s.department,isengaged:r.engaged||!1}),this.updateDynamicKeys(t),s.visitorphone&&(t.phone=s.visitorphone),s.uvid&&(t.uvid=s.uvid);var e=this.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid");e&&(t.avuid=e);var i=$Support.getParent().$ZSIQUtil.getAPIVisitorID();i&&(t.cvuid=i);var o=s.exid;o&&(t.exid=o);var n=s.cinfo;n&&("object"==typeof n&&(n=JSON.stringify(n)),t.cinfo=n);var u,c,a=this.LSDB.get("ZLDPERSONALIZE");if($Support.getParent().$ZSIQChat.getWidgetData().widgettype==$Support.getParent().SIQ_PERSONALIZE&&a){t.attender=a;var l=$Support.getParent().$ZSIQWidgetUI.getUserObj(a);u=l.name,c=l.image_fkey}t.includebots=!0,$Support.LSDB.storeInSession(_SCREENNAME+"_gdpr_chatconsent",!0),$UI.removeOfflineConsentDiv(),r.handleAjax("leavemsg",t,function(t){if("error"!=t.objType&&"leavemsg"==t.module){var e=t.objString;if("object"===t.objType&&"EMBEDONLINE"===e.ERROR)return void r.handleLeaveMessageStatusChange(e);$EmbedManger.setQuitStatus(!0);var i=$Support.getAggregateStatus(s.deptlist),o=r.engaged?s.engagedrespmsg:i[0]&&s.deptofflinerespmsg?s.deptofflinerespmsg:s.offlinerespmsg;DynamicMsg.updateValue("visit_id",e.visit_id),$Support.Util.removeSendClickAction(),$Support.bannertimeout=setTimeout(function(){$UI.showBanner(DynamicMsg.fillValues(o),!0,$Support.Util.minimizeEmbed,5e3),$("#info_banr").removeClass("relate"),$Support.Util.setTextareaHeight()},700),p.val("");var n={name:s.visitorname,email:s.visitoremail,question:d,visitid:e.visit_id};n.phone=s.visitorphone?s.visitorphone:"",n.customfields=s.cinfo?s.cinfo:"",$Support.Util.handleCallbacks("visitor.offline",n);var a={};a.question=getEscapedText(d),a.endtime=e.servertime,a.name=e.name,a.visitorid=e.encvisitorid,u&&(a.attender=u,a.attender_imgkey=c),$Support.handleOnGoingchatActionsInConversation("leavemsg",a)}})},setInfoCookie:function(t){var e=$Support.EmbedObj,i=$Support.container,o={question:t};CommonUtil.addIfExists(o,"name",i.find('[info = "name"]').val()),CommonUtil.addIfExists(o,"email",i.find('[info = "email"]').val()),CommonUtil.addIfExists(o,"phone",i.find('[info = "phone"]').val()),this.LSDB.set("ZLD"+e.livelsid+"VISITORINFO",o,6e4)},handleTriggerMsg:function(t,e,i){if(13==e&&i.shiftKey)return!0;$Support.toggleSendButton(t),13===e&&this.startTriggerChat(t)},checkAndShowMandatoryFields:function(t){return!(-1!=$Support.EmbedObj.department&&!$Support.Util.IsMandatoryFieldsAvailable()||($Support.disableTextarea(t),$UI.showUserEditUI(),$Support.container.find('[documentclick="updateuserdetails"]').attr("callback","trigger"),0))},startTriggerChat:function(t){if(t=t||$Support.getComposer(),""===$.trim(t.val()))return!1;if($Support.istriggeredchat=!0,!$Support.checkAndShowMandatoryFields(t)){var e=$Support.EmbedObj.chatID;if($Support.isbottrigmsg&&(!e||"-1"==e)){var i=$.trim(t.val());return t.val(""),$Support.EmbedObj.question=i,ZSIQTranscript.updateTranscript({html:ZSIQTranscript.getTranscript({msg:i,sender:$Support.EmbedObj.vwmsid}),ispopulate:!0}),void $Support.handleBotTriggerReply(i)}$Support.enableTextarea(t),$Support.updateVisitorName(),$Support.Util.removeSendClickAction(),$Support.getComposer().attr("dockeyup","sendmessage"),$Support.startChat()}},showVisitorQuestion:function(){var t=$Support.EmbedObj;void 0===t.question&&(t.question=$.trim($Support.getComposer().val()),$Support.getComposer().attr("dockeyup","sendmessage").val("")),$Support.istrigmsg=!1,$UI.hideUserEditUI(),$UI.populateVisitorQuestion(),$Support.istrigmsg=!0},disableTextarea:function(t){(t=t||$Support.getComposer()).attr("disabled","true")},enableTextarea:function(t){(t=t||$Support.getComposer()).removeAttr("disabled")},missedLeaveMsg:function(t){var e=$Support;e.ismissed=!0,t=t||e.getComposer(),eobj=e.EmbedObj;var i=$.trim(t.val());if(Licence.verify("creditmask")&&Message.checkMaskOccurance(i,!0)){$UI.appendConsentDiv(!0),e.disableTextarea(t);var o=document.getElementById("msgmaindiv");Message.scroll(o)}else this.getMissedUserConsent(0,t)},getMissedUserConsent:function(t,i){var e=1==t,o=$Support;i=i||o.getComposer();var n=o.EmbedObj,a=n.lchid,r=$.trim(i.val());n.setPrevCHID(-1),e&&(r=Message.checkMaskOccurance(r,!1)),Message.send(a,r),$UI.removeConsentDiv(),o.Util.calculateTextareaHeight(),$UI.hideUserEditUI();var s={};(s=lsnocachefix("json")).lsid=n.livelsid,s.visitorid=n.visitorID,s.msg=r,s.dname=n.visitorname,s.email=n.visitoremail,s.vwmsid=n.vwmsid,n.visitorphone&&(s.phone=n.visitorphone),o.updateDynamicKeys(s),o.handleAjax("missedleavemsg",s,function(t){if("error"!=t.objType&&"unattleavemessage"==t.module){$Support.isBotChat&&ZSIQTranscript.removeTyping(!0),o.disableTextarea(i),i.val(""),delete o.ismissed,DynamicMsg.updateValue("visit_id",t.objString.VISITID),o.removeChatCookie(),$Support.bannertimeout=setTimeout(function(){$UI.showBanner(DynamicMsg.fillValues($Support.EmbedObj.missedrespmsg),!0,function(){$Support.Util.closeEmbed()}),$("#info_banr").removeClass("relate"),$Support.Util.setTextareaHeight()},1e3);var e={};e.msg=r,$Support.handleOnGoingchatActionsInConversation("missedleave",e)}})},setCookie:function(){var t=this.EmbedObj,e=t.visitorID;if(!(this.waitingtime||-1===t.chatID&&-1===e)){clearTimeout($Support.timer);var i={name:t.visitorname,email:t.visitoremail,phone:t.visitorphone,cid:t.chatID,did:t.department,vid:t.visitorID,vwmsid:t.vwmsid,attender:t.attender,attenderzuid:t.attenderZUID,attenderuseragent:t.attenderuseragent,uvid:t.uvid,ques:t.question,visitid:t.VISITID,imagefkey:t.attenderimagefkey};t.chatintime&&(i.chatintime=t.chatintime);var o=$Support.getCookieValue("ZLD"+t.livelsid),n=o&&o["aboutme_"+e],a=o&&o["attname_"+e];i["aboutme_"+e]=n||t.attenderaboutme,i["attname_"+e]=a||t.attendername,CommonUtil.addIfExists(i,"attenderemail",t.attenderemail),$Support.proactive&&(i.isproactive=!0),$Support.istriggeredchat&&(i.istriggeredchat=!0),$Support.isBotChat&&(i.isbotchat=!0,$Support.botchatprops&&(i.botchatprops=$Support.botchatprops)),this.LSDB.set("ZLD"+t.livelsid,i,31e4),$Support.handleDomainStorage("updatecorsdata","localstorage"),$Support.timer=setTimeout(function(){$Support.setCookie()},3e5)}},setWaitingCookie:function(t){var e=this.EmbedObj;if(e.type&&"embed"!=e.type){var i=e.embedwaitingtime,o={vid:e.visitorID,vwmsid:e.vwmsid,waitinghandlerprops:{intime:this.intime,latency:this.latency},name:e.visitorname,email:e.visitoremail,phone:e.visitorphone,did:e.deparment,chid:e.chatID,ques:e.question,visitid:e.VISITID};e.attender&&(o.attender=e.attender),this.LSDB.set("ZLD"+e.livelsid+"WAITING",o,1e3*i)}},updateChatCookie:function(){clearTimeout($Support.timer);var t=this.EmbedObj,e={name:t.visitorname,email:t.visitoremail,phone:t.visitorphone};this.LSDB.set("ZLD"+t.livelsid,e,31e4),$Support.handleDomainStorage("updatecorsdata","localstorage")},removeCacheCookie:function(){this.LSDB.removeSessionStore(this.EmbedObj.chatID+"_transcript")},getCookieValue:function(t){return t?this.LSDB.get(t):""},isSessionTranscriptEmpty:function(){var t=this.LSDB.getFromSession(this.EmbedObj.chatID+"_transcript");return!(t&&0<t.length)},getWaitingCookie:function(){var t=this.getCookieValue("ZLD"+this.EmbedObj.livelsid+"WAITING");try{if("window"==PersonalSupport.type)return""}catch(t){}return t},getWaitingHandlerCookie:function(){var t=this.EmbedObj,e="ZLD"+t.livelsid+"WTIME",i=this.LSDB.get(e);if($Support.latency||($Support.latency=0),i){var o=(new Date).getTime()-i.previouscalltime;i.remwaitingtime=i.remwaitingtime+parseInt($Support.latency)-o,i.previouscalltime=(new Date).getTime()}else i={remwaitingtime:1e3*t.embedwaitingtime,previouscalltime:(new Date).getTime()};return this.LSDB.set(e,i,12e4),i},removeChatCookie:function(){clearTimeout($Support.timer),this.removeCookie("ZLD"+this.EmbedObj.livelsid)},getTriggerCookie:function(){if(this.isFloat())return this.getCookieValue("ZLDTRIGGER"+this.EmbedObj.livelsid)},setTriggerCookie:function(t){var e=this,i=e.EmbedObj;clearTimeout(e.triggercookietimer);var o=i.visitorname,n=i.visitoremail,a={isbottrigger:t.isbottrigger,sendername:t.sendername,message:t.message,uvid:i.uvid,name:o,email:n,cinfo:i.cinfo};t.attenderdetails&&(a.attenderdetails=t.attenderdetails),t.departments&&(a.departments=t.departments),this.LSDB.set("ZLDTRIGGER"+i.livelsid,a,31e4),e.triggercookietimer=setTimeout(function(){e.setTriggerCookie(t)},3e5)},deleteTriggerCookie:function(){clearTimeout(this.triggercookietimer),this.removeCookie("ZLDTRIGGER"+this.EmbedObj.livelsid)},removeCookie:function(t){this.LSDB.remove(t)},handleWaitingCookie:function(t){if(!this.isFloat())return!1;this.updateCommonKeys(t),LSMessanger.register($Support.Util.productCode,t.vwmsid),LSMessanger.setNickName(t.name);var e=t.chid,i=$Support.EmbedObj;i.question=t.ques,this.intime=t.intime,i.setChatID(e),$UI.setHeader(),$UI.setBody(!0),$UI.setFooter(),DynamicMsg.setValues($Support.getValuesForDynamicMsg()),$Support.handleWaitingDisplay("");var o=t.waitinghandlerprops;$Support.intime=o.intime,$Support.latency=o.latency},updateCommonKeys:function(t){var e=this.EmbedObj;e.setVisitorName(t.name),e.setVisitorEmail(t.email),e.setChatID(t.cid),e.setSelectedDept(t.did),e.setVisitorID(t.vid),e.setvwmsID(t.vwmsid),e.setVisitID(t.visitid),e.setVisitorPhone(t.phone),t.attender&&e.setAttender(t.attender),t.chatintime&&(e.chatintime=t.chatintime)},quitChat:function(){$("#conversationoption").remove();var t=$("#info_banr");t.find(".siq-share-url")[0]&&t.remove();var e,i=this.EmbedObj,o=i.visitorID;-1!==o&&(lsnocachefix("json"),e={chid:i.chatID,lsid:i.livelsid,uname:LSMessanger.getUserId(),visitorid:encodeURIComponent(o),deptid:i.department,tzoffset:CommonUtil.TZOFFSET},CallImpl.isCallWithChat||avimpl.stopOngoingCallOnChatEnding(),$BotImpl.resetMessageSequence(),this.handleAjax("leavesupport",e,function(t){var e=t.objString;$Support.handleChatEnded(e),$Support.convongoingchatobj&&($Support.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype")}))},getAnnonID:function(t){var e={};(e=lsnocachefix("json",!1)).name=t,this.handleAjax("getannonid",e,function(t){if("getannonid"==t.module){var e=t.objString.ANNONID;$Support.EmbedObj.vwmsid=e;var i=$Support.getParent().$ZSIQChat.getWidgetData();i.embedobj.annonid=e,$Support.getParent().$ZSIQUtil.storeDetails(i),LSMessanger.register($Support.Util.productCode,e)}})},handleChatEnded:function(t){if(!$EmbedManger.getQuitStatus()){$Support.cacheCurrentChat(),$Support.clearEndTimer(),$("#msgarea").off("paste"),$UI.updateChatEndMsg(),$Support.Util.handleResize();var e,i=this.EmbedObj,o=i.thanksmsg;o=o?DynamicMsg.fillValues(o):(e=$Support.israting&&$Support.isfeedback?"embed.thanksmsg.ratingandfeedback":$Support.israting?"embed.thanksmsg.rating":$Support.isfeedback?"embed.thanksmsg.feedback":"embed.thanksmsg.noratingandfeedback",LSResource.getRealValue(e)),$UI.showBanner(o,!0,null,2500),this.LSDB.remove(i.chatID+"_sound"),this.LSDB.remove(i.chatID+"_translate"),$Support.hidetranslatebanner(),$UI.removeSmileyIcon(),$UI.showFeedback(),Message.scroll($Support.chatdiv[0]),Message.stopBlinking(),i.setPrevCHID(i.chatID),i.setChatID(-1),$Support.removeCacheCookie(),$Support.updateChatCookie(),$EmbedManger.setQuitStatus(!0),$Support.isBotChat&&($Support.botchatprops&&$Support.botchatprops.status&&"waiting"==$Support.botchatprops.status&&($Support.removeCookie("ZLD"+i.livelsid+"WAITING"),$UI.removeCWaitHandler(),clearTimeout($Support.waitTimer),delete $Support.waitingtime),$UI.removeTransferDiv()),delete $Support.ischatdisabled,$Support.isBotattendedchat=$Support.isBotChat,delete $Support.isBotChat,delete $Support.hidetransfer,delete $Support.botchatprops;var n={visitid:t.visitid,chatduration:t.chatduration};$Support.Util.handleCallbacks("visitor.chatcomplete",n),$Support.isipblocked&&($Support.getParent().$ZSIQUtil.preserveBlockIP(),this.removeWidget())}},restartchat:function(){if(!$Support.Util.isPreview()){var t=this.EmbedObj;$Support.callquitstatus=!1,t.setVisitorID(-1),t.setChatID(-1),t.setVisitID(-1),_JOINED=!1,Message.presender="",$Support.isfeedbacksent=!1,this.initiateChat(!0),$UI.setFooter()}},sendMail:function(t,e,i){var o=$("#smailbx"),n=o.find("input");if(e=n.val(),!n.attr("disabled")&&""!=e){var a=$Support.contentdiv.find('[documentclick="sendmail"]');if(i=a.attr("chid"),a.attr("visitorid"),!this.Util.validateFields(o))return!1;$UI.hideUtilityDiv(o),$UI.populateSendMailConfirm(e,i)}},sendMailConfirm:function(t){var e=$Support.EmbedObj,i=$("#consentbannerdiv"),o=!1;if($Support.contentdiv.find(".infomsg.chtend").length&&(o=!0),t.hasClass("gltr-no"))$UI.hideUtilityDiv(i,!0,o);else{var n=t.attr("cattr");$UI.hideUtilityDiv(i,!0,o);var a=t.attr("chid")||e.chatID,r=e.visitorID,s={chid:a,fformat:"mail",toemail:$.trim(n),cmode:"live",visitorid:encodeURIComponent(r),oprname:"chat",user:e.vwmsid,tzoffset:_TZCOFFSET};this.handleAjax("visdataexport",s,function(){$UI.showBanner(LSResource.getRealValue("infomsg.mailsended"),!0),$Support.Util.handleCallbacks("chat.mail",{})},function(){$UI.showBanner(LSResource.getRealValue("ne.sendmail.failed"),!0)},LSResource.getRealValue("ne.mail.progress"))}},updateTranslateCookie:function(){var t=$Support.contentdiv.find("#consentbannerdiv"),e=$Support.EmbedObj.chatID+"_translate";this.LSDB.set(e,!0),$UI.hideUtilityDiv(t,!0)},hidetranslatebanner:function(){var t=$Support.contentdiv.find("#consentbannerdiv");$UI.hideUtilityDiv(t,!0)},printPreview:function(){var t=$Support.EmbedObj,e=t.chatID,i=t.visitorID,o=_TZCOFFSET;if(-1!=e){if(null==e||null==e)return;var n=parseInt(80*screen.width/100),a=parseInt(77*screen.height/100),r=(screen.width-n)/2,s=(screen.height-a)/2,p=$Support.getAjaxURL("embedprintchat",".ls");p+="?chid="+encodeURIComponent(e)+"&visitorid="+encodeURIComponent(i)+"&tzoffset="+o+"&cross_domain=true",p+=lsnocachefix(),window.open(p,(new Date).getTime(),"height="+a+", width="+n+",status=yes,toolbar=no,top="+s+", left="+r+", menubar=no,location=no,scrollbars=yes,resizable=yes"),$Support.Util.handleCallbacks("chat.print",{})}$Support.Util.hideMoreActionDiv()},setRating:function(t){var i=this.rating=5-t.index(),e={};(e=lsnocachefix("json")).rate=i,eobj=$Support.EmbedObj,e.visitorid=encodeURIComponent(eobj.visitorID),e.isbotchat=$Support.isBotattendedchat,delete $Support.isBotattendedchat,this.handleAjax("setsuppreprate",e,function(){if(CallImpl.isCallWithChat){CallImpl.updateUI(AV_FDBCK,i);var t={visitid:eobj.VISITID,rating:i,agent:eobj.attenderemail};return $Support.Util.handleCallbacks("visitor.rating",t),void $("#fdbkarea").slideDown(250,function(){$(this).focus()})}var e=eobj["feedbackcomplete"+i]||LSResource.getRealValue("ne.rating."+i);$UI.showBanner(e,!0,null,2500),t={visitid:eobj.VISITID,rating:i,agent:eobj.attenderemail},$Support.Util.handleCallbacks("visitor.rating",t),$("#fdbkarea").slideDown(250,function(){$(this).focus()}),$("#sqico-send").show(),!(0<$Support.contentdiv.find("#feedback_res").length&&$Support.contentdiv.find("#feedback_res").hasClass("lstmsg_strs"))&&$Support.isfeedbacksent&&$UI.showFdbkResponse()})},handleAjax:function(o,t,e,n,i){if(!$Support["requestRunning_"+o]){$Support["requestRunning_"+o]=!0;var a=setTimeout(function(){i&&$UI.showBanner(i)},500);$.ajax({url:$Support.getAjaxURL(o,dext),type:"POST",data:t,dataType:"json",async:!0,success:function(t){clearTimeout(a),e&&(e(t&&t[0]),delete $Support["requestRunning_"+o])},error:function(t,e,i){clearTimeout(a),n&&(n(t),delete $Support["requestRunning_"+o])}})}},sendFeedback:function(i){if(i=i||$("#fdbkarea"),!($Support.isfeedbacksent||i.val().length<1)){var t={},o=this,n=$Support.EmbedObj,a=i.val();(t=lsnocachefix("json")).visitorid=encodeURIComponent(n.visitorID),t.msg=a,CallImpl.updateUI(AV_FDBCKSUCCESS),this.handleAjax("visitorfeedback",t,function(t){if("error"!=t.objType&&"addfeedback"==t.module){if(CallImpl.isCallWithChat){var e={visitid:n.VISITID,rating:rating,agent:n.attenderemail};return void $Support.Util.handleCallbacks("visitor.rating",e)}o.disableTextarea(i),$Support.isfeedbacksent=!0,$UI.showFdbkResponse(),e={visitid:n.VISITID,feedback:a,agent:n.attenderemail},$Support.Util.handleCallbacks("visitor.feedback",e)}},"",LSResource.getRealValue("ne.feedback.progress"))}},handleEndSession:function(t,e){var i=this;if(clearTimeout(i.timervar),i.endtimer=!0,i.callquitstatus&&i.clearTimer(),(o={}).timer=--t,o.isstart=e,$Support.handleOnGoingchatActionsInConversation("endtimerupdate",o),0<t){var o,n=$("#endtimer");n.length?(n.html(t+" sec"),(o={}).timer=t,$Support.handleOnGoingchatActionsInConversation("endtimerupdate",o)):Message.displayInfo(LSResource.getRealValue("ne.chatend.timer",""+t)),i.timervar=setTimeout(function(){$Support.handleEndSession(t,!1)},1e3)}else i.clearEndTimer()},clearEndTimer:function(){clearTimeout($Support.timervar),this.endtimer&&($("#endtimer").parents(".infomsg").fadeOut(function(){$(this).remove()}),EmbedSound.stop(),$Support.handleOnGoingchatActionsInConversation("endtimerclear"))},updateVisitorInfo:function(e,i,o,n){if(e||i||o){var a=$Support.EmbedObj,t=lsnocachefix("json");t.visitorid=a.visitorID,e&&(t.lastname=e),i&&(t.email=i),o&&(t.phone=o),t.isnamefromemail=!!a.isnamefromemail&&a.isnamefromemail,this.handleAjax("updatevistdata",t,function(t){$Support.Util.handleUpdateBTN(),"error"!=t.objType&&(a.setVisitorEmail(i),a.setVisitorName(e),a.setVisitorPhone(o),$UI.updateVisitorName({name:e}),"function"==typeof n&&n(),$UI.hideUserEditUI(),$Support.setCookie())})}},checkAndUpdateInfo:function(t){var i={"missed-leave":$Support.missedLeaveMsg,trigger:$Support.startTriggerChat,proactive:$Support.joinProactiveChat};$Support.checkCustomFields();var o=$Support.contentdiv.find("div.editfields");if(!this.Util.validateFields(o))return e.preventDefault(),!1;$Support.Util.handleUpdateBTN(!0);var n=o.find('input[purpose="visitorname"]'),a=o.find('input[purpose="visitoremail"]'),r=o.find('input[purpose="visitorphone"]'),s=$.trim(n.val()),p=$.trim(a.val()),d=$.trim(r.val()),u=t.attr("callback");!s&&p&&(s=p?p.split("@")[0]:s,$Support.EmbedObj.isnamefromemail=!0);var c=$Support.EmbedObj;if(p&&c.setVisitorEmail(p),s&&c.setVisitorName(s),d&&c.setVisitorPhone(d),"proactive"===u)return i[u](),$UI.hideUserEditUI(),void $Support.setCookie();if("trigger"!==u)this.updateVisitorInfo(s,p,d,i[u]);else{if(this.updateInputValues(),t.removeAttr("documentclick"),$Support.isbottrigmsg&&(!c.chatID||"-1"==c.chatID)){$UI.hideUserEditUI();var l=$Widget.getLastMessage()||this.getComposer().val();if(!l)return;return $Support.EmbedObj.question=l,void $Support.handleBotTriggerReply(l)}i[u]()}},joinProactiveChat:function(t){if($Support.Util.IsMandatoryFieldsAvailable())return this.disableTextarea(),$UI.showUserEditUI(),void $('[documentclick="updateuserdetails"]').attr("callback","proactive");var e=$Support.getParent().$ZSIQChat.getWidgetData().widgetobj,i=$Support.EmbedObj,o=i.pprops,n=$Support.LSDB.getFromSession(_SCREENNAME+"_gdpr_chatconsent"),a=!(1!=e.isgdprenabled||!JSON.parse(o.isgdprenabled)||1!=JSON.parse(o.chatprivacyconfig)||n),r=o.chatcookiepolicyurl,s=Browser.getInfo(),p=$Support.getComposer();$Support.enableTextarea(p),t=t||$.trim(p.val()),LSMessanger.setNickName(i.visitorname),$.extend(s,{chid:i.chatID,uvid:i.uvid,vwmsid:i.vwmsid,msg:t,sid:LSMessanger.getSid(),name:i.visitorname}),i.visitorphone&&(s.phone=i.visitorphone),i.visitoremail&&(s.email=processInput("emailid",i.visitoremail));var d=lsnocachefix("json");for(var u in d)s[u]=d[u];i.cinfo&&("object"==typeof i.cinfo&&(i.cinfo=JSON.stringify(i.cinfo)),s.cinfo=i.cinfo);var c=$Support.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid");c&&(s.avuid=c);var l=$Support.getParent().$ZSIQUtil.getAPIVisitorID();if(l&&(s.cvuid=l),i.question=t,a)return $Support.proactivedata=s,void $UI.appendChatConsentDiv(!1,!0,r);p.val(""),$("#msgarea").val(""),Message.displaySendMessage(i.chatID,t),$UI.populateUserAction(),$UI.populateIcon(),handlePaste(),avimpl.checkAudioCallButton(),$Support.handleAjax("joinproactive",s,function(t){$Support.Util.handleUpdateBTN(),"error"!=t.objType&&($Support.handleJoinProActive(t.objString),$Support.Util.handleCallbacks("visitor.triggerresponded",{}))})},handleJoinProActive:function(t){var e=$Support.EmbedObj;e.setVisitorID(t.CUID),e.VISITID=t.VISITID;var i=t.ATTENDER;i&&e.attender!==i&&e.setAttender(i),delete this.proactive,this.setCookie()},handleApiData:function(t,e){var i=$Support.EmbedObj;if(t){if(i.setAddinfo(t),i.uvid=t.uvid||i.uvid,i.visitorname=t.name||i.visitorname,i.visitoremail=t.email||i.visitoremail,i.visitorphone=t.phone||i.visitorphone,i.question=t.question||i.question,i.attenderemail=t.agent||i.attenderemail,i.messagehint=t.messagehint||"",null!=t.department){var o=t.department;"online.department"!=t.department&&(t.department=[],t.defaultdepartment&&-1!=t.defaultdepartment&&-1==o.indexOf(t.defaultdepartment)&&o.push(t.defaultdepartment));for(var n=i.deptlist.length,a=0;a<n;a++)-1==o.indexOf(i.deptlist[a].DNAME)?i.deptlist[a].isClient=!1:"online.department"!=t.department&&t.department.push(i.deptlist[a].DNAME);if(0!=t.department.length){var r=o;o=t.department,"personal"==$Support.type&&$Support.status?PersonalSupport.handleDeptChange(o):this.Util.handleDeptApiChange(o,r)}}t.agent&&$.validateField("email",t.agent)&&(i.attenderemail=t.agent),t.info&&(i.cinfo=t.info);var s=t.requestid;null==s||isNaN(s)||(i.exid=s),!t.defaultdepartment&&t.department&&1==t.department.length&&(t.defaultdepartment=t.department[0]);var p=t.defaultdepartment;if(p&&-1!=p){if($Support.status&&"personal"==$Support.type)PersonalSupport.defaultdept=p;else{var d=$("#sqico-drpdwn").find('li[uniname="'+p+'"]');d.length&&(d.trigger("click",[!0]),$Support.isFloat()||$Support.Util.showOfflineBanner())}p&&t.department&&1==t.department.length&&t.department[0]==p&&$Support.container.find("#sqico-drpdwn").hide()}if(void 0!==t.forward&&($Support.nochatforward=t.forward),t["chat.waitinghandler"]&&!e&&($Support.isapiwaitinghandler=t["chat.waitinghandler"]),t.callback){var u=t.callback;if("chat.waitinghandler"in u){var c=u["chat.waitinghandler"];if("-1"==c&&(c=null),$Support.cwaitmsg=c,$Support.waitingtime&&$UI.populateCWaitHandler(),e)return}}if(t.chatstart&&-1==i.chatID&&e&&(CallImpl.isCallWithChat&&($Support.contentdiv=null,$Support.EmbedObj.lchid=-1,$Support.checkAndShowUI(-1),CallImpl.isCallWithChat=!1,$EmbedManger.setQuitStatus(!1)),$Support.getParent().$ZSIQWidgetUI.removeCallClass(),i.addinfo.autochat=!0,$Support.getComposer().trigger("keyup")),-1!=i.visitorID&&-1!=i.chatID&&t.chatstart){if("outgoing"==avimpl.curr_status)return;$EmbedManger.setQuitStatus(!1),CallImpl.isCallWithChat=null,$Support.contentdiv=null,$Support.getParent().$ZSIQWidgetUI.removeCallClass(),$Support.checkAndShowUI(-1);var l=$Support.getAjaxURL("makeav",dext),m={};m.chid=$Support.EmbedObj.chatID,m.wmsid=$Support.EmbedObj.vwmsid,m.mode=AUDIOCALL,m.lsuid=$Support.EmbedObj.attender,m.action="startchat",$.ajax({url:l,data:m,type:"POST"})}t.chatend&&-1!==i.chatID&&e&&$Support.quitChat();var g=t.chatmessages;if(g&&"object"==typeof g)for(i.waitmsg=g.waiting||i.waitmsg,i.offlinemessage=g.offline||i.offlinemessage,i.missedmessage=g.busy||i.missedmessage,i.offlinerespmsg=g.offlinecomplete||i.offlinerespmsg,i.thanksmsg=g.complete||i.thanksmsg,i.missedrespmsg=g.busycomplete||i.missedrespmsg,i.engagedmessage=g.engaged||i.engagedmessage,i.engagedrespmsg=g.engagedcomplete||i.engagedrespmsg,i.feedbackcomplete=g.feedbackcomplete,a=1;a<=5;a++)g["feedbackcomplete"+a]&&(i["feedbackcomplete"+a]=g["feedbackcomplete"+a]);var h=t.customfield;(h||t.clearcustomfield)&&(h?(this.customobj=h,this.Util.handleCustomHTML()):this.Util.checkAndRemoveCustomField(t.clearcustomfield)),t.title&&(document.title=t.title);var S=t["rating.visible"],v=t["feedback.visible"];if((S||v)&&(S&&($Support.israting="hide"!=S),v&&($Support.isfeedback="hide"!=v)),t.clogo){var f=$("#complogo"),b=$("#compurl"),I=t.cwebsite;f.length&&f.attr("src",t.clogo),I&&(I=-1==I.indexOf("http")?"http://"+I:I,b.length?b.attr("href",I):f.wrapAll("<a id='compurl' target='_blank' href='"+I+"'>"))}if($Support.EmbedObj.status&&t.floatwindowonlinetitle&&!$Support.EmbedObj.attender&&!$Support.getTriggerCookie()&&$("#attname").text(t.floatwindowonlinetitle),$Support.EmbedObj.status||!t.floatwindowofflinetitle||$Support.EmbedObj.attender||$("#attname").text(t.floatwindowofflinetitle),$Support.isConversationAllowed()&&t.defaultview&&"Classic"==t.defaultview&&this.openClassicUI(),t.callstart&&-1==i.chatID&&e&&!$Support.proactive&&!$Support.istriggeredchat){if(avimpl.curr_status)return;avimpl.curr_status="outgoing";var C=LSResource.getRealValue("av.info.callquesmsg",i.visitorname);$Support.container.find('[info = "question"]').val(C),i.isaudiocall=!0,$Support.updateInputValues(),$Support.startChat(),$Support.container.remove(),$UI.setContainer(),$Support.getParent().$ZSIQUtil.getAPIValues(),$Support.container.append($Support.contentdiv=CallUIHandler.getTempForThemes(AV_OUTGOINGCALL)),$Support.getParent().$ZSIQWidgetUI.handleMinimizeCall(),$Support.getParent().$ZSIQChatWindow.openChatWindow()}t.waitime&&$Support.EmbedObj.status&&($Support.EmbedObj.embedwaitingtime=t.waitime),this.updateValuesFromVisitorInfoCookie(),this.Util.fillApiValues()}},handleAPIFunctionalities:function(t,e){var i=$Support.EmbedObj;"chatstart"==t?(i.addinfo.autochat=!0,$Support.getComposer().trigger("keyup")):"chatend"==t&&-1!==i.chatID&&$Support.quitChat()},updateValuesFromVisitorInfoCookie:function(){var t=$Support.EmbedObj,e=this.getCookieValue("ZLD"+t.livelsid+"VISITORINFO");e&&(t.setVisitorName(e.name),t.setVisitorEmail(e.email),t.setAddinfo(e),e.phone&&t.setVisitorPhone(e.phone),this.removeCookie("ZLD"+t.livelsid+"VISITORINFO"))},getOfflineMessage:function(){var t=$Support.EmbedObj;if(t.bushrstatus)return $UI.getBusinessHrInfo();var e=t.deptlist,i=$Support.getAggregateStatus(e),o=i[1],n=i[0];return o?(this.engaged=!0,t.engagedmessage?DynamicMsg.fillValues(t.engagedmessage):LSResource.getRealValue(1<e.length&&n?"ne.engagedmsg_multidept":"ne.engagedmsg")):1<e.length&&n?t.deptofflinemsg?DynamicMsg.fillValues(t.deptofflinemsg):LSResource.getRealValue("ne.offlinemsg_multidept"):t.offlinemessage?DynamicMsg.fillValues(t.offlinemessage):LSResource.getRealValue("ne.offlinemsg")},getAggregateStatus:function(t){for(var e=!1,i=!1,o=$Support.EmbedObj.department,n=0;n<t.length;n++){var a=t[n];""+a.STATUS=="true"&&(i=!0),"-1"!==o&&a.ID!==o||""+a.ENGAGED!="true"||(e=!0)}return[i,e]},updateDynamicKeys:function(t){t.phone&&DynamicMsg.updateValue("phone",t.phone);var e=t.name||t.dname;DynamicMsg.updateValue("name",e),DynamicMsg.updateValue("email",t.email),t.msg&&DynamicMsg.updateValue("question",t.msg),t.deptid&&DynamicMsg.updateValue("department",t.deptid)},updateChatCache:function(t,e){e?($.isEmptyObject(t[t.length-1])&&t.splice(t.length-1,1),$Support.cachearr=t):$Support.cachearr.push(t),this.LSDB.storeInSession($Support.EmbedObj.chatID+"_transcript",$Support.cachearr)},isParentIframe:function(){return window.location!=window.parent.location},broadcastVisitor:function(t){var n=$Support.EmbedObj,e={};e.visitorid=n.visitorID,e.module=t||"addvisitor",$Support.LSDB.get("ZLD_ApiAVCall")&&(e.isaudiocall=$Support.LSDB.get("ZLD_ApiAVCall")),this.handleAjax("broadcastvisitor",e,function(t){if("broadcastvisitordata"==t.module&&t.objString.isagentsavailable){var e=$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.userdetails.find(function(t){return t.lsuid==n.attender}).name,i=LSResource.getRealValue("chatwindow.personalchat.transfer",e),o=i||getUnescapedText(Support.waitmsg);o=DynamicMsg.fillValues(o),$("#info_banr span").first().text(o).show()}})},handleStatusCallback:function(){var t="chat.offline";$Support.EmbedObj.status&&(t="chat.online"),$Support.Util.handleCallbacks(t,{})},handleAudioCallback:function(){-1<window.location.protocol.indexOf("https")&&(-1<navigator.userAgent.indexOf("Chrome")||-1<navigator.userAgent.indexOf("Firefox"))&&$Support.Util.handleCallbacks("call.isavsupported",{})},checkCustomFields:function(){var c=$Support.EmbedObj,t=$Support.contentdiv.find('[purpose="custom"]');if(!t.length)return!0;var l=$Support.EmbedObj.cinfo||{};$.each(t,function(t,e){var i=$(e),o=i.attr("type"),n="true"==i.attr("mandatory"),a=i.attr("custom"),r=i.attr("visibility");if(c.status&&"offline"==r)return!0;if(!c.status&&"online"==r)return!0;if("radio"==o||"checkbox"==o){var s=i.find("input:checked");a=i.attr("name");var p=[];return $.each(s,function(t,e){p.push($(e).attr("id"))}),p.length?(i.removeClass("errfield").removeAttr("data-validate"),l[a]=p.join(";")):n&&i.addClass("errfield"),!0}var d=i.val();if("selectbox"==o&&(d=i.find("#dropheader").attr("val")),!d)return!0;var u=i.attr("maxlength");if(d.length>u)return i.addClass("errfield"),!0;l[a]=d}),c.cinfo=l},rejoinVisitorInUTS:function(){var t=lsnocachefix("json");t.visitorid=$Support.EmbedObj.visitorID,this.handleAjax("utsrejoin",t,function(t){})},isSignature:function(t){return t.eparams&&t.eparams.signature},handleDesktopSharing:function(t){if(t.msg){var e=t.msg.opruser.dname,i=decodeURIComponent(t.link),o="",n="";n="request"==t.msg.opr?(o="chatwindow.requestdesktop","common.share"):(o="chatwindow.sharedesktop","common.join");var a=LSResource.getRealValue(o,e)+'&nbsp;&nbsp;<a href="'+i+'" target="_blank" documentclick=openmeeting>'+LSResource.getRealValue(n)+"</a>";this.Util.displayInfo(a)}$("#mraction").find("#sharedesktop").addClass("cmn_disable")},handleMeetingJoinCB:function(){this.Util.hideInfo(),$("#mraction").find("#sharedesktop").removeClass("cmn_disable")},shareDesktop:function(t){if(!$(t).hasClass("cmn_disable")){var e=lsnocachefix("json");e.chid=$EmbedManger.getChatID(),e.attender=$Support.EmbedObj.attender,this.handleAjax("authenticatesharedesktop",e,function(t){$Support.Util.hideMoreActionDiv()})}},isHandHeldDevice:function(){return!!$Support.Util.isSIQMobilePreview()||!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB10|IEMobile|Opera Mini/i.test(navigator.userAgent)},isMobileWidth:function(){return window.outerWidth<555||this.isHandHeldDevice()},setUVID:function(t){$Support.EmbedObj.uvid=t},setTabOwner:function(){var t="ZLD"+$Support.EmbedObj.livelsid+"tabowner";this.LSDB.set(t,LSMessanger.getSid())},getTabOwner:function(){var t="ZLD"+$Support.EmbedObj.livelsid+"tabowner";return this.LSDB.get(t)},incrementUnreadCount:function(){var t="ZLD"+$Support.EmbedObj.livelsid+"unreadcount",e=$Support.getUnreadCount();e?e+=1:e=1,this.LSDB.set(t,e),$Support.getParent().$ZSIQWidgetUI.updateCount(e)},getUnreadCount:function(){var t="ZLD"+$Support.EmbedObj.livelsid+"unreadcount";return this.LSDB.get(t)},removeUnreadCookie:function(){var t="ZLD"+$Support.EmbedObj.livelsid+"unreadcount";this.LSDB.remove(t)},isAllowFreeLogo:function(){return!CommonUtil.isIntegratedPortal()&&(Licence.isFreePlan()||$Support.EmbedObj.isBetaPortal)},handleAddVisitStatusChange:function(t){var e=$Support.EmbedObj;clearTimeout($Support.waitTimer),delete $Support.waitingtime,$UI.hideBanner(),$Support.removeCookie("ZLD"+e.livelsid+"WAITING"),e.setDepartmentList(t.DEPTLIST),e.setEmbedStatus(t.STATUS),$Support.container.find(".msgbox textarea").stop(),$Support.container.empty(),$Support.contentdiv=void 0,$Support.composer=void 0,$UI.updateOfflineUI(!0),$Support.container.addClass("outerwin"),$Support.Util.showOfflineBanner(),$UI.setDepartment(e.department),e.question&&$("#sqico-send").attr("documentclick","leavemessage"),LSMessanger.sid=void 0;var i=$Support.getParent().$ZSIQWidget.getWidgetObject();i.status=t.STATUS,i.onlysticker=!0,$Support.getParent().$ZSIQWidgetUI.drawWidget(i),i.hideoffline&&1==i.hideoffline[0]&&($Support.disableTextarea($Support.getComposer()),setTimeout(function(){$Support.getParent().$ZSIQChatWindow.handleChatWindowVisible("hide"),$Support.getParent().$ZSIQWidgetUI.handleWidgetVisible("hide")},3e3)),$Support.isConversationAllowed()&&$Support.Util.handleShowConversation(!1,!0)},handleLeaveMessageStatusChange:function(t){var e=$Support.EmbedObj;e.setDepartmentList(t.DEPTLIST),e.setEmbedStatus(t.STATUS),$Support.container.find(".msgbox textarea").stop(),$Support.container.empty(),$Support.contentdiv=void 0,$Support.composer=void 0,$UI.updateOnlineUI(!0),$Support.container.addClass("outerwin"),$Support.Util.showOnlineBanner(),$UI.setDepartment(e.department),e.question&&$("#sqico-send").attr("documentclick","textarea"),LSMessanger.sid=void 0},getAjaxURL:function(t,e){return url=_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/"+t+e},appendMetaTag:function(){$("head").append('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">')},getValuesForDynamicMsg:function(){var t=$Support.EmbedObj,e={};CommonUtil.addIfExists(e,"name",t.visitorname),CommonUtil.addIfExists(e,"email",t.visitoremail),CommonUtil.addIfExists(e,"phone",t.visitorphone),CommonUtil.addIfExists(e,"department",t.department);var i=t.question?t.question:$Support.composer?$.trim($Support.composer.val()):"";return CommonUtil.addIfExists(e,"question",i),CommonUtil.addIfExists(e,"visit_id",t.VISITID),CommonUtil.addIfExists(e,"attendername",t.attendername),CommonUtil.addIfExists(e,"attenderemail",t.attenderemail),e},getValuesForDynamicMsg:function(){var t=$Support.EmbedObj,e={};CommonUtil.addIfExists(e,"name",t.visitorname),CommonUtil.addIfExists(e,"email",t.visitoremail),CommonUtil.addIfExists(e,"phone",t.visitorphone),CommonUtil.addIfExists(e,"department",t.department);var i=t.question?t.question:$Support.composer?$.trim($Support.composer.val()):"";return CommonUtil.addIfExists(e,"question",i),CommonUtil.addIfExists(e,"visit_id",t.VISITID),CommonUtil.addIfExists(e,"attendername",t.attendername),CommonUtil.addIfExists(e,"attenderemail",t.attenderemail),e},transferChat:function(t){if($BotImpl.enableComposer(),$Support.areUsersAvailable()){delete $Support.SIQFieldname,$Support.clearBotQuestionTimeout(),$("#conversationoption").remove();var e=lsnocachefix("json"),i=$Support.EmbedObj;e.visitorid=i.visitorID,t&&t.msg&&"DEPARTMENT"!=t.msg.type&&t.msg.userid&&(e.userid=t.msg.userid),i.uvid&&(e.uvid=i.uvid),$Support.setWaitingCookie(),$UI.showTransferWaiting(),$Support.handleWaitingDisplay(!0,!0),this.handleAjax("transferchat",e,function(t){}),$Support.Util.hideMoreActionDiv()}else $UI.showOperatorOffline()},handleTransferMissed:function(t){$UI.removeTransferDiv(t);var e=lsnocachefix("json"),i=$Support.EmbedObj,o=!(e={lsid:i.livelsid,visitorid:encodeURIComponent(i.visitorID),vwmsid:i.vwmsid,mode:"visitor",actiontype:"2",isbottransfer:!0});"offline"==t.attr("purpose")&&(o=!0),this.handleAjax("missedvisitor",e,function(t){$Support.handleMissedVisitor("error"!=t.objType,null,!0,o)})},hideTransferOption:function(){$UI.removeTransferDiv(),this.setCookie()},storeHideTransfer:function(){$Support.LSDB.storeInSession($Support.EmbedObj.chatID+"_handoff",!0),$Support.hidetransfer=!0,$UI.populateUserAction()},areUsersAvailable:function(){var t=$Support.EmbedObj,e=t.department;for(var i in t.deptlist)if(t.deptlist[i].ID==e)return!t.deptlist[i].ONLYBOTSAVAILABLE;return!1},getBotUser:function(){try{var t=$Support.EmbedObj,e=t.department;for(var i in t.deptlist)if(t.deptlist[i].ID==e)return t.deptlist[i].BOTUSER}catch(t){}return null},isConversationAllowed:function(){if($Support.Util.isPreview())return!1;var t=$Support.EmbedObj;return JSON.parse(t.eprops.isconversation)&&Licence.verify("conversationallowed")},bindScrollForConversationListContainer:function(){$Support.convlistcontainer.scroll(function(t){var e=t.target;if($Support.convongoingchatobj&&0==e.scrollTop&&$Support.removeConversationPopupMessage(),e.scrollHeight-e.scrollTop===e.clientHeight){if($Support.convlistindex<$Support.convlistlimit[$Support.EmbedObj.windowsize])return;$Support.PopulateConversationList(function(t,e){if(t.length){var i="";t.forEach(function(t){i+=$Temp.getConversationHistoryHTML(t)}),e?$Support.convlistcontainer.find("#pastchatconv").prepend($(i)):$Support.convlistcontainer.find("#pastchatconv").append(i),$Support.Util.showConversationListUI()}},$Support.convlistindex+1)}})},PopulateConversationList:function(o,n){var a,t={},r=this.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid");if(t=lsnocachefix("json"),r){var e=this.LSDB.getFromSession(r+"_conversation");if(e&&e.length&&!n){o(e);var i=e[0];(a=i.endtime)&&(t.fromtime=a),$Support.convlistindex=e.length}t.avuid=r;var s=$Support.getParent().$ZSIQUtil.getAPIVisitorID();if(s&&(t.cvuid=s),t.limit=$Support.convlistlimit[$Support.EmbedObj.windowsize],n){if(0!=(t.index=n)){if(0!=$Support.convlistcontainer.find("#convlistloading").length||$Support.isallconvlistfetched)return;$Support.convlistcontainer.find("#pastchatconv").append($Temp.getConversationListLoadingHTML())}}else{var p=this.LSDB.get(r+"_accesstime");p&&(t.clientsynctime=p)}t.version=1,this.handleAjax("conversation",t,function(t){if($Support.convlistcontainer.find("#convlistloading").remove(),"error"!=t.objType){var e=t.objString;if(!e.length)return void(a||($Support.isallconvlistfetched=!0));n||$Support.LSDB.set(r+"_accesstime",e[0].endtime,864e5);var i=!!a;$Support.updateConversationCache(e,r,i),o(e,i),$Support.convlistindex+=e.length}})}},updateConversationCache:function(t,e,i){if(t&&t.length){t=$Support.checkDuplicateInConversationList(t,e);var o=this.LSDB.getFromSession(e+"_conversation");o&&o.length&&(t=i?t.concat(o):o.concat(t)),this.LSDB.storeInSession(e+"_conversation",t)}},checkDuplicateInConversationList:function(t,e){try{var i=this.LSDB.getFromSession(e+"_conversation");if(!i||!i.length)return t;for(var o=t.length-1;0<=o;o--)for(var n=t[o],a=0;a<i.length;a++){var r=i[a];if(n.visitorid==r.visitorid){t.splice(o,1);break}}}catch(t){}return t},getConversationChatTranscript:function(e,i){var t=Message.presender;$("#conversioncontainer").hide(),$Support.convtranscontainer.html($Temp.getLoadingHTML()).show();var o=this.LSDB.getFromSession(e+"_transcript");$Support.Util.showConversationTranscriptUI(i);var n,a=!1;if(o&&(n=o[0],a=$("#attname").html()==n.attendername),!e){var r=$Support.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid"),s=$Support.LSDB.getFromSession(r+"_conversation"),p={};for(var d in s){var u=s[d];if(u.visitorid==i){p=u;break}}var c={};c.question=getEscapedText(p.question),c.dname=p.name,c.mode="info",p.attender&&(c.attendername=p.attender,c.userimg=p.attender_imgkey);var l=[];return l.push(c),$Support.Util.populateChatUI(l,i,e),void avimpl.checkCallIcon()}if(o&&o.length&&a)return $Support.Util.populateChatUI(o,i,e),void(Message.presender=t);var m=$Support.getAjaxURL("getvisitortranscript",dext);m+="?tzoffset="+_TZCOFFSET+"&visitorid="+i+lsnocachefix(!0)+"&lang="+_LANG+"&conversation=true",_CCODE&&(m+="&ccode="+_CCODE),$.get(m,"",function(t){$.trim(t)&&-1==t.indexOf("transcript.try.after.sometime")&&($.isEmptyObject(t[t.length-1])&&t.splice(t.length-1,1),t.length&&($Support.storeConversationChatTranscriptInSession(e,t),$Support.Util.populateChatUI(t,i,e)))},"json")},storeConversationChatTranscriptInSession:function(t,e){this.LSDB.storeInSession(t+"_transcript",e)},isConversationUIFocussed:function(){try{return $Support.convlistcontainer.is(":visible")||$Support.convtranscontainer.is(":visible")}catch(t){}return!1},isConversationTransUIFocussed:function(){try{return $Support.convtranscontainer.is(":visible")}catch(t){}return!1},handleOnGoingchatActionsInConversation:function(t,e){$Support.isFAQEnabled()&&($FAQ.updateMessageCount(t),("newchat"===t||"triggerchat"===t)&&$Support.isFAQUIFocussed())||$Support.isConversationAllowed()&&!CallImpl.isCallWithChat&&{newchat:function(){$Support.handleNewChatInConversation()},pickupchat:function(){$Support.handlePickupChatInConversation()},wtime:function(){$Support.handleWaitingTimeUpdateInConversation(e)},newmsg:function(){$Support.handleNewMessageInConversation(e)},triggerchat:function(){$Support.handleTriggerChatInConversation(e)},typingstatus:function(){$Support.handleAgentTypingStatusInConversation(e)},missedchat:function(){$Support.handleMissedChatInConversation(e)},missedleave:function(){$Support.handleMissedLeaveInConversation(e)},endtimerupdate:function(){$Support.handleChatEndTimerUpdateInConversation(e)},endtimerclear:function(){$Support.handleChatEndTimerClearInConversation()},endchat:function(){$Support.handleChatEndInConversation(e)},leavemsg:function(){$Support.handleOfflineChatInConversation(e)}}[t]()},handleNewChatInConversation:function(){var t=$Support.EmbedObj,e=LSResource.getRealValue("conversation.pleasewait.toconnect"),i=!1;if(-1!=t.chatID){var o=$Support.getRecentMessageOfOngoingChat();e=o.recentmsg,i=o.isattachment}if($Support.convongoingchatobj){if($Support.convongoingchatobj.attr("id")=="conv"+t.chatID)return void $Support.convongoingchatobj.trigger("click");$Support.istriggeredchat?($Support.convongoingchatobj.attr("id","conv"+t.chatID),$Support.convongoingchatobj.attr("visitorid",t.visitorID),$Support.convongoingchatobj.attr("chid",t.chatID)):($Support.proactive&&(e=t.pmsg),$Support.convongoingchatobj.find(".siqc_eletype").show().html(s)[0].className="siqc_eletype",$Support.convongoingchatobj.attr("documentclick","fetchconvtranscript"),$Support.applyOngoingChatClass("siqc_cntbody"),$Support.convongoingchatobj=void 0,e=$Support.proactive?e:LSResource.getRealValue("conversation.pleasewait.toconnect"))}!$Support.isConversationAllowed()||$Support.isConversationUIFocussed()||$Support.container.find("#showsiqconv").is("visible")||$Support.container.find("#showsiqconv").show(),!e&&$Support.proactive&&(e=t.pmsg,$Support.container.find("#showsiqchatui").hide()),e=i?e:getEscapedText(e);var n=Message.getDisplayContent(e);n=Message.format(n);var a="";$Support.isUserLogoEnabled()&&t.attenderimagefkey&&(a=$Support.Util.getPhotoURL()),(!$Support.convongoingchatobj||$Support.convongoingchatobj&&!$Support.istriggeredchat)&&$Support.convlistcontainer.find("#currchatconv").html($Support.convongoingchatobj=$($Temp.getchatWaitingUIinConversation())),$Support.convongoingchatobj.find("#convchatattendername").text(t.attendername?t.attendername:LSResource.getRealValue("conversation.awaitingtoconnect")),$Support.convongoingchatobj.find("#convchatattenderimg").attr("src",a),t.attender||$Support.convongoingchatobj.find(".sqico-user").addClass("convrstn-wait"),$Support.convongoingchatobj.find("#convmsg").html(n);var r=$Support.intime||t.chatintime;$Support.convongoingchatobj.find("#convwtime").attr("convmtime",r).html(MyDate.timeDifference(r));var s=$Support.getUnreadCount(),p="siqc_cntbody";s?(p+=" siqc_newchat",$Support.convongoingchatobj.find(".siqc_eletype").show().html(s)[0].className="siqc_eletype"):$Support.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2",$Support.applyOngoingChatClass(p),$Support.isConversationUIFocussed()&&$Support.proactive&&($Support.isConversationTransUIFocussed()||$Support.convlistcontainer.scrollTop()>$Support.convongoingchatobj.height())&&($Support.removeConversationPopupMessage(),$Support.container.append($Temp.getPopUpMessageInconversation(t.attendername,e,a)))},handleTriggerChatInConversation:function(t){if(t.isbottrigger,!$Support.convongoingchatobj){$Support.EmbedObj,$Support.convlistcontainer.find("#currchatconv").html($Support.convongoingchatobj=$($Temp.getchatWaitingUIinConversation())),$Support.convongoingchatobj.find("#convchatattendername").text(t.sendername);var e="";t.message=$Support.getRecentMessageOfOngoingChat().recentmsg||t.message,t.message=t.message.split("<br>").join(" "),t.message=getEscapedText(t.message),t.attenderdetails?$Support.isUserLogoEnabled()&&(e=$Support.Util.getPhotoURL()):$Support.convongoingchatobj.find(".sqico-user").addClass("convrstn-wait"),$Support.convongoingchatobj.find("#convchatattenderimg").attr("src",e),$Support.convongoingchatobj.find("#convmsg").html(t.message);var i=t.time||(new Date).getTime();$Support.convongoingchatobj.find("#convwtime").attr("convmtime",i).html(MyDate.timeDifference(i)),$Support.container.find("#showsiqchatui").hide();var o=$Support.getUnreadCount(),n="siqc_cntbody";o?(n+=" siqc_newchat",$Support.convongoingchatobj.find(".siqc_eletype").show().html(o)[0].className="siqc_eletype"):$Support.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2",$Support.applyOngoingChatClass(n),$Support.isConversationUIFocussed()&&($Support.isConversationTransUIFocussed()||$Support.convlistcontainer.scrollTop()>$Support.convongoingchatobj.height())&&($Support.removeConversationPopupMessage(),$Support.container.append($Temp.getPopUpMessageInconversation(t.sendername,t.message,e)))}},handleWaitingTimeUpdateInConversation:function(t){if(-1!=$Support.EmbedObj.chatID&&$Support.convongoingchatobj){var e=t.wtime;$Support.applyOngoingChatClass("siqc_cntbody siqc_time"),$Support.convongoingchatobj.find(".siqc_eletype").html("").show()[0].className="siqc_eletype sqico-timer",$Support.convongoingchatobj.find("#convwtime").html(e)}},handleMissedChatInConversation:function(t){if($Support.convongoingchatobj){$Support.applyOngoingChatClass("siqc_cntbody siqc_chatend");var e=LSResource.getRealValue("conversation.missedmsg"),i=$Support.EmbedObj;$Support.convongoingchatobj.find("#convchatattendername").text(i.attendername?i.attendername:"Missed Chat"),$Support.convongoingchatobj.find("#convmsg").html(e);var o=$Support.intime||$Support.EmbedObj.chatintime;$Support.convongoingchatobj.find("#convwtime").attr("convmtime",o).html(MyDate.timeDifference(o)),$Support.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype",$Support.convongoingchatobj.find(".sqico-user").removeClass("convrstn-wait"),$Support.convongoingchatobj.find(".siqc_usrimg").addClass("sqico-missed"),$Support.isConversationTransUIFocussed()&&($Support.removeConversationPopupMessage(),$Support.container.append($Temp.getPopUPInfoMessageInConversation(DynamicMsg.fillValues(getUnescapedText($Support.EmbedObj.missedmessage)))))}},handleMissedLeaveInConversation:function(t){$Support.convongoingchatobj&&($Support.convongoingchatobj[0].className="siqc_cntbody",$Support.convongoingchatobj.find("#convmsg").html(getEscapedText(t.msg)))},handlePickupChatInConversation:function(t){if($Support.convongoingchatobj){var e=$Support.EmbedObj,i="";$Support.isUserLogoEnabled()&&e.attenderimagefkey&&(i=$Support.Util.getPhotoURL()),$Support.applyOngoingChatClass("siqc_cntbody"),t||$Support.convongoingchatobj.find("#convmsg").html(getEscapedText(e.question)),$Support.convongoingchatobj.find("#convchatattendername").text(e.attendername?e.attendername:"Awaiting agent"),$Support.convongoingchatobj.find("#convchatattenderimg").attr("src",i);var o=$Support.intime||e.chatintime;$Support.convongoingchatobj.find("#convwtime").attr("convmtime",o).html(MyDate.timeDifference(o)),$Support.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2",$Support.convongoingchatobj.find(".sqico-user").removeClass("convrstn-wait")}},handleNewMessageInConversation:function(t){if($Support.convongoingchatobj){$Support.EmbedObj;var e=t.filename,i=t.content;e||(e=t.msg,"object"==typeof t.msg&&(e=t.msg.fName,i=t.msg.content)),e=t.iscannedarticle?t.cardheader:e;var o=Message.getDisplayContent(e);o=Message.format(o);var n=$Support.Util.getFileClassType(i);o=n?'<em class="'+n+'">'+o+"</em>":o;var a="siqc_cntbody";$Support.convongoingchatobj.find("#convmsg").html(o);var r=$Support.getUnreadCount();if(r){if(a+=" siqc_newchat",$Support.convongoingchatobj.add("#conv-tab").find(".siqc_eletype").show().html(r)[0].className="siqc_eletype",$("#conv-tab").addClass("count"),$Support.isConversationUIFocussed()&&!Message.isLocalUser(t.sender)){if($Support.isConversationTransUIFocussed()||$Support.convlistcontainer.scrollTop()>$Support.convongoingchatobj.height()){$Support.removeConversationPopupMessage();var s="";-1!=t.sender.indexOf($Support.EmbedObj.attender)&&$Support.isUserLogoEnabled()&&(s=$Support.Util.getPhotoURL()),$Support.container.append($Temp.getPopUpMessageInconversation(t.dname,o,s))}if($Support.isConversationTransUIFocussed()){var p=$Support.container.find("#showsiqconv");0==p.find("#siqnoticon").length&&p.prepend("<em id='siqnoticon' class='siqc_prochtcls' documentclick='showchatui'></em>")}}}else $Support.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2";$Support.applyOngoingChatClass(a)}},removeConversationPopupMessage:function(){$Support.container.find("#convpopupmsg").remove(),$Support.container.find("#convpopupmsg").remove()},handleAgentTypingStatusInConversation:function(t){if($Support.convongoingchatobj){$Support.EmbedObj;var e=t.msg,i=$Support.getUnreadCount(),o="siqc_cntbody";if(e)o+=" siqc_type",$Support.convongoingchatobj.find("#convmsg").html(LSResource.getRealValue("conversation.agent.typing")),$Support.convongoingchatobj.find(".siqc_usrimg").addClass("sqico-typing");else{var n=$Support.getRecentMessageOfOngoingChat().recentmsg,a=Message.getDisplayContent(n);a=Message.format(a),$Support.convongoingchatobj.find("#convmsg").html(a),$Support.convongoingchatobj.find(".siqc_usrimg").removeClass("sqico-typing")}i?(o+=" siqc_newchat",$Support.convongoingchatobj.find(".siqc_eletype").show().html(i)[0].className="siqc_eletype"):$Support.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2",$Support.applyOngoingChatClass(o)}},handleChatEndTimerUpdateInConversation:function(t){if($Support.convongoingchatobj){var e=t.isstart,i=LSResource.getRealValue("conversation.endtimer.secs",""+t.timer);$Support.applyOngoingChatClass("siqc_cntbody siqc_goend"),$Support.convongoingchatobj.find("#convwtime").html(i).show();var o=LSResource.getRealValue("conversation.chat.goingtoend");if($Support.convongoingchatobj.find("#convmsg").html(o),$Support.convongoingchatobj.find(".siqc_eletype").html("").show()[0].className="siqc_eletype sqico-alert",$Support.isConversationUIFocussed()&&($Support.isConversationTransUIFocussed()||$Support.convlistcontainer.scrollTop()>$Support.convongoingchatobj.height())){var n=$Support.Util.getPhotoURL();if(e)$Support.container.append($Temp.getPopUpAlertInconversation($Support.EmbedObj.attendername,LSResource.getRealValue("conversation.chatsess.goingtoend"),i,n));else{var a=$Support.container.find("#convpopupmsg");0!=a.length&&a.find("#alerttimer").html(i)}if($Support.isConversationTransUIFocussed()){var r=$Support.container.find("#showsiqconv");r.find("#siqnoticon").remove(),r.prepend("<em id='siqnoticon' class='sqico-alert' documentclick='showchatui'></em>")}}}},handleChatEndTimerClearInConversation:function(){if($Support.convongoingchatobj){var t=$Support.EmbedObj,e=$Support.getRecentMessageOfOngoingChat().recentmsg,i=Message.getDisplayContent(e);i=Message.format(i);var o="siqc_cntbody";$Support.convongoingchatobj.find("#convwtime").html(MyDate.timeDifference($Support.intime||t.chatintime)),$Support.convongoingchatobj.find("#convmsg").html(i);var n=$Support.getUnreadCount();n?(o+=" siqc_newchat",$Support.convongoingchatobj.find(".siqc_eletype").show().html(n)[0].className="siqc_eletype"):$Support.convongoingchatobj.find(".siqc_eletype")[0].className="siqc_eletype sqico-chat2",$Support.container.find("#showsiqconv").find("#siqnoticon").remove(),$Support.applyOngoingChatClass(o),$Support.removeConversationPopupMessage()}},handleChatEndInConversation:function(t){if($Support.convongoingchatobj){var e=$Support.EmbedObj,i=$Support.Util.isAnnonUser(t.sender)?"siqc_cntbody":"siqc_cntbody siqc_chatend";$Support.applyOngoingChatClass(i);var o=LSResource.getRealValue("converation.chat.ended");$Support.convongoingchatobj.find("#convmsg").html(o);var n=$Support.intime||e.chatintime;if($Support.convongoingchatobj.find("#convwtime").attr("convmtime",n).html(MyDate.timeDifference(n)),$Support.convongoingchatobj.find(".siqc_eletype").html("").show()[0].className="siqc_eletype",$Support.removeConversationPopupMessage(),$Support.isConversationTransUIFocussed()){var a=t.msg&&t.msg.opruser&&t.msg.opruser.dname?LSResource.getRealValue("converation.agent.chat.ended","<b>"+t.msg.opruser.dname+"</b>"):LSResource.getRealValue("converation.chat.ended");$Support.container.append($Temp.getPopUPInfoMessageInConversation(a))}$Support.handleDomainStorage("updatecorsdata","localstorage")}},handleOfflineChatInConversation:function(t){if($Support.isConversationAllowed()){var e=[];e.push(t);var i=this.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid");$Support.updateConversationCache(e,i,!0);var o=$Temp.getConversationHistoryHTML(t);$Support.convlistcontainer.find("#pastchatconv").prepend(o),!$Support.isConversationAllowed()||$Support.isConversationUIFocussed()||$Support.container.find("#showsiqconv").is("visible")||$Support.container.find("#showsiqconv").show()}},handleChatTransferInConversationListView:function(){if($Support.convongoingchatobj){var t=$Support.EmbedObj,e="";$Support.isUserLogoEnabled()&&t.attenderimagefkey&&(e=$Support.Util.getPhotoURL()),$Support.convongoingchatobj.find("#convchatattenderimg").attr("src",e),$Support.convongoingchatobj.find("#convchatattendername").text(t.attendername)}},getRecentMessageOfOngoingChat:function(){var t=$Support.EmbedObj.question,e=!1;if($Support.cachearr.length){var i=$Support.cachearr[$Support.cachearr.length-1];if(i.msg)if("object"!=typeof i.msg)t=i.iscannedarticle?i.cardheader:i.msg;else if("object"==typeof i.msg)if(i.msg.fName){t=i.msg.fName;var o=$Support.Util.getFileClassType(i.msg.content);t=o?'<em class="'+o+'">'+t+"</em>":t,e=!0}else"cannedarticle"===i.msg.mode&&(t=$FAQ.getHeaderMessage(i.msg.msg))}return{recentmsg:t,isattachment:e}},applyOngoingChatClass:function(t){$Support.convongoingchatobj&&($Support.convongoingchatobj[0].className=t)},cacheCurrentChat:function(){if($Support.isConversationAllowed()){var t=$Support.EmbedObj,e=[],i={};i.attender=t.attendername,i.attender_imgkey=t.attenderimagefkey,i.question=t.question,i.chid=t.chatID,i.visitorid=t.visitorID,i.endtime=(new Date).getTime(),i.isbotattender=$Support.isBotChat;var o=$Support.cachearr[$Support.cachearr.length-1];o&&(o.iscannedarticle&&(o.msg=o.cardheader),i.lastmsg=JSON.stringify(o)),e.push(i);var n=this.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid");$Support.updateConversationCache(e,n,!0)}},handleNewsLetter:function(){$Support.Util.isPreview()&&$CWPreview.handleNewsLetter()},getEmbedSize:function(){var t=$Support.getParent().$ZSIQWidget.getEmbedSize();return 1==t?2:t},getEmbedSizeClass:function(){return $Support.isMobileWidth()?"":" zsiq_size"+$Support.getEmbedSize()},removeWidget:function(){try{$Support.getParent().$zoho.salesiq.tracking.off()}catch(t){}var t=$Support.getParent().$ZSIQChatWindow.getChatWindowDiv(),e=$Support.getParent().$ZSIQWidgetUI.getWidgetDiv();t&&t.remove(),e&&e.remove()},handleBotTransferAccept:function(){$Support.removeCookie("ZLD"+$Support.EmbedObj.livelsid+"WAITING"),$UI.removeCWaitHandler(),clearTimeout($Support.waitTimer),$UI.removeTransferDiv(),delete $Support.waitTimer,delete $Support.waitingtime,delete $Support.isBotChat,delete $Support.botchatprops,$Support.handlePickupChatInConversation(!0);var t=$TH.getHeader();$Support.isUserLogoEnabled()&&t.find(".cmplogo").attr("data-chttype","agent"),$UI.populateUserAction()},isChatExist:function(){return-1!=$Support.EmbedObj.chatID},isOnlineChat:function(){return $Support.EmbedObj.status},isMacOS:function(){return!!navigator.platform.match(/Mac/i)},openClassicUI:function(){0<$Support.convlistcontainer.find("#pastchatconv").find(".siqc_cntbody").length&&$Support.container.find("#showsiqchatui").click()},isFAQEnabled:function(){var t=$Support.EmbedObj.faqaccess;return!!Licence.verify("faqallowed")&&!!t.length&&1==$Support.EmbedObj.faqaccess[0]},getConversationData:function(){var t=$Support.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid");return $Support.LSDB.getFromSession(t+"_conversation")},isShowConversationArrow:function(){return $Support.getConversationData()||$Support.convongoingchatobj},isFAQUIFocussed:function(){try{return"faqview"===$Support.container.attr("cwview")}catch(t){}return!1},handleVTransLang:function(t){var e=$Support.getParent(),i=e.$ZSIQChat.getWidgetData().widgetobj,o=e.$ZSIQWidget.getEmbedObject().pinfo,n=!1;if(1==i.isgdprenabled&&o&&o.pinfo){var a=o.pinfo;n=JSON.parse(a.isgdprenabled)}if(n){if(1==JSON.parse(t.GDPRStatus)){var r=$UI.getTranslateBannerHTML(getUnescapedText($Support.EmbedObj.attendername),o.pinfo.gtpolicyurl);$Support.contentdiv.find(".chtcont").after(r),$Support.Util.calculateTextareaHeight()}else 2==JSON.parse(t.GDPRStatus)&&$UI.appendGTConsentDiv(o.pinfo.gtpolicyurl,t.lang);ZSIQTranscript.scroll()}},handleVTransLangStatus:function(t,e){$UI.removeGTConsentDiv();var i=$Support.getAjaxURL("setvtranslang",dext),o=lsnocachefix("json");o.chid=$Support.EmbedObj.chatID,o.visitorid=$Support.EmbedObj.visitorID,o.gdprstatus=t,o.attender=$Support.EmbedObj.attender,o.lang=e,$.ajax({url:i,data:o,type:"POST"})},handleBotSkipOffline:function(){clearTimeout($Support.waitTimer),delete $Support.waitingtime,$UI.hideBanner(),$Support.removeCookie("ZLD"+$Support.EmbedObj.livelsid+"WAITING"),$Support.container.find(".msgbox textarea").stop(),$UI.updateOfflineUI(!0),$Support.container.addClass("outerwin"),$Support.Util.showOfflineBanner(),$(".zsiq_transferdiv").remove()},handleBotBroadcast:function(t){var e=t.msg;this.LSDB.set("ZSIQ"+$Support.EmbedObj.chatID+"BROATCAST",e.text),this.waitingtime=this.EmbedObj.embedwaitingtime,this.handleWaitingDisplay(),$UI.populateVisitorQuestion()},handleBotTrigger:function(t){var e=t.msg,i={isbottrigger:!0,attenderdetails:{attender:e.attender},message:e,sendername:e.dname,time:e.time},o=e.departments;o&&(i.departments=o),$Support.setTriggerCookie(i),$Support.getParent().$ZSIQChatWindow.openChatWindow(),$Support.EmbedObj.department=1==o.length?o[0]:$Support.EmbedObj.department,$Support.EmbedObj.pmsg=t.msg,$BotImpl.formatAndDisplay(t),$Support.Util.updateHeader(t.msg),$Support.Util.updateViewAttribute("msgarea"),$('[data-chttype="agent"]').removeClass("sqico-chat"),$Support.container.find("#showsiqchatui").hide(),$Support.handleTriggerChatInConversation(i)},getEmbedDepartments:function(){var t=$Support.EmbedObj.deptlist;if(!$Support.isbottrigmsg)return t;var e=$Support.getTriggerCookie();if(e&&e.departments){for(var i=e.departments,o=[],n=0;n<t.length;n++){var a=t[n],r=a.ID;-1!=i.indexOf(r)&&o.push(a)}return o}return t},updateSIQFields:function(t){var e=t.name;if(e){var i=e.split("_");"siq"===i[0]&&(i=i.splice(1),$Support.SIQFieldname=i.join("_"))}else if($Support.SIQFieldname&&t.value){var o=$Support.SIQFieldname;delete $Support.SIQFieldname,$Support.updateVisitorData(o,t.value)}},updateVisitorData:function(t,e){if(-1!=["name","email","phone"].indexOf(t)){var i={};i[t]=e;var o=$Support.EmbedObj,n=i.name||o.visitorname,a=i.email||o.visitoremail,r=i.phone||o.visitorphone;$Support.updateVisitorInfo(n,a,r)}},handleBotTransfer:function(t){$Support.transferChat(t)},showRepliesNow:function(t){var e=t.replies;if(e&&0<e.length)for(var i in e){var o=e[i];Message.formatAndDisplay({sender:t.sender,time:t.time,dname:t.dname,msg:o.text,image:o.image})}},getBroadcastText:function(){return this.LSDB.get("ZSIQ"+$Support.EmbedObj.chatID+"BROATCAST")},removeBroadCast:function(){return this.LSDB.remove("ZSIQ"+$Support.EmbedObj.chatID+"BROATCAST")},getprefixURL:function(){return _SCHEMA+"://"+_EMBEDSERVERURL},handleBotContextTimeout:function(){$Widget.skipQuestion()},clearBotQuestionTimeout:function(){$Support.BOT_TIMER&&clearTimeout($Support.BOT_TIMER)},getSkipObj:function(){delete $Support.SIQFieldname;var t=$Support.EmbedObj;return{chatid:t.chatID,url:$Support.getprefixURL()+"/visitor/v2/"+_SCREENNAME+"/chat/"+t.chatID+"/skip?sender="+t.vwmsid+"&visitor_id="+t.visitorID,data:{sender:t.vwmsid,visitor_id:t.visitorID},bottimer:$Support.BOT_TIMER,vwmsid:t.vwmsid,visitorID:t.visitorID}},getZMapKeys:function(){var t=$Support.getParent().$ZSIQWidget.getWidgetObject();return{zmapapicss:t.zmapapicss,zmapstaticurl:t.zmapstaticurl,zmapapiurl:t.zmapapiurl,zmapapikey:t.zmapapikey,mapboxgl:$Support.getParent().mapboxgl}},getThemeID:function(){return parseInt($Support.theme.replace("theme",""))},isNewHeader:function(){return-1!=[4,8,9,10].indexOf($Support.getThemeID())},isUserLogoEnabled:function(t){var e=$Support.EmbedObj;return!(t||!$Support.isBotChat)||!e||t&&t.isbotattender||JSON.parse(e.eprops.icphoto)},hideBotEditUICB:function(){$Support.isbottrigmsg&&($Support.chatWindowUICallBk(),$BotImpl.resetMessageSequence())},getDStorageIframe:function(){try{var t=document.getElementById("dstorageframe");return t.contentWindow||t.contentDocument.document||t.contentDocument}catch(t){return null}},dCookieCallbackHandler:function(t){if(t){var e=parseInt(t[$Support.zohopublickeys.cookie[0]]),i=t[$Support.zohopublickeys.cookie[1]];0!=e&&1!=e||$Support.getParent().$ZSIQUtil.updateCookieForTracking(e,i)}},dStorageCallbackHandler:function(t){for(var e in t)t[e]&&(e===$Support.zohopublickeys.localstorage[1]&&($Support.updateCommonKeys(t[e]),t[e].time=(new Date).getTime()),$Support.LSDB.storeInLocalStorage(e,t[e]));if(-1!=$Support.EmbedObj.chatID){var i=$Support.getParent();$Support.deleteTriggerCookie(),i.$ZSIQChat.init(),i.$ZSIQChatWindow.openChatWindow()}},setValueInDStorage:function(t,e,i,o,n){var a={};a.key=t,a.value=e,a.expiry=o,a.domain=n,a.operation={localstorage:"setvalue",cookie:"setcookie"}[i],$Support.getDStorageIframe().postMessage(CommonUtil.toJSON(a),$Support.postMesaageUrl)},getValueFromDStorage:function(t,e){var i={};i.keys=CommonUtil.toJSON(t),i.operation="get"+e+"values",t&&$Support.getDStorageIframe().postMessage(CommonUtil.toJSON(i),$Support.postMesaageUrl)},handleDomainStorage:function(t,e){var i={localstorage:$Support.LSDB.getFromLocalStorage,cookie:$Support.getParent().$ZSIQCookie.get};if($Support.verifyChatDomain())if($Support.getDStorageIframe())if("updatecorsdata"===t)for(var o in $Support.zohopublickeys[e]){var n=$Support.zohopublickeys[e][o];$Support.setValueInDStorage(n,i[e](n),e)}else"getcorsdata"===t&&("cookie"!=e||$Support.isCookieExists($Support.zohopublickeys[e])?"localstorage"==e&&$Support.getValueFromDStorage($Support.zohopublickeys[e],e):$Support.getValueFromDStorage($Support.zohopublickeys[e],e));else"updatecorsdata"==t&&"cookie"==e&&($Support.__queue__=!0)},verifyChatDomain:function(){return"true"==$Support.getParent().$zv.enablecrossdomain},synchronizeDomainStorage:function(){var t=$Support.EmbedObj.livelsid,e=$Support.getParent().$ZSIQUtil.getGDPRBannerCookieKey();$Support.zohopublickeys={localstorage:["ZLD"+t+"tabowner","ZLD"+t,"ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid"],cookie:[e+"__donottrack",e+"_trackingconfig"]},$Support.postMesaageUrl=_SCHEMA+"://"+_EMBEDSERVERURL+"/setsiqval.ls";var i=$Support.__queue__?"updatecorsdata":"getcorsdata";$Support.LSDB.getFromLocalStorage("ZLD"+t+"WTIME")||-1!=$Support.EmbedObj.chatID||(1==$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.isgdprenabled&&($Support.handleDomainStorage(i,"cookie"),delete $Support.__queue__),$Support.handleDomainStorage("getcorsdata","localstorage"))},isCookieExists:function(t){for(var e in t){var i=t[e];if($Support.getParent().$ZSIQCookie.get(i))return!0}return!1}};$UI={init:function(e){this.populateUI(e)},populateUI:function(e){this.setHeader(),this.setBody(null,e),this.setFooter()},setContainer:function(){$TH=$Support.isNewHeader()?$ThemeHandler.theme:$ThemeHandler[$Support.theme],$TH.updateContainer(),$Support.Util.updateParentFontFamily()},setHeader:function(){$TH.updateHeader()},setInnerHeader:function(e){$TH.updateInnerHeader(e)},setBody:function(e,t){$TH.updateBody(e,t),(t||!e&&-1==$Support.EmbedObj.department)&&this.populateDropDown()},setInnerBody:function(e){$TH.updateInnerBody()},setFooter:function(){$TH.updateFooter()},populateDropDown:function(){$TH.updateDeptDropdown()},showBanner:function(e,t,n,o,i,a){$TH.showBanner(e,t,n,o,i,a)},hideBanner:function(e){$TH.hideBanner(e)},showTimerBanner:function(e){$TH.showTimerBanner()},populateSendMail:function(e){$Support.Util.isPreview()||$TH.populateSendMail(e)},populateSendMailConfirm:function(e,t){$TH.populateSendMailConfirm(e,t)},populateSmiley:function(e){$TH.populateSmiley(e)},showUserEditUI:function(e,t){$TH.showUserEditUI(e,t)},hideUserEditUI:function(){$TH.hideUserEditUI()},showCaptcha:function(e){$TH.showCaptcha(e)},hideCaptcha:function(){$TH.hideCaptcha()},showWaitingUI:function(e){$TH.showWaitingUI(e)},updateWaitingTime:function(){var e=this.wait_div,t=MyDate.formatMS(1e3*$Support.waitingtime);e&&e.html(t);var n={};n.wtime=t,$Support.handleOnGoingchatActionsInConversation("wtime",n)},showMissedVisitorBanner:function(e,t){$TH.handleMissedStatus(e,t)},populateVisitorQuestion:function(e){$TH.populateVisitorQuestion(e)},getInfoMsgHTML:function(e,t){return $TH.getInfoMsgHTML(e,t)},populateUserAction:function(){$TH.populateUserAction()},setChatStatus:function(e){e=$.trim(e),JSON.parse($Support.EmbedObj.pprops.showtyping)&&$("#typgstatus").html(e)},updateOfflineUI:function(e,t){$TH.handleOfflineStatus(e,t)},updateOnlineUI:function(e,t){$Support.Util.handleOnlineStatus(e,t)},showFeedback:function(){$TH.populateFeedbackHTML()},showFdbkResponse:function(){$TH.showFdbkResponse()},hideUtilityDiv:function(e,t,n){$TH.hideUtilityDiv(e,t,n)},getInfoMsgContent:function(e,t,n){return $TH.getInfoMsgContent(e,t,n)},notifyUrlShare:function(e){$TH.notifyShareURL(e)},showDragDropUI:function(){$Support.Util.isDragNotAllowed()||$TH.showDragDropUI()},hideDragDrop:function(){$TH.hideDragDrop()},getPreviewHTML:function(){return $TH.getPreviewHTML()},getCustomHTML:function(e){return $TH.getCustomHTML(e)},showUploadProgress:function(e){return $TH.showUploadProgress(e)},hideUploadProgress:function(e){return $TH.hideUploadProgress(e)},updateCloseIcon:function(){$TH.updateCloseIcon()},updateParentFontFamily:function(){return $TH.updateParentFontFamily()},populateIcon:function(){$TH.populateIcon()},removeSmileyIcon:function(){$TH.removeSmileyIcon()},updateQuesArea:function(){$TH.updateQuesArea()},updateChatEndMsg:function(){$TH.updateChatEndMsg()},updateVisitorName:function(e){$TH.updateVisitorName(e)},getBusinessHrInfo:function(){return $TH.getBusinessHrInfo()},getSoundHTML:function(e){return $TH.getSoundHTML(e)},setSoundConfig:function(){$TH.setSoundConfig()},addGroupIcon:function(){},removeGroupIcon:function(){},populateCWaitHandler:function(){$TH.populateCWaitHandler()},removeCWaitHandler:function(){$TH.removeCWaitHandler()},showWaitingDialog:function(){$TH.showWaitingDialog()},hideMaskDiv:function(){$TH.hideMaskDiv()},displayInfo:function(e){$TH.displayInfo(e)},setDepartment:function(e){$("#dropcontent").find("[val='"+e+"']").trigger("click")},showCloseAlert:function(){-1!=$Support.EmbedObj.chatID&&1==confirm(LSResource.getRealValue("ne.reload.alert"))&&retrun},focusComposer:function(){window.outerWidth<555||$("#msgarea").focus()},appendTransferDiv:function(){if(!(0<$(".zsiq_transferdiv").length||$Support.hidetransfer)){var e,t=$Support.chatdiv||$("#msgdiv");e='<div class="zsiq_transferdiv fnt13" id="agenttransfer">'+LSResource.getRealValue("ne.agent.transfer")+'<span documentclick="transferchat" class="bot_opt">'+LSResource.getRealValue("common.yes")+'</span><span documentclick="hidetransferoption" class="bot_opt">'+LSResource.getRealValue("common.no")+"</span></div>",t.append(e)}},appendConsentDiv:function(e){var t,n=e?"$Support.getMissedUserConsent":"$Support.getUserConsent",o=$Support.chatdiv||$("#msgdiv");t='<div class="zsiq_transferdiv fnt13" id="creditcardconsent">'+LSResource.getRealValue("ne.agent.cardmask")+'<span onclick="'+n+'(1)" class="bot_opt">'+LSResource.getRealValue("common.yes")+'</span><span onclick="'+n+'(0)" class="bot_opt">'+LSResource.getRealValue("common.no")+"</span></div>",0==$(" #creditcardconsent ").length&&o.append(t)},appendChatConsentDiv:function(e,t,n){this.removeTransferDiv();var o=$Support.chatdiv||$("msgdiv"),i=LSResource.getRealValue("common.gdpr.agent.chatconsent2");n&&(i="<a class='siq-lnmor' target='_blank' href='"+(n=-1==n.indexOf("http")?"http://"+n:n)+"'>"+i+"</a>");var a=LSResource.getRealValue("common.gdpr.agent.chatconsent1")+" "+i+" "+LSResource.getRealValue("common.gdpr.agent.chatconsent3"),s=LSResource.getRealValue("common.gdpr.agent.accept"),r=LSResource.getRealValue("common.gdpr.agent.decline"),c=$Support.getParent().$ZSIQUtil.getAPIValues();if(c.textbannerobj&&c.textbannerobj.online){var u=c.textbannerobj.online;if(a=u.description&&0!=u.description.trim().length?u.description:a,s=u.acceptbutton&&0!=u.acceptbutton.trim().length?u.acceptbutton:s,r=u.declinebutton&&0!=u.declinebutton.trim().length?u.declinebutton:r,u.policytextandlink){var p=u.policytextandlink,l=p.text&&0!=p.text.trim().length?p.text:"",d=p.link&&0!=p.link.trim().length&&$Support.getParent().$ZSIQUtil.isValidURL(p.link)?p.link:"";a=$Support.getParent().$ZSIQUtil.hyperLinksSubString(a,l,d)}}chatconsenthtml='<div class="zsiq_transferdiv fnt13 chatconsent" id="chatconsentdiv">'+a+'<div class="mT10"><span onclick="$Support.getChatUserConsent(1, '+e+", "+t+')" class="bot_opt gltr-srno">'+s+'</span><span onclick="$Support.getChatUserConsent(0, null, '+t+')" class="bot_opt gltr-srno gltr-no">'+r+"</span></div></div>",0==$(" #chatconsentdiv ").length&&o.append(chatconsenthtml)},removeTransferDiv:function(e){var t=$(".zsiq_transferdiv");t.fadeOut("slow",function(){t.remove(),e&&"missed"==$Support.botchatprops.status&&"Continue with Bot"==e[0].innerHTML&&($Support.botchatprops.status="connected",$Support.setCookie())})},removeConsentDiv:function(){var e=$("#creditcardconsent");e.fadeOut("slow",function(){e.remove()})},removeChatConsentDiv:function(){var e=$("#chatconsentdiv");e.fadeOut("slow",function(){e.remove()})},removeOfflineConsentDiv:function(){var e=$("#offlineconsent");e.fadeOut("slow",function(){e.remove(),$Support.Util.setTextareaHeight()})},appendGTConsentDiv:function(e,t){var n=$Support.chatdiv||$("msgdiv"),o="";e&&(o="<a class='siq-lnmor' target='_blank' href='"+(e=-1==e.indexOf("http")?"http://"+e:e)+"'> "+LSResource.getRealValue("helplink.learnmore")+"</a>");var i=LSResource.getRealValue("common.gdpr.agent.translateinfo")+o,a=LSResource.getRealValue("common.gdpr.agent.accept"),s=LSResource.getRealValue("common.gdpr.agent.decline");gtconsenthtml='<div class="zsiq_transferdiv fnt13 chatconsent" id="gtconsentdiv">'+i+'<div class="mT10"><span onclick="$Support.handleVTransLangStatus(1,\''+t+'\')" class="bot_opt gltr-srno">'+a+"</span><span onclick=\"$Support.handleVTransLangStatus(0,'"+t+'\')" class="bot_opt gltr-srno gltr-no">'+s+"</span></div></div>",0==$(" #gtconsentdiv ").length&&n.append(gtconsenthtml)},removeGTConsentDiv:function(){var e=$("#gtconsentdiv");e.fadeOut("slow",function(){e.remove()})},showTransferWaiting:function(){$(".zsiq_transferdiv").remove();var e=$Support.waitingtime||$Support.EmbedObj.embedwaitingtime,t='<div class="zsiq_transferdiv fnt13" id="transferwaiting" botstatus="timer">'+LSResource.getRealValue("ne.agent.transferwaiting")+'<span id="wait_div">'+MyDate.formatMS(1e3*e)+"</span></div>";($Support.chatdiv||$("#msgdiv")).append(t),$UI.wait_div=$("#wait_div"),$Support.botchatprops.status="waiting",$Support.setCookie()},showTransferMissed:function(){$(".zsiq_transferdiv").remove();var e='<div class="zsiq_transferdiv zsiq_transmissed fnt13" id="transfermissed">'+LSResource.getRealValue("ne.agent.transfermissed")+'<div><span documentclick="removetransfer" class="bot_opt">'+LSResource.getRealValue("ne.chatwindow.continuewithbot")+'</span><span documentclick="transfermissed" class="bot_opt">'+LSResource.getRealValue("settings.embed.offline")+"</span></div></div>";($Support.chatdiv||$("#msgdiv")).append(e);var t=document.getElementById("msgmaindiv");t.scrollHeight-t.scrollTop==t.clientHeight||t.scrollHeight<t.clientHeight||Message.scroll(t)},showOperatorOffline:function(){$(".zsiq_transferdiv").remove();var e='<div class="zsiq_transferdiv fnt13" ><span documentclick="transfermissed" purpose="offline" class="bot_opt">'+LSResource.getRealValue("ne.chatwindow.dropmessage")+"</span></div>";($Support.chatdiv||$("#msgdiv")).append(e);var t=document.getElementById("msgmaindiv");t.scrollHeight-t.scrollTop==t.clientHeight||t.scrollHeight<t.clientHeight||Message.scroll(t)},getTranslateBannerHTML:function(e,t){return $TH.getTranslateBannerHTML(e,t)},reSetHeaderClass:function(){$TH.reSetHeaderClass()}};var $NE=!1;$EmbedManger={isNewEmbed:$NE=!("undefined"==typeof $Support),setChatID:function(t){return $NE?$Support.EmbedObj.chatID=t:Support.setChatID(t)},getChatID:function(){return $NE?$Support.EmbedObj.chatID:Support.getChatID()},setPrevCHID:function(t){return $NE?$Support.EmbedObj.lchid=t:Support.setPrevCHID(t)},getPrevCHID:function(){return $NE?$Support.EmbedObj.lchid:Support.getPrevCHID()},getWaitingCookie:function(){return $NE?$Support.getWaitingCookie():SupportUI.getCookieValue("ZLD"+Support.getLiveSupportID()+"WAITING")},getVisitorID:function(){return $NE?$Support.EmbedObj.visitorID:Support.getVisitorID()},getLiveSupportID:function(){return $NE?$Support.EmbedObj.livelsid:Support.getLiveSupportID()},getAttenderID:function(){return $NE?$Support.EmbedObj.attender:Support.getAttender()},showChatUI:function(t,e){if($NE&&t){var o=$Support.LSDB.getFromSession($Support.EmbedObj.chatID+"_transcript");if($.isEmptyObject(t[t.length-1])&&t.splice(t.length-1,1),e)return void $Support.Util.showChatUI(t);if($Support.LSDB.isSessionStorageAvail()&&o&&o.length==t.length){var r=o.length;if(o[r-1].msg==t[r-1].msg)return}$Support.Util.showChatUI(t)}else Support.showChatUI()},isautotrigger:function(){return $NE?$Support.istrigmsg:Support.isautotrigger},getAddinfo:function(){return $NE?$Support.EmbedObj.addinfo:Support.addinfo},getDeptlist:function(){return $NE?$Support.EmbedObj.deptlist:Support.deptlist},updateChatCookie:function(){$NE?$Support.updateChatCookie():Support.updateChatCookie()},handleChatEnded:function(t){if(!$NE)return Support.handleChatEnded(t);$Support.handleChatEnded(t)},setVisitorName:function(t){$NE?$Support.EmbedObj.setVisitorName(t):Support.setVisitorName(t)},getVisitorName:function(){return $NE?$Support.EmbedObj.visitorname:Support.getVisitorName()},setVisitorEmail:function(t){$NE?$Support.EmbedObj.setVisitorEmail(t):Support.setVisitorEmail(t)},setVisitorPhone:function(t){$NE?$Support.EmbedObj.setVisitorPhone(t):Support.setVisitorPhone(t)},handleCallbacks:function(t,e){if(!$NE)return Support.handleCallbacks(t,e);$Support.Util.handleCallbacks(t,e)},handlePickUp:function(t){$NE?$Support.handlePickUp(t):Support.handlePickUp(t)},handleDesktopSharing:function(t){return $NE?$Support.handleDesktopSharing(t):Support.handleDesktopSharing(t)},handleEndSession:function(t){return $NE?(EmbedSound.play("endtimer",t.timer),void $Support.handleEndSession(t.timer,!0)):Support.handleEndSession(t)},handleJoinProActive:function(t){$NE?$Support.handleJoinProActive(t):Support.handleJoinProActive(t)},reJoin:function(){$NE?$Support.reJoin():Support.reJoin()},addVisitor:function(){$NE?$Support.addVisitor():Support.addVisitor()},quit:function(){if($NE)return $Support.quitChat();Support.quit()},setCookie:function(){$NE?$Support.setCookie():Support.setCookie()},removeChatCookie:function(){$NE?$Support.removeChatCookie():Support.removeChatCookie()},getType:function(){return $NE?$Support.type:Support.type},getuvid:function(){return $NE?$Support.EmbedObj.uvid:Support.uvid},getvwmsid:function(){return $NE?$Support.EmbedObj.vwmsid:Support.vwmsid},getWaitTimer:function(){return $NE?$Support.waitTimer:Support.waitTimer},setCallbackargs:function(t){$NE?$Support.callbackargs=t:Support.callbackargs=t},setQuitStatus:function(t){$NE?$Support.callquitstatus=t:Support.callquitstatus=t},getQuitStatus:function(){return $NE?$Support.callquitstatus:Support.callquitstatus},setIPBlockStatus:function(t){$NE?$Support.isipblocked=t:Support.isipblocked=t},getVisitID:function(){return $NE?$Support.EmbedObj.VISITID:Support.visitorinfo.VISITID},isComposerFocused:function(){return $NE?$Support.iscomposerfocus:Support.iscomposerfocus},iswindowfocused:function(){return $NE?$Support.iswindowfocused:Support.iswindowfocused},isSoundOff:function(){return $NE?"-1"==$Support.EmbedObj.soundval:!SupportUI.sound},updateChatCache:function(t,e){return $NE?$Support.updateChatCache(t,e):""},getChatStatus:function(){return $NE?$Support.ischatdisabled:SupportUI.ischatdisabled},getMessageLength:function(){return $NE?$.trim(" "+$("#msgarea").val()).length:$.trim(" "+$("#lstxteditor").val()).length},handleApiData:function(){return $NE?$Support.handleApiData():SupportUI.handleApiData()},isCrossDomainReq:function(){return!0}},$EmbedManger.UI={isNewEmbed:$EmbedManger.isNewEmbed,displayInfo:function(t,e){$NE?$UI.showBanner(t):SupportUI.displayInfo(t,e)},hideInfo:function(){$NE?$UI.hideBanner():SupportUI.hideInfo()},showProcess:function(t){$NE||SupportUI.showProcess(t)},showAgentStatus:function(){$NE||SupportUI.showAgentStatus()},resizequestion:function(){if(!$NE)return SupportUI.resizequestion},postMessage:function(t,e){$NE?$Support.postMessage(t,e):SupportUI.postMessage(t,e)},embeddiv:function(){return $NE?$Support.container:SupportUI.embeddiv},showVisitorInfo:function(){$NE||SupportUI.showVisitorInfo()},resizeWindow:function(){$NE||SupportUI.resizeWindow()},getCaptchaValue:function(){return $NE?$Support.Util.getCaptchaValue():SupportUI.getCaptchaValue()},showCaptcha:function(t){$NE?$UI.showCaptcha(t):SupportUI.showCaptcha(t)},hideCaptcha:function(){$NE?$UI.hideCaptcha():SupportUI.hideCaptcha()},showFeedback:function(t,e){$NE?$UI.showFeedback(t,e):SupportUI.showFeedback(t,e)},handleEndSupport:function(t){$NE||SupportUI.handleEndSupport(t)},hideVisitorInfo:function(){$NE||SupportUI.hideVisitorInfo()},clearProgress:function(){$NE||SupportUI.clearProgress()},handlePushMessage:function(t){$NE?$Support.Util.handlePushMessage(t):SupportUI.handlePushMessage(t.msg)},getDragDropHtml:function(){if(!$NE)return SupportUI.getDragDropHtml()},setChatStatus:function(t){$NE?$UI.setChatStatus(t):SupportUI.setChatStatus(t)},formatAndDisplayInfo:function(t,e,o){if($NE){var r=$UI.getInfoMsgContent(e);Message.display(r,!0)}else Message.formatAndDisplayInfo(t,e,o)},getPrevHTML:function(){return $NE?$UI.getPreviewHTML():PasteImage.getEmbPrevHTML()},showPasteUI:function(){if($NE)return $Support.Util.showPasteUI();PasteImage.showEmbedUI()},hidePasteUI:function(){if($NE)return $Support.Util.hidePasteUI();PasteImage.hideUI()},updateVisitorName:function(t){$NE&&$UI.updateVisitorName(t)},showGroupIcon:function(){},hideGroupIcon:function(){},getResendIcon:function(){return $NE?'<em id="resendicon" class="sqico-resend" documentclick="resendmsg" title="'+LSResource.getRealValue("embed.msg.resend")+'" ></em>':'<em id="resendicon" class="sqico-resend spritebg" onclick="LSMessanger.resendMessages('+RESEND_MANUAL+')" title="'+LSResource.getRealValue("embed.msg.resend")+'" ></em>'}};$Support.Util={jsdownloadtimer:-1,ispostloaddone:!1,handleTextClear:function(e,t){e.parent().find('input[type="text"]').val("")},minimizeEmbed:function(){$Support.getParent().$ZSIQChatWindow.minimizeChatWindow()},maximizeEmbed:function(){this.postMessage("newEmaximize",{width:"371",height:"460"})},closeEmbed:function(){$Support.getParent().$ZSIQChatWindow.closeChatWindow(),$Support.enableTextarea(),$Support.contentdiv=null;var e=$Support.EmbedObj;$Support.callquitstatus=!1,e.setVisitorID(-1),e.setChatID(-1),e.setVisitID(-1),_JOINED=!1,Message.presender="",$Support.init($Support.getParent().$ZSIQWidget.getEmbedObject()),$Support.getParent().$ZSIQChatWindow.constructIframe(!0)},setThemeInFloat:function(e){this.postMessage("settheme",e)},triggerAdditionalFileDownload:function(){var e=$Support.Util;e.ispostloaddone||(clearTimeout(e.jsdownloadtimer),e.downloadAdditionalFiles())},downloadAdditionalFiles:function(){if(!$Support.Util.ispostloaddone){var e=$Support.getParent().$ZSIQWidget.getEmbedObject(),t=$Support.getParent().$ZSIQChat.getWidgetData().commondata,i=t.schema+"://"+e.embedserverurl,n=document.querySelectorAll("head");if(0==n.length&&((n=[])[0]=document.createElement("head"),document.insertBefore(document.body,n[0])),e.ucomp){var a=document.createElement("script");a.src=t.jsstaticserver+"/js/embedpostload.js",n[0].appendChild(a),(d=document.createElement("link")).type="text/css",d.rel="stylesheet",d.href=$Support.getParent().$ZSIQWidget.getWidgetObject().cssstaticserver+"/styles/embedpostload.css",n[0].appendChild(d)}else{for(var r=["/js/embed/new/chatwindow/jquery.ztooltip.js","/js/cw/lsdragdrop.js","/js/cw/pasteimage.js","/js/cw/validator.js","/js/cw/clickoutside.js"],o=0;o<r.length;o++){var s=document.createElement("script");s.src=i+r[o],n[0].appendChild(s)}var p=["/styles/cw/smiley.css","/styles/cw/ui.ztooltip.css"];for(o=0;o<p.length;o++){var d;(d=document.createElement("link")).type="text/css",d.rel="stylesheet",d.href=i+p[o],n[0].appendChild(d)}}$Support.Util.ispostloaddone=!0}},showMoreAction:function(e,t){$Clickoutside.bindclick($Support.Util.hideMoreActionDiv,"mraction","moreaction");var i=e.parents(".usractions"),n=i.find(".mraction");n.addClass("shwact"),n.find('li[purpose="sound"]').replaceWith($UI.getSoundHTML()),i.removeClass("showmore")},hideMoreActionDiv:function(){$("ul.mraction").removeClass("shwact").parents(".usractions").addClass("showmore")},getKeyCode:function(e){return(e=null==e?window.event:e).keyCode||e.which},handleBannerSlide:function(e){var t=$Support.contentdiv.find("#info_banr");t.removeClass("timer");var i=t.outerHeight();if(t.html(e),t.is(":animated"))t.css("height","auto");else{var n=t.outerHeight();t.css({height:i+"px"}).animate({height:n},"5000",function(){t.height("auto")})}},showInfoBanner:function(e,t,i,n,a){var r=this;clearTimeout(r.bnrtimer);var o=$Support.contentdiv.find("#info_banr");$Support.container.hasClass("outerwin")?o.addClass("relate"):o.removeClass("relate"),$Support.EmbedObj.bushrstatus?o.addClass("bsnshrs"):o.removeClass("bsnshrs"),e?r.handleBannerSlide(e):i&&o.hide().slideDown(500,function(){}),t&&(a=a||1500,r.bnrtimer=setTimeout(function(){$UI.hideBanner(n)},a))},sendMail:function(e){if(e&&13==this.getKeyCode(e))return $Support.sendMail()},validateFields:function(e){if(!$Support.Util.isPreview()){var t,i=!0,n=0;return e.find("[data-validate]").each(function(){$(this).validateInput()||(i=!1,t=$(this),n++)}),this.showErrorInfo(n,t),i}},showErrorInfo:function(e,t){if(!(e<1||CallImpl.isCallWithChat)){var i=LSResource.getRealValue("ne.errorinfo.all");if(1===e){var n=t.attr("info");i=/^number|email|url|percentage|decimal|name|email|phone$/.exec(n)?LSResource.getRealValue("ne.errorinfo."+n):i}$UI.showBanner(i,!0),$("#info_banr").removeClass("relate"),this.setTextareaHeight()}},showChatUI:function(e){$Support.contentdiv||($UI.setInnerBody(),$UI.setFooter(),$Support.Util.handleResize());try{this.populateChatUI(e)}catch(e){}},populateChatUI:function(e,t,i){if(e&&!CallImpl.isCallWithChat){delete $Support.waitTimer;var n=(e=CommonUtil.parseToJSON(e)).length,a=0,r="",o="",s="",p=t?$Support.convtranscontainer:$Support.chatdiv||$("#msgmaindiv");for(p.html(""),ZSIQTranscript.reSetPreviousSender();a<n;a++){var d=e[a];if(a==n-1&&!getObjectSize(d))break;var l=d.sender,c={},u=d.dname,g=d.msg,m=d.time||d.intime||"",h=d.mode;if(m=m.toString(),d.formattedmsg&&(g=d.formattedmsg),"ACCEPT_TRANSFER"==(h=h||("object"==typeof g?g.mode:h))?(g.opruser.dname=e[0].attendername,g.opruser.attendername=e[0].attendername):"BOT_MESSAGE"==h&&(g=d),0!==a||(l=Message.presender=l||$Support.EmbedObj.vwmsid,u=d.visitorname||d.dname,t||$Support.isConversationUIFocussed()||$UI.setInnerHeader(d),g=d.question||d.ques,t||($Support.waitingtime||-1===$Support.EmbedObj.visitorID||$Support.istriggeredchat||!$EmbedManger.getAttenderID()||$UI.populateUserAction(),$UI.populateIcon()),!isUndefined(g)&&""!=g)){if("BOT_MESSAGE"!=h&&(o=$UI.getInfoMsgContent(g,t,i)),h)if("TRIGGER"==h)u=g.dname,g=g.msg;else if("att"===h)c.file=g;else if("cannedarticle"===h)g=$FAQ.getCustomCard(g.msg),c.iscannedarticle=!0;else if("BOT_MESSAGE"==h||"BOT_TRIGGER"==h){var f=(g=g.msg).msglist;if(f)for(var v in f){l=g.sender;var S=(b=(d=f[v]).meta)&&b[$Widget.display_card]&&!b[$Widget.input_card]?b[$Widget.display_card].image:"";r+=ZSIQTranscript.getTranscript($.extend(c,{dname:g.dname,msg:d.msg,time:g.time,sender:l,previoussender:s==l,convvisitorid:t,convchid:i,iscannedarticle:d.iscannedarticle,ratinghtml:d.ratinghtml,bot_image:S,isbotmessage:$BotImpl.isBotMessage(d),msgid:d.msgid,meta:b||{}}),!0),Message.presender=l}}else if(g.mode&&!o)continue;m=m?-1!=m.indexOf(":")?m:MyDate.getHoursandMin(m,!0,"bclient"):"";var b;S=(b=d.meta)&&b[$Widget.display_card]&&!b[$Widget.input_card]?b[$Widget.display_card].image:"";l=!l&&d.msg&&"TRIGGER"==d.msg.mode?u:l,r+=o||ZSIQTranscript.getTranscript($.extend(c,{dname:u,msg:g,time:m,sender:l,previoussender:s==l,convvisitorid:t,convchid:i,iscannedarticle:d.iscannedarticle,ratinghtml:d.ratinghtml,bot_image:S,isbotmessage:$BotImpl.isBotMessage(d),msgid:d.msgid,meta:b||{}}),!0),s=Message.presender=l}}t?($Support.convtranscontainer.html(r),ZSIQTranscript.setMessageClass()):ZSIQTranscript.updateTranscript({html:r});var C=e[n-1],I=p.find(".msgbx").last();if(($BotImpl.iswidgetobj(C)||C.meta&&C.meta.suggestions)&&0===p.find("#cmpnt"+C.time).length&&(I.find("span")[0].innerHTML===C.msg&&I.parent().remove(),$Widget.showBotReply(C),C.meta&&C.meta[$Widget.input_card]&&$BotImpl.disableComposer()),$UI.showWaitingDialog(),$Support.isBotChat){var w=$Support.botchatprops.status;"connected"==w?$UI.appendTransferDiv():"waiting"==w&&$Support.getWaitingCookie()?$UI.showTransferWaiting():"missed"==w&&$UI.showTransferMissed()}p&&p.length&&!i&&$(p).scrollTop(p[0].scrollHeight-p[0].offsetHeight);var U=$("#msgmaindiv");U[0]&&U.scrollTop(U[0].scrollHeight);var E=Object.keys(SUPPORT_REPS).length;$Support.Util.toggleAudioCallIcon(U.length&&$Support.isChatExist()&&E&&!$Support.proactive&&!$Support.isBotChat&&!avimpl.hideCallIcon&&!i),t||($UI.showWaitingDialog(),$Support.setCookie(),delete $Support.waitTimer)}},getPhotoURL:function(){var e=$Support.EmbedObj;return e.attenderimagefkey?_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+e.attenderimagefkey+"/photo.ls?nocache=1":ZSIQTranscript.getImageURL({sender:e.attender})},handleKeyDown:function(e,t,i){try{if(13==t&&i.shiftKey)return!0}catch(i){}0==e.parent().find(".smileli").length||-1==[39,37,38,40,13].indexOf(t)?13==t&&(i.preventDefault?i.preventDefault():i.returnValue=!1):i.preventDefault?i.preventDefault():i.returnValue=!1},handlePredictMsg:function(e){if(-1!=$Support.EmbedObj.visitorID&&"sendmessage"===e.attr("dockeyup")){var t=$.trim(e.val()),i=this;Licence.verify("creditmask")&&(t=Message.checkMaskOccurance(t,!1)),""==t||i.enablepmsg||(i.enablepmsg=!0,i.prdcttimer=setTimeout(function(){LSMessanger.sendPredictMessage(t),i.enablepmsg=!1},3e3))}},handleRating:function(e){$Support.Util.isPreview()||($(".sqico-star").removeClass("sel"),e.addClass("sel"),$("#msgarea").focus(),this.feedbacksent||$Support.setRating(e))},handleFeedback:function(e,t,i){if($Support.toggleSendButton(e),13===t){if(!this.validateFields(e.parent()))return i.preventDefault(),!1;$Support.sendFeedback(e)}},submitFile:function(e,t){try{var i=$(e)[0];if(0===i.files.length)return}catch(e){}this.hideMoreActionDiv();try{this.handleDropEvent($Support.EmbedObj.chatID,t,i.files)}catch(e){}return!1},handleSendMail:function(e,t,i){var n=e.parent();1<=e.val().length?n.addClass("icoclr"):n.removeClass("icoclr"),13===t&&n.find('[documentclick="triggermail"]').trigger("click")},postMessage:function(e,t){if(null!=t){var i={type:$Support.type,operation:e,value:t};sendPostMessage(i)}},loadPostMessage:function(){window.addEventListener?addEventListener("message",$Support.Util.handlePostMessage):attachEvent("onmessage",$Support.Util.handlePostMessage)},handlePostMessage:function(e){var t;try{t=JSON.parse(e.data)}catch(e){return}var i=t.operation,n=t.value;$Support.Util;if("apivalues"==i)$Support.handleApiData(n);else if("broadcast"==i)$Support.handleApiData(n,!0);else if("sound"==i)$UI.setSoundConfig();else{if("dstoragevalues"==i)return $Support.dStorageCallbackHandler(n);if("dcookievalues"==i)return $Support.dCookieCallbackHandler(n);if("initiframe"==i)return $Support.synchronizeDomainStorage()}},handleTriggers:function(e,t){var i=$Support.Util;if(e!==TRIGGER_SEND_MESSAGE||$Support.waitTimer)e===TRIGGER_PLAY_TUNE&&EmbedSound.play(t.tune);else{if(-1!==$Support.EmbedObj.chatID)return;EmbedSound.play("smessage"),i.handleChatTrigger(t),i.handleCallbacks("visitor.chattrigger",t)}},handleTrackChat:function(e){-1===$Support.EmbedObj.chatID&&($Support.Util.handleCallbacks("visitor.chattrigger",{}),$Support.Util.proactiveChat(e))},handleUTSConnect:function(e){var t=$Support.EmbedObj.chatID,i=$Support.EmbedObj.visitorID;(-1===t||e.isnewconnection)&&-1!==t&&-1!==i&&e.isnewconnection&&$Support.rejoinVisitorInUTS()},proactiveChat:function(e){var t=$Support.EmbedObj;$Support.istrigmsg||-1!==t.chatID||(delete $Support.istrigmsg,t.setVisitorID(-1),t.uvid=e.uvid,t.setAttender(e.attender),t.attenderemail=e.attenderemail,t.setChatID(e.chid),t.setVisitorEmail(e.email),t.setVisitorName(e.name),t.setVisitorPhone(e.phone),t.setSelectedDept(e.department),t.attenderimagefkey=e.image_fkey,t.attenderuseragent=e.attender_useragent,t.setvwmsID(e.vwmsid),t.pmsg=e.msg,t.attenderaboutme=e.aboutme,t.attendername=t.triggername=getUnescapedText(e.attendername),t.chatintime=(new Date).getTime()-1e3,$Support.proactive=!0,LSMessanger.setNickName(e.name),$EmbedManger.setQuitStatus(!1),LSMessanger.register($Support.Util.productCode,t.vwmsid),$Support.setCookie(),$Support.handleOnGoingchatActionsInConversation("newchat"))},setBotStatus:function(e){$Support.isbottrigmsg=e,$Support.isBotChat=e},handleChatTrigger:function(e){var t=$Support.EmbedObj,i=$Support.getParent().$ZSIQUtil.getAPIValues();if(-1===t.chatID&&-1===t.visitorID&&(i.triggermsg||!$Support.istrigmsg||i.mtrigger)){this.setBotStatus(!!e.isbottrigger),$Support.istrigmsg=!0;var n=e.attenderdetails;t.pmsg=e.message,t.triggername=e.sendername,n&&(t.attenderimagefkey=n.imagefkey,t.setAttender(n.attender)),delete t.question,delete $Support.waitingtime,$Support.setTriggerCookie(e),this.populateTriggerUI(e),$Support.handleOnGoingchatActionsInConversation("triggerchat",e)}},handleBotTriggers:function(e){var t=$Support.EmbedObj,i=$Support.getParent().$ZSIQUtil.getAPIValues();if(-1===t.chatID&&-1===t.visitorID&&(i.triggermsg||!$Support.istrigmsg)){$Support.istrigmsg=!0,this.setBotStatus(!0),$Support.EmbedObj.attender=e.attender,$Support.EmbedObj.attendername=e.dname,delete $Support.waitingtime,delete t.question;var n={attendername:e.dname,image_fkey:ZSIQTranscript.getImageURL({sender:e.attender}),aboutme:e.aboutme};this.populateTriggerWindow(n)}},populateTriggerWindow:function(e){var t=$Support.isFAQUIFocussed();if($Support.isConversationUIFocussed()||t||$UI.setInnerHeader(e),$Support.contentdiv||$UI.setInnerBody(),$UI.showWaitingUI(),$UI.setFooter(),t)return $Support.incrementUnreadCount(),$("#conv-tab").removeClass("sel"),void $("#faqtab").addClass("sel");$Support.Util.showMessageAreaUI()},populateTriggerUI:function(e){var t=e.attenderdetails||{},i={attendername:e.sendername||e.attendername,image_fkey:t.imagefkey||e.attenderimagefkey,aboutme:t.attenderaboutme,isbottrigger:e.isbottrigger};this.populateTriggerWindow(i)},toggleAudio:function(e){var t=e.hasClass("sqico-mute")?-1:1;if($Support.LSDB.set($Support.EmbedObj.chatID+"_sound",t),$UI.setSoundConfig(),this.handleUnmute(),e.parent()[0]&&"UL"!==e.parent()[0].nodeName?shtml=$UI.getSoundHTML(!0):shtml=$UI.getSoundHTML(),e.replaceWith(shtml),-1==t)EmbedSound.stop();else if($Support.endtimer){var i=0;try{var n=$("#endtimer").text();i=parseInt(n.split(" ")[0])}catch(e){}0<i&&EmbedSound.play("endtimer",i)}},handleUnmute:function(){var e=$Support.EmbedObj.soundval;if(isUndefined(e)||-1!=e)$(".sqico-more").prev("span.sqico-unmute").remove();else{var t=$UI.getSoundHTML(!0);$(".sqico-more").before(t)}},hideMaskAnim:function(){$Support.maskdiv.addClass("hidemaskanim")},setTextareaHeight:function(){if(!window.parent.$ZSIQWidget.getWidgetObject().isshowcallbubble){var e=$Support.contentdiv;if(e&&$Support.container.hasClass("outerwin")){var i=0;$Support.getComposer().removeAttr("style"),e.children('div:visible:not("#info_banr")').each(function(){i+=$(this).outerHeight(!0)});var t=e.height();if(t<i)e.find(".msgbox").addClass("posrel");else{var n=$Support.isNewHeader()?15:0;i=t-i-n;var a=$("#msgarea");a.height(function(e,t){return t+i}),a.height()<70&&a.css("height","70px")}}}},removeDiv:function(e){setTimeout(function(){e.remove()},2e3)},handleCaptcha:function(){var e=$Support;this.LSDB.remove("ZLD"+e.EmbedObj.livelsid+"WTIME"),delete e.latency,clearTimeout(e.waitTimer),e.getCaptcha=this.getCaptchaValue(),e.handleWaitingDisplay(),e.addVisitor()},getCaptchaValue:function(){var e=$Support.contentdiv.find(".captcha");if(e.hasClass("hidemaskanim"))return{};var t=e.find('input[type="text"]'),i={};return i[t.attr("purpose")]=t.val(),i},handleDropEvent:function(e,t,i){if(!$Support.Util.isDragNotAllowed())try{t.preventDefault(),LSDragDrop.onDropEvent($Support.EmbedObj.chatID,t,i)}catch(e){}},showPasteUI:function(){var e=PasteImage.getHTML();$("#pstimg-main").remove(),$Support.container.addClass("imgcmt").find("header").after(e),PasteImage.updateDetailes($Support.container)},handlePushMessage:function(t){var e=t.msg;-1==e.indexOf("http")&&(t.msg=e="http://"+e);try{if(null!=$Support.pushwinobj.window)return void($Support.pushwinobj.location.href=e);$UI.notifyUrlShare(t)}catch(e){$UI.notifyUrlShare(t)}},openPushPage:function(e){$UI.hideBanner(),$Support.pushwinobj=window.open(e)},handleTextareaEnter:function(e,t,i,n,a){var r=$("#chatconsent");if(!$Support.Util.getChatConsentStatus()||1!=r.length||0!=r.is(":checked"))return $Support.toggleSendButton(e),!(13!=t||!i.shiftKey)||(!!a||void((13===t||isUndefined(t))&&this.handleStartChat(n,i)));$Support.Util.removeSendClickAction()},handleCallFdbEnter:function(e,t,i,n,a){if(13==t&&i.shiftKey)return!0;""!==$.trim(e.val())&&(13===t||isUndefined(t))&&$Support.sendFeedback()},handleStartChat:function(e,t){if(!$Support.Util.isPreview()){var i=$Support.container;if($Support.checkCustomFields(),$UI.hideBanner(),i.find(".hidemaskanim").remove(),i.hasClass("outerwin")&&!this.validateFields(i))return t&&t.preventDefault(),!1;$Support.updateInputValues(),"function"==typeof e&&e()}},hidePasteUI:function(){$("#pstimg-main").addClass("hidemaskanim"),$("section.imgcmt").removeClass("imgcmt")},bindUtilEvents:function(){bindDragDropEvents(),handlePaste()},handleDrpdwnEvent:function(e,t,i){if(!$Support.Util.isPreview()){var n=e.find("ul"),a=e.find("li.atsel"),r=n.find("li:first-child");if(13==t){if(a.length)return a.trigger("click"),void i.preventDefault();e.find("a").trigger("click"),i.preventDefault()}a=n.find("li.atsel").removeClass("atsel");if(40==t){if(n.is(":hidden"))return e.find("a").trigger("click"),void i.preventDefault();var o=a.next();a=o.length?o:r,i.preventDefault()}else if(38==t){var s=a.prev();a=s.length?s:n.find("li:last-child"),i.preventDefault()}a.addClass("atsel"),a.length&&n.stop(!0,!0).animate({scrollTop:a[0].offsetTop}),i.stopImmediatePropagation()}},fillApiValues:function(){var e=$Support.EmbedObj,i=e.addinfo;getUnescapedText(i.question),getUnescapedText(e.visitorname),e.visitorphone,e.visitoremail;DynamicMsg.updateValues(i),$Support.container.find("[info]").each(function(){var e=$(this),t=i[e.attr("info")];isUndefined(t)||e.val(t)}),$Support.toggleSendButton();var t=i?i.forcefloatingwindow:null,n=$("body");n.removeClass("siq_mprv"),($Support.Util.isSIQMobilePreview()||(t||$Support.Util.isHandHeldDevice())&&$Support.isFloat()&&window.outerWidth<555)&&(n.addClass("siq_mprv"),$Support.contentdiv.parent().removeClass("siq_mscreen").addClass("siq_mscreen"),this.setTextareaHeight())},handleCustomHTML:function(l){var e=$Support.customobj;if(e){this.checkAndRemoveCustomField([]);try{$.each(e,function(e,t){t.index=e;var i=t.name;if(/^_default./.test(i)){var n=i.replace("_default.",""),a=$Support.container.find("[purpose=visitor"+n+"]"),r="true"==t.required||1==t.required;if(/^department$/.test(n)&&(a=$Support.container.find("[purpose=department]")).text(getEscapedText(t.hint)),/^question$/.test(n))(a=$Support.container.find("[purpose=question]")).attr("placeholder",getEscapedText(t.hint));else if(t.hint){if(a.length<1)return"";if(r)var o=a.attr("data-validate").replace("optional","required");else o=a.attr("data-validate").replace("required","optional");a.attr("data-validate",o),a.attr("placeholder",getEscapedText(t.hint))}return""}var s=$($UI.getCustomHTML(t));if(!s.length)return!0;var p=t.before||t.after||"";if(p?(insertelem=$Support.container.find('[custom = "'+p+'"]'),insertelem[t.before?"before":"after"](s)):l?s.insertBefore($("#usereditactionbtn")):s.insertBefore("div.msgbox"),"selectbox"==t.type&&$("#sqico-cdrpdwn"+e).dropdown({options:t.options,purpose:"customdrpdwn",defaultval:t.hint||t.name||"Custom"}),t.errorinfo){var d=$Support.EmbedObj;i=t.name;d.errorinfo[i]=t.errorinfo}}),this.handleCustomVisibility(),this.setTextareaHeight()}catch(e){}}},handleCustomVisibility:function(){var r=$Support.EmbedObj,t=$Support.contentdiv.find('[purpose="custom"]'),i=this;$.each(t,function(e,t){var i=$(t),n="undefined"!=i.attr("visibility")?i.attr("visibility"):"both";i.hide();var a=i.prev(".subtitle").hide();"both"==n||r.status&&"online"==n||!r.status&&"offline"==n?(i.show(),a.show()):(i.remove(),a.remove())}),t.find("input[type=radio],input[type=checkbox]").off().on("change",function(){var e=$(this).attr("name");i.handleInputChange(e,t.find("input[name='"+e+"']:checked").map(function(){return this.id}).get())})},removeSendClickAction:function(){$("#sqico-send").removeAttr("documentclick"),$("#action_icons").removeClass("show_send")},getFileURL:function(e,t){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.readAsDataURL(e)},handleDeptChange:function(e,t){var i=!t,n=e.find("span").attr("status"),a=$Support.EmbedObj;if(a.department=e.attr("val"),"1"!=n)$UI.updateOfflineUI(null,i);else{if(!this.prevstatus||"1"==this.prevstatus)return;$Support.isFAQEnabled()&&$("#msgarea").parent().find("#sqico-send").remove(),$UI.updateOnlineUI(null,i),a.question&&($Support.composer=$("#msgarea"),$Support.composer.text(a.question),$Support.toggleSendButton()),this.setTextareaHeight()}this.prevstatus=n},handleResize:function(){if($Support.Util.calculateContentHeight(),$Support.Util.setTextareaHeight(),$Support.Util.calculateTextareaHeight(),!$Support.isParentIframe()||"embed"===$Support.type){var e=$Support.container,t=$("body").children('#cmpylogo:not(".nologo")'),i=0!=t.length?t.outerHeight():0,n=$Support.container.find("header").outerHeight()+i;e.css("height",$(window).height()-i);var a=$Support.contentdiv;a.css("height",e.find("footer").offset().top-n-8),$Support.chatdiv&&$Support.chatdiv.css("height",a.outerHeight()-(a.find(".usrinpt").outerHeight()+a.find(".chtend").outerHeight(!0))),$Support.Util.setTextareaHeight()}},isInValidVisitorName:function(e){return!(e=e||$Support.EmbedObj.visitorname)||e&&(0===e.lastIndexOf("Visitor ",0)||0===e.lastIndexOf("Guest",0))},handleInputChange:function(e,t){var i={val:t,name:e};this.handleCallbacks("custom.field",i)},handleCallbacks:function(e,t){if(e&&t){var i={};i[e]=t,$Support.getParent().$ZSIQWidget.handleCallBacks(i)}},handleGroupIcon:function(e){var t=e.participants;t&&1<getObjectSize(t)&&$UI.addGroupIcon()},IsMandatoryFieldsAvailable:function(){var e=$Support.EmbedObj,t=e.eprops,i=$Support.customobj,n=$Support.Util.isInValidVisitorName()&&JSON.parse(t.isname[0])&&JSON.parse(t.isname[1].ismandatory)||!e.visitoremail&&JSON.parse(t.isemail[0])&&JSON.parse(t.isemail[1].ismandatory)||!e.visitorphone&&JSON.parse(t.isphoneno[0])&&JSON.parse(t.isphoneno[1].ismandatory),a=!1;try{for(var r=0;r<i.length;r++){var o=i[r];if(""+o.required=="true"&&(!o.visibility||"offline"!=o.visibility))if(/^_default./.test(o.name)){var s=o.name.replace("_default.","");if(/^department$/.test(s))continue;if("name"==s&&JSON.parse(t.isname[0])&&$Support.Util.isInValidVisitorName()){a=!0;break}if("email"==s&&JSON.parse(t.isemail[0])&&!e.visitoremail){a=!0;break}if("phone"==s&&JSON.parse(t.isphoneno[0])&&!e.visitorphone){a=!0;break}}else if(!e.cinfo||!e.cinfo[o.name]){a=!0;break}}}catch(e){}return n||a},checkAndRemoveCustomField:function(e){var t=$Support.contentdiv;if($.isEmptyObject(e))t.find("div[custombx]").remove();else for(var i=0;i<e.length;i++)t.find("[customid='"+e[i]+"']").remove()},isApiWaitHandler:function(e){return isPostMessageSupported()&&$Support.isscript&&$Support.isapiwaitinghandler},setBrowserValues:function(){var e=$Support.EmbedObj.eparams,t=e.cpage||e.referrer;Browser.setReferer(e.referrer),Browser.setCurrentPage(t),Browser.setPageTitle(e.pagetitle)},handleDeptApiChange:function(t,i){if(null!=t&&-1!=t)if($.isArray(t)){$("#sqico-drpdwn").find("li").each(function(){var e=$(this);-1==$.inArray(e.attr("uniname"),t)&&$(this).hide()});var e=$("#sqico-drpdwn").find("li");e.sort(function(e,t){return i.indexOf($(t).attr("uniname"))<i.indexOf($(e).attr("uniname"))?1:-1}),$("#sqico-drpdwn").find("ul").empty().append(e)}else"online.department"===t&&$Support.EmbedObj.status&&$("#sqico-drpdwn").find("li").each(function(){var e=$(this);$(e).children("span").attr("status")===$Support.DEPT_OFFLINESTATUES&&$(this).hide()})},isCampaignEnabled:function(){try{var e,t=$Support.EmbedObj.integprops.integinfo;if(!t)return!1;for(var i in t){e=$Support.enabledCampaignID=i;break}if(e&&"0"==t[e].status)return!1;var n=t[e].listname;return n&&""!==n}catch(e){return!1}},hideFeedback:function(e){$Support.Util.isPreview()||($UI.hideMaskDiv(),$Support.container.find("footer .floatrg").remove(),$Support.isfeedbacksent=!0,$Support.isratingsent=!0,$Support.Util.handleFeedbackSubmit(),$("#sqico-send").parent().remove())},displayInfo:function(e){$UI.displayInfo(e)},hideInfo:function(){$UI.hideBanner()},showOfflineBanner:function(){var e=$Support.EmbedObj;if(!$Support.proactive&&-1===e.chatID&&!(e.status&&this.isOnline(e.department)||$Support.getCookieValue("ZLD"+e.livelsid+"OFFLINEBANNER"))){$UI.showBanner($Support.getOfflineMessage(),!0,null,3e3);setTimeout(function(){$Support.LSDB.set("ZLD"+e.livelsid+"OFFLINEBANNER",!0,31e4)})}},showOnlineBanner:function(){var e=$Support.EmbedObj;if(!$Support.proactive&&-1===e.chatID&&((e.status||this.isOnline(e.department))&&!$Support.getCookieValue("ZLD"+e.livelsid+"ONLINEBANNER"))){$UI.showBanner(LSResource.getRealValue("ne.onlinemsg"),!0,null,3e3);setTimeout(function(){$Support.LSDB.set("ZLD"+e.livelsid+"ONLINEBANNER",!0,31e4)})}},isOnline:function(e){if(""+e=="-1")return!0;for(var t=$Support.EmbedObj.deptlist,i=0;i<t.length;i++){var n=t[i];if(n.ID==e)return""+n.STATUS=="true"}},updateParentFontFamily:function(){var e=$Support.getParent().$ZSIQUtil.getWebFontFamily();$Support.font=e,$("html, body").css("font-family",e)},isSIQMobilePreview:function(){return $Support.Util.isPreview()&&"mobile"==parent._WIDGETPREV_MODE},isPreview:function(){return $Support.getParent().$ZSIQChat.isPreview()},isHandHeldDevice:function(){return!!$Support.Util.isSIQMobilePreview()||!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB10|IEMobile|Opera Mini/i.test(navigator.userAgent)},handleShowConversation:function(a,r){var o="";$Support.Util.updateViewAttribute("msgarea"),0<$Support.convlistcontainer.find("#pastchatconv").find(".siqc_cntbody").length?$Support.Util.showConversationListUI():(1==$Support.convlistcontainer.find("#currchatconv").find(".siqc_cntbody").length&&(o=$($Support.convlistcontainer.find("#currchatconv").find(".siqc_cntbody")[0]).attr("chid"),$Support.Util.showConversationListUI()),$Support.PopulateConversationList(function(e,t){if(e.length){var i="";if(e.forEach(function(e){o!=e.chid&&(e.question=getEscapedText(e.question),i+=$Temp.getConversationHistoryHTML(e))}),t?$Support.convlistcontainer.find("#pastchatconv").prepend($(i)):$Support.convlistcontainer.find("#pastchatconv").append(i),r||!a&&-1!=$Support.EmbedObj.chatID){var n=$Support.container.find("#showsiqconv");n.find("#siqnoticon").hide(),n.show()}else $Support.Util.showConversationListUI();$Support.Util.calculateContentHeight()}}))},hideConversation:function(){$Support.convlistcontainer.hide(),$Support.convtranscontainer.hide(),$Support.container.find("#showsiqchatui").hide()},showMessageAreaUI:function(e,t){(this.hideConversation(),"showsiqchatui"==e&&0==$Support.contentdiv.find("[custom=question]").length)&&($Support.checkAndShowUI(),delete(i=$Support.EmbedObj).VISITID,delete i.attender,delete i.attenderemail,delete i.attenderimagefkey,delete i.attendername,delete i.chatintime,delete i.isaudiocall,$Support.callquitstatus=void 0,$Support.Util.showMessageAreaUI());var i,n=(i=$Support.EmbedObj).visitorID,a=$Support.getCookieValue("ZLD"+i.livelsid),r=a&&a["aboutme_"+n]||i.attenderaboutme,o=a&&a["attname_"+n]||i.attendername;!o&&$Support.istrigmsg&&(o=$Support.EmbedObj.triggername),$Support.Util.updateViewAttribute("msgarea");var s=getEscapedText(o)||(i.status?LSResource.getRealValue("ne.chatwithus"):LSResource.getRealValue("ne.offlinemessage")),p=$("body"),d=p.find('[prop="header"]');p.find("#attname").text(s),r=o?r:"",p.find("#attabtme").text(r?CommonUtil.decodeHTML(r):""),p.find("#siqconvchaticon").remove();var l=$Support.getParent().$ZSIQUtil.getAPIValues(),c=JSON.parse(i.eprops.iclogo)?i.clogo:"";l.clogo&&(c=l.clogo);var u=$Support.isUserLogoEnabled()&&i.attenderimagefkey?$Support.Util.getPhotoURL():"";c=!(c=o?u:c)&&$Support.isBotChat?ZSIQTranscript.getImageURL({sender:i.attender}):c,d.find(".cmplogo").removeAttr("style"),p.find("#complogo").attr("src",c),d.find(".cmplogo").removeAttr("data-chttype"),$Support.isUserLogoEnabled()&&d.find(".cmplogo").attr("data-chttype","agent");var g=d.find('[prop="clogo"]'),m=o?"sqico-user":"sqico-chat";g.removeClass("sqico-chat sqico-user wincustom_bg").addClass(m),d.removeClass("nologo category siq-usr conv_headview"),c||(d.addClass("nologo"),g.addClass("wincustom_bg")),i.attendername&&!$Support.isBotChat&&d.addClass("conv_headview"),$Support.Util.reSetHeaderClass();var h=$Support.container.find("#showsiqconv");h.find("#siqnoticon").hide(),$Support.isShowConversationArrow()&&h.show(),$Support.contentdiv.show(),$Support.container.find("footer").show(),$Support.removeConversationPopupMessage(),$Support.applyOngoingChatClass("siqc_cntbody");var f=$Support.getUnreadCount(),v=$Support.contentdiv.find("#msgmaindiv");if(f){$Support.removeUnreadCookie(),$Support.getParent().$ZSIQWidgetUI.removeUnreadCount();var S=h.find(".siqc_prochtcls");0!=S.length&&S.remove(),v.length&&Message.scroll(v[0]),$Support.getComposer().focus()}var b=Object.keys(SUPPORT_REPS).length;v.length&&$Support.isChatExist()&&b&&!$Support.proactive&&!avimpl.hideCallIcon&&!$Support.isBotChat&&$Support.Util.toggleAudioCallIcon(!0),$Support.convongoingchatobj&&($Support.convongoingchatobj.find(".siqc_eletype").html("")[0].className=-1!=i.chatID||$Support.istrigmsg?"siqc_eletype sqico-chat2":"siqc_eletype"),t&&$("#msgarea").val(t),$Support.isFAQEnabled()&&($("#conv-tab").addClass("sel"),$("#faqtab").removeClass("sel")),$Support.Util.handleResize()},toggleAudioCallIcon:function(e){e?$("#audiocall").show().parent().addClass("rgt_ico"):$("#audiocall").hide().parent().removeClass("rgt_ico")},showConversationListUI:function(){var e=$Support.convlistcontainer.find("#convwtime");0!=e.length&&e.html(MyDate.timeDifference(e.attr("convmtime"))),$Support.convlistcontainer.find("#pastchatconv").find("[convmtime]").each(function(){var e=$(this),t=e.attr("convmtime");t&&e.html(MyDate.timeDifference(t))}),$Support.Util.toggleAudioCallIcon(),0<$Support.contentdiv.find("#edituserdetails").length&&($Support.contentdiv.find("#edituserdetails").remove(),$Support.enableTextarea($Support.getComposer())),$Support.convtranscontainer.hide(),$Support.isFAQEnabled()||$Support.container.find("footer").hide();var t=$Support.container.find("#showsiqconv");t.find("#siqnoticon").hide(),t.hide(),$Support.Util.updateViewAttribute("convlist");var i=$("body");i.find("#attname").text(LSResource.getRealValue("converation.withus")),i.find("#attabtme").text(""),i.find("#complogo").attr("src","");var n=i.find('[prop="header"]');n.find(".cmplogo").removeAttr("style"),n.addClass("nologo"),n.find(".cmplogo").attr("data-chttype","conv"),n.removeClass("siq-usr").removeClass("conv_headview"),n.find('[prop="clogo"]').removeClass("sqico-user wincustom_bg").addClass("sqico-chat wincustom_bg "),$Support.convlistcontainer.show(),this.showSiqChatUI(),$Support.Util.reSetHeaderClass()},showConversationTranscriptUI:function(e){$Support.Util.toggleAudioCallIcon(),$Support.convlistcontainer.hide(),$Support.isFAQEnabled()||$Support.container.find("footer").hide();var t=$Support.LSDB.get("ZLD"+$Support.getParent().$ZSIQChat.getWidgetData().widgetobj.lsid+"avuid"),i=$Support.LSDB.getFromSession(t+"_conversation"),n="",a="",r="";for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];if(s.visitorid!=e)continue;s.chid||s.attender?s.attender?(n=s.attender,r=s.attender_imgkey?$Support.isUserLogoEnabled(s)||s.isbotattender?_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+s.attender_imgkey+"/photo.ls?nocache=1":"":ZSIQTranscript.getImageURL(JSON.parse(s.lastmsg))):n=LSResource.getRealValue("conversation.missedchat"):n=LSResource.getRealValue("conversation.offlinechat"),s.designation&&(a=s.designation),s.isbotattender}$Support.Util.updateViewAttribute("convchat");var p=$("body");p.find("#attname").text(n),p.find("#attabtme").text(a),p.find("#siqconvchaticon").remove(),p.find("#complogo").attr("src",r);var d=p.find('[prop="header"]');d.removeClass("nologo").addClass("conv_headview"),d.find(".cmplogo").removeAttr("style");var l=d.find('[prop="clogo"]'),c=n?"sqico-user":"sqico-chat";l.removeClass("sqico-chat sqico-user wincustom_bg").addClass(c),d.find(".cmplogo").attr("data-chttype","agent"),r||(d.addClass("siq-usr").addClass("nologo"),l.addClass("wincustom_bg")),$Support.convtranscontainer.show(),this.showSiqChatUI();var u=$Support.container.find("#showsiqconv"),g=$Support.getUnreadCount(),m=u.find("#siqnoticon");g&&0==m.length&&u.prepend("<em id='siqnoticon' class='siqc_prochtcls' documentclick='showchatui'></em>"),u.find("#siqnoticon").show(),u.show(),$Support.Util.reSetHeaderClass()},showSiqChatUI:function(){var e=$Support.EmbedObj,t=$Support.isfeedback&&$Support.isfeedbacksent,i=$Support.israting&&$Support.isratingsent,n=!$Support.isfeedback&&!$Support.israting;$Support.contentdiv.hide(),$Support.isFAQEnabled()||$Support.container.find("footer").hide(),-1!=e.chatID||!(t||i||n||-1==$Support.EmbedObj.lchid)||$Support.proactive||$Support.istrigmsg||$Support.container.find("#showsiqchatui").show(),$Support.removeConversationPopupMessage(),$Support.Util.calculateContentHeight()},isAnnonUser:function(e){try{if(-1!=e.indexOf("$"))return!0}catch(e){}return!1},getFileClassType:function(e){var t="";return e?t=-1!=e.indexOf("image")?"sqico-camera":-1!=e.indexOf("audio")?"sqico-audio":-1!=e.indexOf("video")?"sqico-video":"sqico-file-min":t},hexToRGBA:function(e,t){return e+=4==e.length?e.slice(1,4):"","rgba("+parseInt(e.slice(1,3),16)+", "+parseInt(e.slice(3,5),16)+", "+parseInt(e.slice(5,7),16)+", "+(t||1)+")"},handleCompanyLogo:function(){var e=$("#complogo");e.on("load",function(){e.parent().removeClass("sqico-clogo")}),e.on("error",function(){""!=e.attr("src")&&($Support.isBotChat?e.attr("src",ZSIQTranscript.getImageURL({sender:$Support.EmbedObj.attender})):e.attr("src","").parent().addClass("sqico-clogo"))})},lastMessageTemplate:function(){if($Support.rating){var e=$Support.rating,t=e?'<div class="lstmsg_strs" id="feedback_res" documentclick="showChatFeedback"><span class="sqico-star" data-prop="rating">'+e+'</span><div class="rating"><span class="sqico-star siq-rating-icon" documentclick="rating"></span><span class="sqico-star siq-rating-icon" documentclick="rating"></span><span class="sqico-star siq-rating-icon" documentclick="rating"></span><span class="sqico-star siq-rating-icon" documentclick="rating"></span><span class="sqico-star siq-rating-icon" documentclick="rating"></span></div></div>':"";return'<div class="ziq_msg agntmsg siq-agntmsg fd_lastmsg" data-field="message"><div purpose="name" class="siq-user-name"></div><div class="msgbx"><span class="siq-user-message">'+LSResource.getRealValue("ne.rating.message")+"<br>"+LSResource.getRealValue("ne.rating.fbmessage")+"</span>"+t+"</div></div>"}},showChatFeedback:function(e){e.addClass("sel")},handleFeedbackSubmit:function(){var e=$("#feedback_res");if(0==e.length){var t=$Support.contentdiv.find("#msgdiv");Message.display(this.lastMessageTemplate()),ZSIQTranscript.setMessageClass();var i=t.find(".fd_lastmsg");i.hasClass("single_msg")&&i.find('[purpose="name"]').text($Support.EmbedObj.attendername),Message.scroll($("#msgmaindiv")[0]);var n=$("#feedback_res").find(".rating");n.find(".sel").removeClass("sel"),n.find("span:nth-child("+(6-$Support.rating)+")").addClass("sel")}else e.removeClass("sel").find('[data-prop="rating"]').text($Support.rating)},setMessageClass:function(e){var a=$Support.container.find(".ziq_msg:not(.siq_widget)");a.each(function(e){var t=$(this);t.removeClass("single_msg lst_msg");var i=$(a[e-1]),n=$(a[e+1]);!n.length&&!i.length||!n.length&&t.hasClass("agntmsg")&&i.hasClass("vismsg")||!n.length&&t.hasClass("vismsg")&&i.hasClass("agntmsg")||t.hasClass("agntmsg")&&n.hasClass("vismsg")&&i.hasClass("vismsg")||t.hasClass("vismsg")&&n.hasClass("agntmsg")&&(i.hasClass("agntmsg")||!i.length)?t.addClass("single_msg"):(!n.length||t.hasClass("agntmsg")&&n.hasClass("vismsg")||t.hasClass("vismsg")&&n.hasClass("agntmsg"))&&t.addClass("lst_msg")})},getTextColor:function(e){var t=this.getRGB(e);return 186<.299*t[0]+.587*t[1]+.114*t[2]?"#444":"#fff"},getRGB:function(e){return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16)]},calculateTextareaHeight:function(){if(!$Support.container.hasClass("outerwin")){var e=$Support.container,t=e.find(".msgarea");t.removeAttr("style");var i=e.find(".content"),n=t[0].scrollHeight+2,a=140<(n=n<70?70:n)?{height:"140px",overflow:"auto"}:{height:n+"px",overflow:"hidden"};if(t.css(a),!$Support.isNewHeader()){var r=$("#consentbannerdiv").length?$("#consentbannerdiv").height()+10:0,o=i.height()-i.find(".txtarewrap").height();i.find(".chtcont").css({height:o-r+"px"}),e.find(".dragmask").css({height:o+"px"})}}},calculateContentHeight:function(){if(!$Support.isNewHeader()){var e=$Support.container,t=2*parseInt(e.css("border-left-width")),i=e.outerHeight()-(e.find("header").outerHeight()+e.find("footer").outerHeight()+t);e.find(".siq_content").css({height:i})}},getImagePreviewHTML:function(e){var t=e.user_photo||"https://img.zohostatic.com/salesiq/Nov_07_2018_1_https/images/user/user_160-160.png";return'<div class="zsiq_prv_main zsiq_imgprv" id="zsiqimagepreview" zsiqclose="true" onclick="$ZSIQChatWindow.closeImagePreview(event)"><img src="'+e.url+'" zprv-prop="image" zsiqclose="true" /><div><img src="'+t+'" zprv-prop="userimage"/><div class="zsiq_prv_cmtmain"><p zprv-prop="userneme">'+getEncodedText(e.user)+'</p><div zprv-prop="comment">'+getEncodedText(e.comment)+'</div></div><a href="'+e.durl+'" zprv-prop="download"><em class="sqico-download"></em></a></div><em class="sqico-close" zsiqclose="true"></em></div>'},showImagePreview:function(e){var t=e.parents('[data-field="message"]'),i=t.hasClass("vismsg"),n=t.find("img").attr("src");if(n){var a=t.find("code").text(),r=t.find(".fdload").attr("href"),o=i?"":$Support.container.find("header img").attr("src"),s="";$Support.chatdiv.find(".siq-visitor-name").each(function(){if(s)return!1;s=$(this).text()});var p={url:n,comment:a,durl:r,user:s,user_photo:o},d=this.getImagePreviewHTML(p);$(window.parent.document).find("body").append(d)}},handleUpdateBTN:function(e){var t=$("#continue_btn"),i="true"==t.attr("data_isupdate"),n=i?"ne.update":"common.continue";e&&(n=i?"common.updating":"common.continuing"),t.text(LSResource.getRealValue(n))},handleAccordian:function(n){var a=$('[data-type="accordian-item"]').hide();$('[data-type="accordian-header"]').click(function(){var e=$(this),t=a.filter(":visible"),i=e.prev();if($('[data-type="accordian-header"]').find(".sqico-uarrow").removeClass("sqico-uarrow"),t.animate({height:"toggle",opacity:"toggle"},"500"),t[0]!=i[0])return"function"==typeof n&&n(e),e.find(".sqico-darrow").addClass("sqico-uarrow"),i.animate({height:"toggle",opacity:"toggle"},"500"),!1})},handleOnlineStatus:function(e,t){var i=$Support,n=i.EmbedObj;i.contentdiv||$UI.init(e),t&&!$Support.isOnlineChat()&&$UI.showBanner(LSResource.getRealValue("ne.onlinemsg"),!0,null),i.contentdiv.find("#msgarea").attr("dockeyup","textarea").val(null!=n.question?n.question:$("#msgarea").val()).parents(".msgbox").removeClass("posrel"),i.contentdiv.find("#msgarea").attr("dockeydown","textarea").attr("placeholder",LSResource.getRealValue("ne.message.hitenter")),$Support.isFAQEnabled()||$("footer").find(".floatrg").remove().end().append($Temp.getSendBtnHTML(LSResource.getRealValue("common.startchat"))),""!=i.contentdiv.find("#msgarea").val()&&$("footer").find("em#sqico-send").attr("documentclick","textarea"),i.Util.setTextareaHeight();var a=$Support.getParent().$ZSIQWidget.getWidgetObject();a.status=!0,a.onlysticker=!0,$Support.getParent().$ZSIQWidgetUI.drawWidget(a)},updateViewAttribute:function(e){$Support.isBotChat||$Support.isBotattendedchat;$("body").find('[prop="header"]').find(".cmplogo").attr("data-chttype","conv"),$Support.container.attr("cwview",e),"2"===$Support.container.attr("themeid")&&$("body").attr("cwview",e)},getFAQLabel:function(){var e="";if($Support.isFAQEnabled()&&(e=LSResource.getRealValue("faq.header.title"),$Support.EmbedObj.faqaccess)){var t=$Support.EmbedObj.faqaccess[1].label;""!==t&&(e=t)}return e},getChatConsentStatus:function(){var e=$Support.getParent().$ZSIQChat.getWidgetData().widgetobj,t=$Support.EmbedObj.pprops,i=$Support.LSDB.getFromSession(_SCREENNAME+"_gdpr_chatconsent");return!(!(1==e.isgdprenabled)||!JSON.parse(t.isgdprenabled)||1!=JSON.parse(t.chatprivacyconfig)||i)},getConversationSelect:function(e){for(var t="",i=e.options,n=e.type,a=0;a<i.length;a++){var r=i[a],o=r.text||r.value;t+='<span class="choose mB10" purpose="custom" val="'+o+'" prop="'+n+'" documentclick="chooseField">'+o+"</span>"}return'<div class="ziq_msg agntmsg siq-agntmsg single_msg"><div id="sel_msg" isrequired="'+e.required+'" class="sel_msg font14" data-type="type"></div><div class="options textL" id="conversationoption" data-type="'+e.type+'">'+t+"</div></div>"},chooseField:function(e,t){var i=$(t.target).attr("val"),n=$Support.EmbedObj,a=n.chatID;Message.animate(e.parents(".ziq_msg"),!0,function(e){if(e.remove(),-1==n.department||$Support.Util.IsMandatoryFieldsAvailable())return $Support.getComposer().val(i),$Support.EmbedObj.question=i,$Support.disableTextarea(),$UI.showUserEditUI(),void $Support.container.find('[documentclick="updateuserdetails"]').attr("callback","trigger");!$Support.isbottrigmsg||a&&"-1"!=a?Message.send(a,i):($Support.EmbedObj.question=i,ZSIQTranscript.updateTranscript({html:ZSIQTranscript.getTranscript({msg:i,sender:$Support.EmbedObj.vwmsid}),ispopulate:!0}),$Support.handleBotTriggerReply(i))})},getOfflineAPIConsent:function(e){var t=$Support.getParent().$ZSIQUtil.getAPIValues();if(t.textbannerobj&&t.textbannerobj.offline){var i=t.textbannerobj.offline;if(e=i.description&&0!=i.description.trim().length?i.description:e,i.policytextandlink){var n=i.policytextandlink,a=n.text&&0!=n.text.trim().length?n.text:"",r=n.link&&0!=n.link.trim().length&&$Support.getParent().$ZSIQUtil.isValidURL(n.link)?n.link:"";e=$Support.getParent().$ZSIQUtil.hyperLinksSubString(e,a,r)}}return e},getTypingHTML:function(){return'<div class="type-loadr textC"><span></span><span></span><span></span></div>'},setDStorageIframe:function(){var e=document.createElement("iframe"),t=_SCHEMA+"://"+_EMBEDSERVERURL+"/setdstorage.ls";e.id="dstorageframe",e.src=t,e.style.display="none",$Support.container.append(e)},isDragNotAllowed:function(){return!CommonUtil.isAllowFileSharing()||$Support.waitingtime||!$Support.isChatExist()},updateHeader:function(e){if(e){var t=e.dname||e.attendername;t=getEscapedText(t||"");var i=getEscapedText(e.aboutme||"");$("#attname").html(t),$("#attabtme").html(i)}},reSetHeaderClass:function(){$Support.container.find("header").removeClass("min_header").removeAttr("style"),$("#header_style").remove()},checkWindowVisibility:function(){if(parent.$ZSIQUtil.getCookieValue("dragpos")){var e=$(window.parent.document).find("body"),t=e.find(".siqembed"),i=t.offset();(i.left+t.width()>e.width()||i.top+t.height()>e.height())&&(t.css({left:"auto",right:"15px",top:"auto",bottom:"15px"}),parent.$ZSIQUtil.storeCookieVal("dragpos","",!0))}}};$(document).on("click","[documentclick]",function(n){try{var o=$(this);({sendCallRating:function(){$Support.Util.isPreview()||($(".sqico-star").removeClass("sel"),o.addClass("sel"),$("#msgarea").focus(),this.feedbacksent||$Support.setRating(o))},sendCallFb:function(){$Support.sendFeedback()},moreaction:function(){$Support.Util.showMoreAction(o,n)},sendmail:function(){$UI.populateSendMail(o,n)},smiley:function(){$UI.populateSmiley(o)},userdetails:function(){$UI.showUserEditUI(!0,!0)},hideuserdetails:function(){$UI.hideUserEditUI(),$Support.hideBotEditUICB()},updateuserdetails:function(){$Support.checkAndUpdateInfo(o)},triggermsg:function(){$Support.startTriggerChat()},min_iframe:function(){$Support.Util.minimizeEmbed()},max_iframe:function(){$Support.Util.maximizeEmbed()},close_iframe:function(){$Support.Util.closeEmbed()},chatend:function(){$Support.quitChat()},triggermail:function(){$Support.sendMail()},triggermailconfirm:function(){$Support.sendMailConfirm(o)},updatetranslatecookie:function(){$Support.updateTranslateCookie()},rating:function(){$Support.Util.handleRating(o)},showChatFeedback:function(){$Support.Util.showChatFeedback(o)},printfile:function(){$Support.printPreview()},toggleaudio:function(){$Support.Util.toggleAudio(o)},captcha:function(){$Support.Util.handleCaptcha()},restartchat:function(){$Support.restartchat()},imgupload:function(){PasteImage.uploadImage($Support.container)},imgcancel:function(){$Support.Util.hidePasteUI()},accepturl:function(){$Support.Util.openPushPage(o.attr("url"))},sendmessage:function(){$Support.triggerSendMessage()},textarea:function(){$Support.Util.handleStartChat(function(){$Support.startChat(o)})},missedleavemsg:function(){$Support.Util.handleStartChat(function(){$Support.missedLeaveMsg()})},leavemessage:function(){$Support.Util.handleStartChat(function(){$Support.handleLeaveMessage()})},feedback:function(){$Support.sendFeedback()},hideprogress:function(){$UI.hideUploadProgress(o.attr("msgid"))},hidefeedback:function(){$Support.Util.hideFeedback(o)},openmeeting:function(){$Support.handleMeetingJoinCB()},sharedesktop:function(){$Support.shareDesktop(o)},sharescreen:function(){avimpl.shareScreen()},resendmsg:function(){LSMessanger.resendMessages(RESEND_MANUAL)},showconvlist:function(){var e=n.target;if($(e).parents("header").hasClass("category"))$FAQ.showFAQUI(o);else if("siqnoticon"!=e.id){var t=n.hasOwnProperty("originalEvent");$Support.Util.handleShowConversation(t)}},showchatui:function(){var e=n.target.id;"removeconvpopup"==n.target.id||$(n.target).is("a")||$Support.Util.showMessageAreaUI(e)},fetchconvtranscript:function(){"showsiqchatui"!=n.target.id&&$Support.getConversationChatTranscript(o.attr("chid"),o.attr("visitorid"))},removeconvpopupmsg:function(){$Support.removeConversationPopupMessage()},toggleMadatoryField:function(){$CWPreview.toggleMadatoryField(o)},triggerDeleteEMField:function(){$CWPreview.triggerDeleteEMField(o)},newsletter:function(){$Support.handleNewsLetter()},transferchat:function(){$Support.transferChat()},removetransfer:function(){$UI.removeTransferDiv(o),$Support.storeHideTransfer()},transfermissed:function(){$Support.handleTransferMissed(o)},hidetransferoption:function(){$Support.hideTransferOption(),$Support.storeHideTransfer()},audiocall:function(){avimpl.startCall()},imagepreview:function(){$Support.Util.showImagePreview(o)},showfaq:function(){$FAQ.showFAQUI(o)},faqcategory:function(){$FAQ.showCategory(o),n.stopPropagation()},faqsearch:function(){$FAQ.handleSearch(o)},openmapfromimage:function(){ZMaps.openMapsFromImage(n)},showconversation:function(){$Support.Util.isPreview()||(o.addClass("sel").next(".sel").removeClass("sel"),$("#conv-tab").removeClass("count").find(".siqc_eletype").hide(),!$Support.getConversationData()||-1!==$Support.EmbedObj.chatID||$Support.istrigmsg?($Support.Util.showMessageAreaUI(),$Support.Util.calculateTextareaHeight()):$Support.Util.showConversationListUI(o))},faqpreview:function(){$FAQ.showFAQPreview(o)},extendview:function(){$FAQ.showAllArticlesInCategory(o)},chooseField:function(){$Support.Util.chooseField(o,n)}})[o.attr("documentclick")]()}catch(e){}});var isComposing=!1,hasCompositionJustEnded=!1,brow_lang=$Support.getParent().$ZSIQUtil.getBrowserLanguage();$(document).on("keydown","[dockeydown]",function(e){var t=$(this),n=t.attr("dockeydown"),o=$Support.Util.getKeyCode(e);if(229==o)return!1;hasCompositionJustEnded=!1,27==o&&$Clickoutside.handleEscape(e),{textarea:function(){$Support.Util.handleKeyDown(t,o,e)},captcha:function(){13==o&&($Support.addVisitor(),e.preventDefault())},pasteimage:function(){27==o&&($Support.Util.hidePasteUI(),e.preventDefault())},dropdown:function(){$Support.Util.handleDrpdwnEvent(t,o,e)},triggermail:function(){$Support.Util.sendMail(e)},removeError:function(){t.removeClass("errfield")},searchfaq:function(){27==o&&t.parent().find(".sqico-close").trigger("click")}}[n]()}).on("compositionstart",function(e){isComposing=!0,$Support.toggleSendButton()}).on("compositionend",function(e){hasCompositionJustEnded=!(isComposing=!1)}),$(document).on("keyup","[dockeyup]",function(e){var t=$Support.Util.getKeyCode(e);if(brow_lang&&"en"==brow_lang||!isComposing&&!hasCompositionJustEnded||(hasCompositionJustEnded=!1,"13"!=t)){var n=$(this);({textarea:function(){$Support.Util.handleTextareaEnter(n,t,e,function(){$Support.startChat(n)})},sendmessage:function(){$Support.handleSendMessage(n,t,e)},leavemessage:function(){$Support.Util.handleTextareaEnter(n,t,e,function(){$Support.handleLeaveMessage(n)},!0)},triggermsg:function(){$Support.handleTriggerMsg(n,t,e)},missedleavemsg:function(){$Support.Util.handleTextareaEnter(n,t,e,function(){$Support.missedLeaveMsg(n)},!0)},feedback:function(){CallImpl.isCallWithChat?$Support.Util.handleCallFdbEnter(n,t,e):$Support.Util.handleFeedback(n,t,e)},triggermail:function(){$Support.Util.handleSendMail(n,t,e)},handlepasteimage:function(){PasteImage.handlepasteimage(n)},searchfaq:function(){$FAQ.searchFAQ(n,e)}})[n.attr("dockeyup")]()}}),$(document).mousedown($Support.Util.triggerAdditionalFileDownload),$(document).on("blur","[docblur]",function(e){var t=$(this);({email:function(){$Support.Util.validateFields(t.parent())},custominput:function(){$Support.Util.handleInputChange(t.attr("id"),t.val())},required:function(){$Support.Util.validateFields(t.parent())}})[t.attr("docblur")]()}),$(document).on("keydown",function(e){27==$Support.Util.getKeyCode(e)&&($Clickoutside.handleEscape(e),CommonUtil.handleEscape(e))}),$(document).on("keyup",function(e){var t=$(e.target);t.filter("[data-validate*='required']").length&&(""===$.trim(t.val())?t.next().addClass("req"):t.next().removeClass("req"))}),$(document).on("focusin",function(e){KeyHandler.winfocus=!0,$Support.iswindowfocused=!0,Message.stopBlinking()}),$(document).on("focusout",function(e){KeyHandler.winfocus=!1,$Support.iswindowfocused=!1});var wheel=void 0!==window.onwheel?"wheel":"mousewheel";function bindDragDropEvents(){CommonUtil.isAllowFileSharing()&&(jQuery.event.props.push("dataTransfer"),$Support.container.on({dragover:function(e){"slider"!==e.srcElement.getAttribute("data-type")&&(e.preventDefault(),$UI.showDragDropUI())},drop:function(e){e.preventDefault(),$Support.Util.handleDropEvent($Support.EmbedObj.chatID,e),$UI.hideDragDrop()},dragleave:function(e){$UI.hideDragDrop()}}))}function handlePaste(){CommonUtil.isAllowPasteImage()&&$("#msgarea").on("paste",function(e){PasteImage.onPaste(e,this),e.stopImmediatePropagation()})}function handleDrag(){if(!$Support.isMobileWidth()){var t=$("header"),n=0,o=0,i=0,a=0;t.on("mousedown.drag",function(e){"INPUT"!==e.target.tagName&&(i=e.pageX,a=e.pageY,t.on("mousemove.drag",function(e){n=e.pageX,o=e.pageY,parent.$ZSIQChatWindow.handleDrag(i-n+"#"+(a-o)),e.stopImmediatePropagation()}),e.preventDefault(),t.on("mouseup.drag",function(e){r(e)}).on("mouseleave.drag",function(e){r(e)}))})}function r(e){parent.$ZSIQChatWindow.cacheChatDivPosition(),t.off("mousemove.drag mouseleave.drag"),e.stopImmediatePropagation()}}$(document).on(wheel,"[docwheel]",function(e){var t=$(this);({handlescroll:function(){scrollHandler.init(t,e)}})[t.attr("docwheel")]()}),$(window).resize(function(){$Support.Util.handleResize(),$Support.Util.checkWindowVisibility()}),$(document).on("keypress","[onenter]",function(e){if("13"==(e.keyCode?e.keyCode:e.which)){var t=$(this);({updateuserdetails:function(){$Support.checkAndUpdateInfo(t.parents(".editfields").find('[documentclick="updateuserdetails"]'))}})[t.attr("onenter")]()}}),KeyHandler={isWindowFocused:function(){return KeyHandler.winfocus}};$ThemeHandler={},$ThemeHandler.theme={updateContainer:function(){$(".siqembed").remove(),$("body").append($Temp.getCloseWindowHTML()).append($Support.container=$($Temp.getContainerHTML()))},updateHeader:function(e){$Support.container.prepend($Temp.getHeaderHTML(e)),handleDrag(),$("#zsiq_customcss").remove(),$("body").append(this.getCustomColor()),$Support.Util.handleCompanyLogo()},updateInnerHeader:function(e){var t=$Support.container.find("header");$Support.container.removeClass("outerwin"),t.length?this.animateHeader(e):this.updateHeader(e)},updateBody:function(e,t){$Support.container.append($Support.contentdiv=$($Temp.getBodyHTML(e,t))).append($Support.convlistcontainer=$($Temp.getConversationContainerHTML())).append($Support.convtranscontainer=$($Temp.getConversationTranscriptContainerHTML())),$Support.bindScrollForConversationListContainer()},updateInnerBody:function(){$Support.container.append($Support.contentdiv=$($Temp.getChatAreaHTML())).append($Support.convlistcontainer=$($Temp.getConversationContainerHTML())).append($Support.convtranscontainer=$($Temp.getConversationTranscriptContainerHTML())),$Support.chatdiv=$("#msgdiv"),$Support.chatmaindiv=$("#msgmaindiv"),$Support.composer=$("#msgarea"),handlePaste(),$Support.bindScrollForConversationListContainer()},updateFooter:function(){$Support.container.find("footer").remove().end().append($Temp.getFooterHTML()),$Support.isConversationUIFocussed()&&!$Support.isFAQEnabled()&&$Support.container.find("footer").hide(),$Support.container.append($Temp.getConversationCreateChatIConHTML()),this.populateSendBtn(),$Support.Util.handleResize(),$Support.Util.isCampaignEnabled()&&($Support.subscribe=!1,$("#newsletter").on("change",function(){$Support.subscribe=$(this).is(":checked")}));var e=$("#chatconsent");$Support.Util.getChatConsentStatus()&&1==e.length&&$("#chatconsent").on("change",function(){1==$(this).is(":checked")?$Support.toggleSendButton($Support.getComposer()):$Support.Util.removeSendClickAction()})},updateDeptDropdown:function(){$("#sqico-drpdwn").dropdown({options:$Support.getEmbedDepartments(),purpose:"department",defaultval:LSResource.getRealValue("ne.chosedepartment")})},animateHeader:function(e){var t=$Support.container.find("header");e.attendername&&(t.find("#attname").html(getEscapedText(e.attendername)),t.find(".cmpylogo").removeClass("sqico-chat").addClass("sqico-user"));var n=e.aboutme||"",o=n?"":"noaboutme";t.find("#attabtme").html(getEscapedText(n)),t.removeClass("noaboutme").addClass(o);var i=$Support.isUserLogoEnabled();e.image_fkey&&i?(t.removeClass("nologo"),t.find(".cmplogo").removeAttr("style").find("#complogo").attr("src",$Support.Util.getPhotoURL())):(e.chid||!i&&e.attendername)&&(t.removeClass("nologo").addClass("nologo"),t.find(".cmplogo").removeAttr("style").find("#complogo").removeAttr("src")),i&&e.attendername?t.find(".cmplogo").attr("data-chttype","agent"):t.find(".cmplogo").removeAttr("data-chttype")},showBanner:function(e,t,n,o,i,r){if(0!=e.length){var a=$Support.contentdiv,s=!1;a.find("#info_banr").length||(s=!0,a.prepend($Temp.getBannerHTML(e,t,i,r)),e=""),$Support.Util.showInfoBanner(e,t,s,n,o)}},hideBanner:function(e){$Support.contentdiv.find("#info_banr").slideUp(500,function(){$(this).remove(),"function"==typeof e&&e()})},showTimerBanner:function(e){clearTimeout($Support.Util.bnrtimer),$Support.contentdiv.append($Temp.getTimerBannerHTML(e))},populateSendMail:function(e){var t=this,n=$Support.contentdiv,o=n.find(".txtarewrap");o=o.length?o:n.find(".chtlnks");var i=n.find("#smailbx");i.length||o.before(i=$($Temp.getSendMailHTML()));var r=$Support.EmbedObj.visitoremail||"";i.find("input").val(r),$Clickoutside.bindclick(function(){t.hideUtilityDiv(i)},"smailbx",e.attr("id"))},populateSendMailConfirm:function(e,t){var n=this,o=$Support.contentdiv,i=!1,r=o.find(".usrinpt"),a=o.find(".infomsg.chtend");(r=r.length?r:a).hasClass("chtend")&&(r.hide(),i=!0);var s=o.find("#consentbannerdiv");"gtranslateconsent"==s.attr("cattr")&&(s.remove(),$Support.Util.calculateTextareaHeight(),s=o.find("#consentbannerdiv")),s.length||r.before(s=$($Temp.getSendMailConfimHTML(e,t))),$Support.Util.calculateTextareaHeight(),$Clickoutside.bindclick(function(){n.hideUtilityDiv(s,!0,i)},"consentbannerdiv","smailbx")},populateSmiley:function(e){Smiley.showSmileyList()},hideUtilityDiv:function(e,t,n){e.animate({bottom:"-60px",opacity:"0"},400,function(){(e.remove(),t&&!n&&$Support.Util.calculateTextareaHeight(),n)&&$Support.contentdiv.find(".infomsg.chtend").show()})},animateUtilityDiv:function(e){e.animate({bottom:"82%",opacity:"1"},400,function(){e.find("input").focus()})},showUserEditUI:function(e,t){var n=$Support.contentdiv.find(".editfields");n.length&&!n.hasClass("hidemaskanim")||($Support.contentdiv.find(".maskdiv").remove().end().prepend($Temp.getUserEditHTML(e)),-1==$Support.EmbedObj.department&&$UI.populateDropDown(),t||$Support.Util.handleCustomHTML(!0),$Support.Util.calculateTextareaHeight())},hideUserEditUI:function(){$Support.enableTextarea(),$UI.hideMaskDiv()},showWaitingUI:function(e){$Support.Util.removeSendClickAction(),this.showChatArea(e)},hideMaskDiv:function(){var e=$Support.contentdiv.find(".maskdiv").addClass("hidemaskanim");$Support.Util.removeDiv(e),$Support.contentdiv.removeClass("siq_popup")},showCaptcha:function(e){if(null!=CommonUtil.getCaptcha(e)){var t=$Support.contentdiv,n=$Temp.getCaptchaHTML(e),o=t.find(".maskdiv");o.length?o.html(n):t.prepend('<div class="maskdiv captcha">'+n+"</div>")}},hideCaptcha:function(){var e=$Support.contentdiv.find(".captcha").addClass("hidemaskanim");$Support.Util.removeDiv(e)},showChatArea:function(e){var t=$Support,n=t.container,o=t.EmbedObj,i=n.find("#msgdiv").find(".siq-user-message");if(0!=i.length&&-1===o.chatID&&t.istrigmsg){var r=i.html();r&&(o.pmsg=r+"<br>"+o.pmsg)}t.contentdiv.replaceWith(t.contentdiv=$($Temp.getChatAreaHTML())),t.chatdiv=$("#msgdiv"),t.chatmaindiv=$("#msgmaindiv"),t.composer=t.contentdiv.find("#msgarea"),t.chatWindowUICallBk(),t.Util.handleResize(),t.contentdiv=t.container.find(".content");var a=$Support.getBroadcastText();a?$UI.showBanner(DynamicMsg.fillValues(a)):e||($UI.showWaitingDialog(),t.container.find(".content").hide().fadeIn(1e3))},showWaitingDialog:function(){if(!(!$Support.waitingtime||0<$("#wait_div").length||$Support.isBotChat||$Support.proactive&&-1!=$Support.EmbedObj.chatID))return clearTimeout($Support.Util.bnrtimer),{text:function(){$Support.contentdiv.prepend($Temp.getWaitingTextHTML()),$UI.wait_div=$("#wait_div")},video:function(){$(".content").prepend($Temp.getWaitingTextHTML()).animate({top:"auto"},400)}}[$Support.EmbedObj.waitaction]()},populateCWaitHandler:function(){var e=$Support.contentdiv;if($Support.cwaitmsg){var t=e.find("#cwaitmsg");if(t.length)return void t.html($Support.cwaitmsg);e.find("#info_banr").after($Temp.getWaitHandlerHTML())}},removeCWaitHandler:function(){$("#cwaitmsg").remove()},populateVisitorQuestion:function(){var e=$Support.EmbedObj,t=e.visitorname,n=e.question;if(n||$Support.getTriggerCookie()){var o=e.vwmsid;($Support.istrigmsg||$Support.proactive)&&(t=e.triggername,n=e.pmsg,o=-1);var i={sender:o,dname:t,msg:getEscapedText(n),isques:e.question};$BotImpl.formatAndDisplay(i),Message.presender=o}},getInfoMsgHTML:function(e,t){return $Temp.getInfoHTML(e,t)},populateUserAction:function(){var e=$Support.contentdiv;$Support.EmbedObj;$UI.setSoundConfig(),e.find(".usractions").remove().end().find(".usrinpt").prepend($Temp.getUserActionsHTML());var t=e.find("#mraction li");t.length?1===t.length&&e.find("#moreaction").removeAttr("title").attr({documentclick:t.attr("documentclick"),class:t.attr("class")}).html(t.children()):e.find("#moreaction").hide(),this.populateSendBtn(LSResource.getRealValue("ne.send")),$Support.Util.handleUnmute()},removeUserActions:function(){$Support.contentdiv.find(".usractions").remove().end()},getSoundHTML:function(e){var t=$Temp.getSoundHTML();return e&&(t=t.replace(/<li /g,"<span ").replace(/<\/li>/g,"</span>"),t=$(t).empty()),t},populateIcon:function(){$UI.removeSmileyIcon(),$Support.contentdiv.find("#smilelist").after($Temp.getIconHTML())},removeSmileyIcon:function(){$Support.contentdiv.find("#smiley").remove(),$("#action_icons").remove()},populateSendBtn:function(e){$Support.isFAQEnabled()||$("footer").find(".floatrg").remove().end().append($Temp.getSendBtnHTML(e))},handleOfflineStatus:function(e,t){var n=$Support,o=n.EmbedObj;n.contentdiv||$UI.init(e),t&&$Support.isOnlineChat()&&($UI.showBanner(n.getOfflineMessage(),!0,null),$("#msgarea").attr("placeholder",$Support.isFAQEnabled()?LSResource.getRealValue("ne.message.clicksubmit.icon"):LSResource.getRealValue("ne.message.clicksubmit")),$Support.isFAQEnabled()&&$("#msgarea").after($Temp.getSendIcon(!0))),n.contentdiv.find("#msgarea").attr("dockeyup","leavemessage").val(null!=o.question?o.question:$("#msgarea").val()).parents(".msgbox").addClass("posrel"),n.contentdiv.find("#msgarea").removeAttr("dockeydown"),this.populateSendBtn(LSResource.getRealValue("ne.submit")),""!=n.contentdiv.find("#msgarea").val()&&$("footer").find("em#sqico-send").attr("documentclick","leavemessage"),n.Util.setTextareaHeight()},handleMissedStatus:function(e,t){var n=$Support,o=n.composer||$("#msgdiv");o.removeAttr("disabled").attr("placeholder",$Support.isFAQEnabled()?LSResource.getRealValue("ne.missed.placeholder.icon"):LSResource.getRealValue("ne.missed.placeholder")),o.removeAttr("dockeydown"),t||(e?$UI.showBanner(LSResource.getRealValue("ne.offlinemsg")):$UI.showBanner(DynamicMsg.fillValues(getUnescapedText(n.EmbedObj.missedmessage)))),this.removeUserActions(),n.contentdiv.addClass("missed").find("#msgarea").attr("dockeyup","missedleavemsg"),this.populateSendBtn(LSResource.getRealValue("ne.submit")),$UI.updateCloseIcon()},populateFeedbackHTML:function(e){var t=$Support.contentdiv;t.find(".sqico-edit").remove();var n=JSON.parse($Support.EmbedObj.eprops.feedback[0]),o=$Support.israting,i=$Support.isfeedback;if(!(n||o||i)||0==o&&0==i)this.emptyFeedback();else{0==i&&($Support.isfeedbacksent=!0),$Support.contentdiv.removeClass("siq_popup").addClass("siq_popup");var r=!1===$Support.israting?$Temp.getFeedbackOnlyHTML():$Temp.getFeedbackHTML(!i);t.find(".maskdiv").remove().end().prepend(r),this.emptyFeedback(),i&&this.handleFeedbackBtn()}},handleFeedbackBtn:function(){this.populateSendBtn(LSResource.getRealValue("ne.submit")),$("footer #sqico-send").before('<em documentclick="hidefeedback" class="hidemask">'+LSResource.getRealValue("common.cancel")+"</em>")},emptyFeedback:function(){var e=$Support.contentdiv;e.find("div.usrinpt").remove(),$("footer #sqico-send").remove(),e.addClass("nofdbk"),$("#fdbkarea + .sqico-send").hide()},updateCloseIcon:function(){$Support.container.find(".sqico-min").replaceWith($Temp.getCloseHTML())},showFdbkResponse:function(){var e=document.getElementById("msgmaindiv");if(Message.scroll(e),$Support.isfeedback){var t=$Support.EmbedObj.feedbackcomplete||LSResource.getRealValue("visitorchat.feedback.submit");$UI.showBanner(t,"psabs",!0)}this.feedbackAck()},feedbackAck:function(){$Support.Util.hideFeedback(),$Support.chatmaindiv.addClass("fdbalone"),$("#msgmaindiv").find('.vismsg [purpose="name"]').removeAttr("documentclick")},getInfoMsgContent:function(e,t,n){var o=Message.getInfoHTML(e,t,n);return o?this.getInfoMsgHTML(o):""},showDragDropUI:function(){$Support.Util.isDragNotAllowed()||(this.hideDragDrop(),$Support.contentdiv.prepend($Temp.getDragDropHTML()))},hideDragDrop:function(){$Support.Util.isDragNotAllowed()||$Support.contentdiv.find("#dragmask").remove()},getPreviewHTML:function(){return $Temp.getPreviewHTML()},notifyShareURL:function(e){var t={documentclick:"accepturl",attr:"url",value:e.msg};$UI.showBanner($Temp.getShareURLHTML(e),!1,null,null,!0,t)},displayInfo:function(e){$UI.showBanner(e)},getCustomHTML:function(e){var t=e.type||"text";return/^(number|text|email|url|percentage|decimal)$/.exec(t)?$Temp.getCInputHTML(e):{checkbox:function(){return $Temp.getCCheckBxHTML(e)},radio:function(){return $Temp.getCRadioHTML(e)},selectbox:function(){return $Temp.getCDropDwnHTML(e)},textarea:function(){return $Temp.getCTextareaHTML(e)},label:function(){return $Temp.getCLabelHTML(e)}}[t]()||""},showUploadProgress:function(t){var n=$Support.EmbedObj,o=t.fileobj,i=t.msgid,r=o.name||t.filename,e=$('span[msgid="'+i+'"]'),a=n.vwmsid;if(this["fileprg"+i]||e.length){var s=t.prgval,p=parseInt(s.loaded/s.total*100),d=e.find(".file_prgs"),c=p/100*360;180<c&&d.addClass("gt50"),e.find(".size").html(getMemSize(s.loaded)+" of "+getMemSize(s.total)+" ("+p+"%)"),d.find(".pie:first-child").css({transform:"rotate("+c+"deg)","-webkit-transform":"rotate("+c+"deg)","-moz-transform":"rotate("+c+"deg)"})}else this["fileprg"+i]=!0,$Support.Util.getFileURL(o,function(e){ZSIQTranscript.updateTranscript({html:ZSIQTranscript.getTranscript({sender:a,dname:n.visitorname,msg:{content:o.type},file:{size:o.size,purl:e,fName:r,progress:!0,msgid:i,comment:t.comment},previoussender:Message.presender&&Message.presender===a}),ispopulate:!0})})},hideUploadProgress:function(e){var t=$('span[msgid="'+e+'"]');t.find(".file_prgs").removeClass("gt50"),t.removeClass("fprgs");var n=t.find(".size");n.html(n.attr("size")),delete this["fileprg"+e]},updateParentFontFamily:function(){$Support.Util.updateParentFontFamily()},updateQuesArea:function(){this.populateSendBtn(),$Support.contentdiv.find(".msgbox").html($Temp.getQuesAreaHTML()),$Support.composer=$("#msgarea")},updateChatEndMsg:function(){$Support.chatmaindiv.addClass("chtcomp").after($Temp.getChatEndHTML())},updateVisitorName:function(e){var t=getEscapedText(e.name);t&&$Support.contentdiv.find('.vismsg div[purpose="name"]').html(t+'<em class="sqico-edit" documentclick="userdetails" title="'+LSResource.getRealValue("ne.title.edit")+'"></em>')},getBusinessHrInfo:function(){var e=$Support.EmbedObj;if(!e.bushrstatus)return"";var t=LSResource.getRealValue("ne.offlinemsg"),n=e.bushrtiming;if(!n)return t;var o;for(var i in n){var r=n[i];r.length&&(isUndefined(o)&&(o=i),n[o][0]!==r[0]&&!1)}return $Temp.getBusnsInfoHTML(n[o][0])},setSoundConfig:function(){var e=$Support.EmbedObj,t=$Support.getCookieValue(e.chatID+"_sound");e.setSoundConfig(t)},addGroupIcon:function(){$Support.container.find("#complogo").after($Temp.getGroupIconHTML())},removeGroupIcon:function(){$Support.container.find("#complogo").next(".sqico-grpico").remove()},getCustomColor:function(){if(4==$Support.getThemeID())return"";var e=$Support.EmbedObj.eprops.color[1].code,t=$Support.Util.getTextColor(e),n=$Support.Util.getRGB(e),o="";if("#0091ff"!=e){var i=n[0]+", "+n[1]+", "+n[2];o='header, .win_close, .siqc_edt, [themeid="9"] header:after, [themeid="10"] header:after { background-image : linear-gradient( 360deg, rgb( '+i+" ) 0%, rgba( "+i+", 0.9 ) 100%) !important}"}return'<style id="zsiq_customcss">.siqc_prochtcls:before, .vismsg .msgbx, .smile_list .siqsmile_li:hover, .smile_list .siqsmile_li.sel,#conv-tab.count .siqc_eletype , .gltr-srno:not(.gltr-no), .gltr-done div,.cmpnt-ftr .sqico-tick,.range-point.sel .range-dot,.range-handle, .range-handle1,.range-val,.cmpnt-optn-list div:hover .cmpnt-mul-optn:not(.sqico-tick), .siqc_usrimg img[src=""] + .convrstn-usr, div#conv-tab.count:after {background-color: '+e+' !important;}.wincustom_clr, .sqico-chat2:before, .lstmsg_strs .sqico-star,.infomsg span:before,.infomsg span, .artcle-viewal, textarea + .sqico-send[documentclick]::before, .sqico-send[documentclick]::before, .sqico-send[documentclick], .cmpnt-optn-list div:hover, .cmpnt-optn-list .sel, .cmpnt-btnurl:not(.cmpnt-cal-time):hover,.cmpnt-cal-time em:hover,.sel .sqico-tick:before, .cmpnt-btnurl:not(.cmpnt-cal-time):hover *,.cmpnt-ftr #range-display,.range-value,.cmpnt-rtng:hover [class*="sqico-"]::before,.siq-user-message + .cmpnt-rtng .sqico-like:before, .siq-user-message + .cmpnt-rtng .sqico-dislike:before,.cmpnt-body-cont .sqico-star:hover:before, .cmpnt-body-cont .sqico-star:hover ~ div:before,.cmpnt-btnurl:before, .cmpnt-skip:hover,.cmpnt-skip:hover .sqico-skip:before,.cmpnt-nxtprev em,.choose:hover,.msgbx > .sqico-star:before,.cmpnt-art-list p,.cmpnt-cusclr, #action_icons span:hover:before, .chtend a, .chtend a:before, footer .sel span, footer .sel:before, .faqdiv > div.sel, .sqico-smail:hover::before, .faq-srch .sqico-close:before { color:'+e+" !important; }.vismsg .msgbx span:FIRST-CHILD, .content .vismsg .time, .siqc_hstrycht .vismsg .time, .vismsg .msgbx *, .vismsg .sqico-close:BEFORE, .smile_list .siqsmile_li:hover, .smile_list .siqsmile_li.sel, .gltr-srno:not(.gltr-no), .zsiq_transferdiv .bot_opt.gltr-srno:not(.gltr-no){ color: "+t+" !important;}.msgbx a{ border-bottom-color: "+t+"}.file_prgs > .pie,.range-handle, .range-handle1,.cmpnt-art-list:hover p { border-color: "+e+"}"+o+"</style>"},getHeader:function(){return $Support.container.find("header")},getTranslateBannerHTML:function(e,t){return $Temp.getTranslateBannerHTML(e,t)},checkAboutmeClass:function(){var e=$("#attabtme");e.removeClass("empty_abtme"),e.text()||e.addClass("empty_abtme")}};var scrollHandler=function(){var r,a,s={},p=0,d={8:{min:85,max:120},9:{min:93,max:140},10:{min:87,max:110}},c={bottom:30,skew:9},o=function(e,t){var n=t.originalEvent.deltaY||-1*t.originalEvent.wheelDelta,o=s.header.height(),i=o-n;clearTimeout(p),o<i&&0!=e.scrollTop()||(m(i=a<(i=i<r?r:i)?a:i),l(n),p=setTimeout(function(){i!=r&&i!=a&&(m(i=a/100*r<i?a:r,!0),$("#header_style").remove())},300))},m=function(e,t){var n=t?100:0;s.header.animate({height:e+"px"},n).removeClass("min_header"),e==r&&s.header.addClass("min_header")},l=function(e){if(9==s.theme){var t=e/(d[9].max-d[9].min)*100,n=c.bottom+-t/100*20,o=c.skew+-t/100*6;c.skew=0<e?(c.bottom=n<10?10:n,o<3?3:o):(c.bottom=30<n?30:n,9<o?9:o),$("#header_style").remove();var i="transform: skewY("+c.skew+"deg) !important;";$("body").append('<style id="header_style">[themeid="9"] header:after { bottom: '+c.bottom+"px !important; "+i+" -webkit-"+i+" -moz-"+i+" -o-"+i+" -ms-"+i+" }</style>")}};return{init:function(e,t){if(-1==[4].indexOf($Support.getThemeID())){if(!s.size){var n=d[$Support.getThemeID()];s.header=$Support.container.find("header"),s.size=getObjectSize(s),s.theme=$Support.getThemeID(),r=n.min,a=n.max}s.event=t,o(e,t),$TH.checkAboutmeClass()}}}}();!function(e){e.$Template=e.$Template||{},$Temp=$Template.theme={getContainerHTML:function(){var e=($Support.isParentIframe()?"":" emfullwindow")+" emwin";return e+=$Support.isFAQEnabled()?" faq":"",e+=$Support.isNewHeader()?" zsiq-newtheme":"",['<section id="window-ribbon" themeid="'+$Support.getThemeID()+'" class="siqembed siqc-convert outerwin'+e+$Support.getEmbedSizeClass()+'"></section>'].join("")},getCloseWindowHTML:function(){return $("body").find(".win_close").remove(),$Support.isSignature($Support.EmbedObj)?"":'<div class="win_close sqico-larrow" themeid="'+$Support.getThemeID()+'" documentclick="min_iframe"></div>'},getHeaderHTML:function(e){var s=$Support.EmbedObj,i=JSON.parse(s.eprops.iclogo)?s.clogo+"?nps=404":"",t=e&&$Support.isUserLogoEnabled()&&(e.attenderimagefkey||e.imagefkey||e.image_fkey)?$Support.Util.getPhotoURL():"",a=e&&e.attendername;t=!t&&$Support.isBotChat?ZSIQTranscript.getImageURL({sender:s.attender}):t;var c=(i=a?t:i)?"":"nologo";a=getEscapedText(a||(s.status?LSResource.getRealValue("ne.chatwithus"):LSResource.getRealValue("ne.offlinemessage")));var n=getEscapedText(e&&e.aboutme||""),o=n?"":" noaboutme",l=!1;if(s.companywebsite){var d=s.companywebsite;l=!0}return['<header class="'+c+o+'" prop="header"><div class="headercont">','<div class="siq-convback sqico-larrow" id="showsiqconv" documentclick="showconvlist" style="display:none;"></div>','<div class="cmplogo siq-company-logo" prop="clogo">',l?'<a id="compurl" href="'+d+'" target="_blank">':"",'<span class="sqico-user"><img src="'+i+'" height="49" width="49" id="complogo" class="cmn_mdl siq-company-logo"/></span>',"</div>",l?"</a>":"",'<div class="header_txt">','<div class="txtelips siq-chat-attender-name" id="attname">'+a+"</div>",'<div class="txtelips siq-about-me" id="attabtme" title="'+n+'">'+n+'</div><div id="attabtme"></div>',"</div></div>",CommonUtil.isAudioCallAllowed()?'<span class="siqchat-detl sqico-call" documentclick="audiocall" id="audiocall" style="display:none;" title="'+LSResource.getRealValue("audiovideo.audiocall")+'"></span>':"","</header>"].join("")},getBodyHTML:function(e,s){if(e)return'<section class="content siq_content"></section>';var i=$Support.EmbedObj,t="content posrel siq_content";$Support.isSignature(i)&&(t+="algn_hgt ");var a=$Support.EmbedObj.status,c=i.eprops,n=i.pprops.chatcookiepolicyurl;return['<section class="'+t+'" purpose="outer">',JSON.parse(c.isname[0])?this.getNameHTML(c.isname[1].ismandatory):"",JSON.parse(c.isemail[0])?this.getEmailHTML(c.isemail[1].ismandatory):"",JSON.parse(c.isphoneno[0])?this.getPhoneHTML(c.isphoneno[1].ismandatory):"",-1==i.department||s?'<div id="sqico-drpdwn" class="sqico-drpdwn siq-dropdown" custom="department" info="department" data-validate="required"></div>':"",'<div class="msgbox" custom="question">',this.getQuesAreaHTML(a),0==a?this.getChatConsentHTML(n):"",this.getCampaignHTML(),"</div>","</section>"].join("")},getQuesAreaHTML:function(e){return['<div class="posrel siq-message-area">','<textarea placeholder="'+(0==e?$Support.isFAQEnabled()?LSResource.getRealValue("ne.message.clicksubmit.icon"):LSResource.getRealValue("ne.message.clicksubmit"):LSResource.getRealValue("ne.message.hitenter"))+'" class="msgarea siq-message-textarea" purpose="question" info="question" type="text" id="msgarea" dockeydown="textarea" dockeyup="textarea" data-validate="required charlimit 2048"></textarea>',this.getSendIcon(0==e)+"</div>"].join("")},getNameHTML:function(e,s){s=s||"";var i="optional",t="",a="";"true"===e&&(i="required",t=" ("+LSResource.getRealValue("ne.required")+")",a=' docblur="required"');var c=$Support.Util.isInValidVisitorName($Support.EmbedObj.visitorname)?"":$Support.EmbedObj.visitorname;return'<div custom="name"><input type="text" value="'+getEncodedText(c)+'" id="visname" placeholder="'+LSResource.getRealValue("ne.entername")+t+'" class="siq-input-text-box" '+a+s+' info="name" purpose="visitorname" data-validate="'+i+' charlimit 100"/>'+this.getRequiredHTML()+"</div>"},getEmailHTML:function(e){var s="true"===e?"required":"optional",i="true"==e?" ("+LSResource.getRealValue("ne.required")+")":"";return['<div custom="email">','<input type="text" id="visemail" value="'+($Support.EmbedObj.visitoremail||"")+'" class="siq-input-text-box" placeholder="'+LSResource.getRealValue("ne.enteremail")+i+'" info="email" purpose="visitoremail" data-validate="'+s+' email charlimit 100" docblur="email" />'+this.getRequiredHTML(),this.getFetchMailHTML(),"</div>"].join("")},getFetchMailHTML:function(e){return $Support.EmbedObj.fetchid?'<div class="fetchmail" id="fetchmail"><span class="sqico-fb"></span><span class="sqico-gplus"></span></div>':""},getPhoneHTML:function(e){var s="optional",i="",t="";return"true"===e&&(s="required",i=" ("+LSResource.getRealValue("ne.required")+")",t=' docblur="required"'),'<div custom="phone"><input type="text" value="'+($Support.EmbedObj.visitorphone||"")+'" class="siq-input-text-box" id="visphone" placeholder="'+LSResource.getRealValue("ne.enterphone")+i+'" class="" '+t+' info="phone" purpose="visitorphone"  data-validate="'+s+' phone"/>'+this.getRequiredHTML()+"</div>"},getCampaignHTML:function(){if(!$Support.Util.isCampaignEnabled())return"";var e=$Support.EmbedObj.integprops.integinfo[$Support.enabledCampaignID].subscribelabel||LSResource.getRealValue("embed.campaign.label");return['<div class="newsletter siq-newsletter txtelips" documentclick="newsletter">','<input type="checkbox" id="newsletter" name="Checkbox" />','<label for="newsletter" class="siq-checkbox-label txtelips" title="'+getEncodedText(e)+'"><span class="sqico-chkbx siq-checkbox"></span><em>'+getEncodedText(e)+"</em></label>","</div>"].join("")},getChatConsentHTML:function(e){if($Support.Util.getChatConsentStatus()){var s=LSResource.getRealValue("common.gdpr.agent.offlineaccept2");e&&(s="<a class='siq-lnmor' target='_blank' href='"+(e=-1==e.indexOf("http")?"http://"+e:e)+"'>"+s+"</a>");var i=LSResource.getRealValue("common.gdpr.agent.offlineaccept1")+s;return['<div id="offlineconsent" class="newsletter siq-newsletter">','<input type="checkbox" id="chatconsent" name="Checkbox" />','<label for="chatconsent" class="siq-checkbox-label txtelips" title=""><span class="sqico-chkbx siq-checkbox"></span>'+(i=$Support.Util.getOfflineAPIConsent(i))+"</label>","</div>"].join("")}},getChatAreaHTML:function(){var e=$Support.EmbedObj.messagehint,s=$Support.EmbedObj;return['<section class="content chtanim siq_content'+($Support.isSignature(s)?" algn_hgt":"")+'">','<div class="chtcont" id="msgmaindiv" docwheel="handlescroll"><div class="disply_tbl"><div class="disply_cel" id="msgdiv">',"</div></div></div>",'<div class="usrinpt" id="msgbox_main">','<div class="txtarewrap"><textarea '+(e?'placeholder="'+e+'"':'placeholder="'+LSResource.getRealValue("ne.message.hitenter")+'"')+' class="msgarea siq-message-textarea" id="msgarea" dockeydown="textarea" dockeyup="sendmessage"  data-validate="required"></textarea><div class="smile_list siq-smileys-section" id="smilelist" style="display: none;"></div></div>',"</div>","</section>"].join("")},getSendIcon:function(e){return $Support.isFAQEnabled()&&($Support.Util.isHandHeldDevice()||e)?'<span class="sqico-send siq-send-button" id="sqico-send" title="'+LSResource.getRealValue("embed.submit")+'"></span>':""},getIconHTML:function(){var e=$Support.EmbedObj.eprops;return'<div id="action_icons">'+(JSON.parse(e.showsmiley)?'<span class="sqico-smile" documentclick="smiley" id="smiley" title="'+LSResource.getRealValue("ne.title.emoji")+'"></span>':"")+(CommonUtil.isAllowFileSharing()?'<span class="sqico-attach posrel" documentclick="attachfile" title="'+LSResource.getRealValue("ne.action.attachfile")+'">'+this.getSendFileHtml()+"</span>":"")+'<span class="sqico-send siq-send-button" id="sqico-send" documentclick="sendmessage" title="'+LSResource.getRealValue("ne.send")+'"></span></div>'},getUserActionsHTML:function(){var e=$Support.EmbedObj.eprops;$Support.EmbedObj.isBetaPortal;return['<div class="usractions clearfix">','<div class="txtelips siq-typing-message" id="typgstatus"></div>','<div class="floatrg usractico">','<span class="sqico-more siq-menu" documentclick="moreaction" id="moreaction" title="'+LSResource.getRealValue("ne.title.action")+'"></span>','<span class="sqico-end siq-end-chat-button" documentclick="chatend"  title="'+LSResource.getRealValue("ne.title.chatend")+'"></span>',"</div>",'<ul class="mraction" id="mraction">',JSON.parse(e.icsound)&&EmbedSound.isPlayerEnable()?this.getSoundHTML():"",JSON.parse(e.icmail)?'<li class="sqico-smailico" documentclick="sendmail" id="sendmail">'+LSResource.getRealValue("ne.action.sendmail")+"</li>":"",JSON.parse(e.icprint)?'<li class="sqico-print" documentclick="printfile">'+LSResource.getRealValue("common.print")+"</li>":"",CommonUtil.isAllowAssist()&&!$Support.isBotChat?'<li class="sqico-share_screen" documentclick="sharedesktop" id="sharedesktop">'+LSResource.getRealValue("embed.desktop.sharing")+"</li>":"",CommonUtil.isScreenSharingAllowed()?'<li class="sqico-share_screen" documentclick="sharescreen" id="sharescreen">'+LSResource.getRealValue("embed.desktop.siqsharing")+"</li>":"","</ul>","</div>"].join("")},getSoundHTML:function(){var e=$Support.EmbedObj.soundval;return isUndefined(e)||-1!=e?'<li class="sqico-mute" documentclick="toggleaudio" purpose="sound">'+LSResource.getRealValue("ne.action.mute")+"</li>":'<li class="sqico-unmute" documentclick="toggleaudio" title="'+LSResource.getRealValue("common.unmute.title")+'" purpose="sound">'+LSResource.getRealValue("ne.action.unmute")+"</li>"},getFooterHTML:function(){var e=$Support.Util.getFAQLabel();return['<footer class="clearfix'+($Support.isFAQEnabled()?" faq_footer":"")+'">',$Support.EmbedObj.sm?'<div class="floatlf"><span class="sqico-fb"></span><span class="sqico-tweet"></span><span class="sqico-gplus"></span></div>':"",$Support.isAllowFreeLogo()?'<div class="flogo">'+LSResource.getRealValue("ne.freelogo",_FREELOGOLINK)+"  </div>":"",$Support.isFAQEnabled()?'<div class="faqdiv dsp_table"><div class="sel sqico-chat" id="conv-tab" documentclick="showconversation"><span class="txtelips">'+LSResource.getRealValue("ne.conversation")+'</span><span class="disIB"><span class="siqc_eletype"></span></span></div><div class="sqico-faqico" id="faqtab" documentclick="showfaq">'+e+"</div></div>":"","</footer>"].join("")},getSendBtnHTML:function(e){return'<div class="floatrg"><em class="sqico-send siq-send-button" id="sqico-send">'+(e=e||LSResource.getRealValue("ne.startchat"))+"</em> </div>"},getBannerHTML:function(e,s,i,t){var a='<div class="info_banr'+(s?"":" relate")+' siq-info-banner" id="info_banr"';return i&&(a+='style="cursor:pointer;" documentclick="'+t.documentclick+'"'+t.attr+'="'+t.value+'"'),a+=">"+e+"</div>"},getSendMailHTML:function(){return['<div class="semail sqico-smailico siq-send-email-section" id="smailbx">','<input type="text" class="siq-input-text-box siq-send-email-input" placeholder="'+LSResource.getRealValue("ne.action.enteremail")+'" info="email" data-validate="optional email" dockeyup="triggermail"/><em class="sqico-smail" documentclick="triggermail" title="'+LSResource.getRealValue("ne.action.sendmail")+'"></em>',"</div>"].join("")},getSendMailConfimHTML:function(e,s){var i=s||"";return['<div class="gltr-cont" id="consentbannerdiv" cattr="sendmailconfirm">','<span class="gltr-desc">'+LSResource.getRealValue("common.gdpr.emaildoubleoptin")+" <em>"+e+"</em></span>",'<div class="gltr-done"><span class="gltr-srno" documentclick="triggermailconfirm" cattr='+e+" chid="+i+" >"+LSResource.getRealValue("common.yes")+'</span><span class="gltr-srno gltr-no" documentclick="triggermailconfirm" >'+LSResource.getRealValue("common.no")+"</span></div>","</div>"].join("")},getSmileyHTML:function(){var e='<div class="smileydiv" id="smileydiv">',s=Smiley.defaultsmileyobj;for(var i in s)e+='<div class="smlynone"><div title="'+s[i]+'" code="'+i+'" class="siqsly-'+s[i]+'"></div></div>';return e+="</div>"},getUserEditHTML:function(e){var s=$Support,i=s.EmbedObj.eprops,t=i.isname[1].ismandatory,a=i.isemail[1].ismandatory,c=i.isphoneno[1].ismandatory,n=e?LSResource.getRealValue("ne.update"):LSResource.getRealValue("common.continue");s.ismissed&&(n=LSResource.getRealValue("ne.submit"),a="true");var o=' onenter="updateuserdetails"';return['<div id="edituserdetails" class="chtcont maskdiv editfields">',JSON.parse(i.isname[0])?this.getNameHTML(t,o):"",JSON.parse(i.isemail[0])?this.getEmailHTML(a,o):"",JSON.parse(i.isphoneno[0])?this.getPhoneHTML(c,o):"",-1==s.EmbedObj.department?'<div id="sqico-drpdwn" tabindex="3" class="sqico-drpdwn siq-dropdown" info="department" data-validate="required"></div>':"",'<div id="usereditactionbtn" class="actionbtn">','<p id="continue_btn" data_isupdate="'+e+'" class="siq-update-button" documentclick="updateuserdetails" tabindex="-1" onenter="updateuserdetails">'+n+"</p>",'<p class="cancel siq-cancel-button" documentclick="hideuserdetails" >'+LSResource.getRealValue("common.cancel")+"</p>","</div>","</div>"].join("")},getCaptchaHTML:function(e){return["<div>","<div>"+LSResource.getRealValue("ne.captcha.title1")+"</div>","<p>"+LSResource.getRealValue("ne.captcha.title2")+"</p>","<div>"+CommonUtil.getCaptcha(e)+'<span class="sqico-captcha"  documentclick="captcha"></span></div>','<input type="text" class="siq-input-text-box" value="" purpose="'+e+'" dockeydown="captcha">','<div class="actionbtn">','<p documentclick="captcha">'+LSResource.getRealValue("ne.submit")+"</p>","</div>","</div>"].join("")},getWaitingTextHTML:function(){return['<div class="info_banr timer siq-info-banner" id="info_banr">','<span class="">'+DynamicMsg.fillValues($Support.EmbedObj.waitmsg)+"</span>",'<span class="sqico-timer siq-info-timer" id="wait_div">'+MyDate.formatMS(1e3*$Support.waitingtime)+"</span>","</div>"].join("")},getInfoHTML:function(e,s){return'<div class="infomsg '+(s=s||"")+' siq-info-message">'+e+"</div>"},getFeedbackHTML:function(e){return['<div class="sqfdbk maskdiv siq-feedback-section" isonlyrating="'+e+'">','<div class="fdbk_cnt">',"<div>",'<div class="clblck">'+LSResource.getRealValue(e?"ne.rating.alone":"ne.rating")+"</div>",'<div class="rating">'+this.getStarHTML()+"</div>",'<div class="clblck fd-byline">'+LSResource.getRealValue("ne.rating.byline")+"</div>","</div>",e?"":'<textarea dockeyup="feedback" dockeydown="textarea" id="fdbkarea" class="siq-feedback-textarea" data-validate="required" placeholder="'+LSResource.getRealValue("ne.feedback.title")+'"></textarea>'+this.getSendIcon(),"</div>",'<em class="sqico-close" title="'+LSResource.getRealValue("common.close")+'" documentclick="hidefeedback"></em>',"</div>"].join("")},getFeedbackOnlyHTML:function(e){return['<div class="sqfdbk maskdiv fdbk_aln">','<div class="clblck">'+LSResource.getRealValue("ne.feedback")+"</div>",'<div class="fdbk_cnt">','<textarea dockeyup="feedback" dockeydown="textarea" id="fdbkarea" class="feedback-textarea" data-validate="required" placeholder="'+LSResource.getRealValue("ne.feedback.title")+'"></textarea>'+this.getSendIcon(),"</div>","</div>"].join("")},getStarHTML:function(e){for(var s="",i=null!=e?"":'documentclick="rating"',t=0;t<5;t++)s+='<span class="sqico-star'+(t===e?" sel":"")+' siq-rating-icon" '+i+"></span>";return s},getSendFileHtml:function(){$Support.EmbedObj;return'<input name="file1" type="file" multiple size="1" class="embdinpfile" onchange="$Support.Util.submitFile(this, event);" id="embdfileupload" title="'+LSResource.getRealValue("chat.actions.filesharing")+'" onclick="this.value=\'\'"/>'},getDragDropHTML:function(){return'<div class="dragmask siq-dragdrop-mask" id="dragmask"><em>'+LSResource.getRealValue("ne.dropfile")+"</em></div>"},getShareURLHTML:function(e){var s=e.msg;return'<span class="shurl siq-share-url"><em class="txtelips">'+LSResource.getRealValue("ne.shareurl.desc",CommonUtil.getformattedtext(e.dname,20))+'</em></br><em class="txtelips" title="'+s+'">'+s+'</em></span><span class="sqico-surlico" title="'+LSResource.getRealValue("ne.shareurl.title")+'"></span>'},getPreviewHTML:function(){return['<div class="imgprev siq-image-preview" id="fileintex-FILEINDEX" purpose="fileupload">','<div class="cmtbx">','<div contenteditable="false"><input type="text" dockeydown="pasteimage" class="file-name" purp="name" data-validate="required"/></div>','<p id="pasteimage"></p>','<textarea id="pasteimgcomment" class="siq-comment-textarea" mcount="200" purp="comment" dockeyup="handlepasteimage" placeholder="'+LSResource.getRealValue("ne.imgcomment")+'"></textarea>','<em class="floatrg clr999 messagecount">200</em>',"</div>",'<div class="actionbtn">','<p class="siq-update-button" class="siq-update-button" documentclick="imgupload">'+LSResource.getRealValue("common.upload")+"</p>",'<p class="cancel siq-cancel-button" documentclick="imgcancel">'+LSResource.getRealValue("common.cancel")+"</p>","</div>","</div>"].join("")},getCCheckBxHTML:function(e){for(var s=e.options,i=getEscapedText(e.name)||"",t='<div custombx="true" customid="'+i+'">'+this.getCustomWrap(e),a=0;a<s.length;a++){var c=s[a],n=getEscapedText(c.text),o=getEscapedText(c.value);t+="<div>",t+='<input type="checkbox" id="'+o+'" name="'+i+'" value="'+o+'">',t+='<label for="'+o+'" class="siq-checkbox-label"><span class="sqico-chkbx siq-checkbox"></span>'+n+"</label></div>"}return t+="</div></div>"},getCRadioHTML:function(e){for(var s=e.options,i=getEscapedText(e.name)||"",t='<div custombx="true" customid="'+i+'">'+this.getCustomWrap(e),a=0;a<s.length;a++){var c=s[a],n=getEscapedText(c.text),o=getEscapedText(c.value);t+="<div>",t+='<input type="radio" id="'+o+'" name="'+i+'">',t+='<label for="'+o+'"><span class="sqico-radio"></span>'+n+"</label></div>"}return t+="</div></div>"},getCustomWrap:function(e){e.options;var s=getEscapedText(e.name)||"",i=JSON.parse(e.required)?this.getRequiredHTML("*"):"",t='<div class="subtitle">'+getEscapedText(e.hint)+i+"</div>";return t+='<div class="custombtn" purpose="custom" type="'+e.type+'"  visibility="'+e.visibility+'" custom="'+s+'" '+this.getCustomAttr(e)+' data-validate="">'},getRequiredHTML:function(e){return e=e||"",'<em class="req siq-required" title="'+LSResource.getRealValue("ne.required")+'">'+e+"</em>"},getCInputHTML:function(e){var s=getEscapedText(e.name)||"",i=e.required&&JSON.parse(e.required)?this.getRequiredHTML():"";return['<div custom="'+s+'" type="'+e.type+'" customid="'+s+'" custombx="true" >','<input type="text" class="siq-input-text-box" docblur="custominput" purpose="custom" visibility="'+e.visibility+'" '+this.getCustomAttr(e)+" >"+i,"</div>"].join("")},getCustomAttr:function(e){e.options;var s=getEscapedText(e.name)||"",i=getEscapedText(e.hint)||s,t=$.parseJSON(e.required)?"required":"optional",a=e.type?e.type:"text",c=e.maxlength||"url"==e.type||"textarea"==e.type?100:30,n=t+" "+a;return'placeholder="'+i+'" id="'+s+'" mandatory="'+e.required+'" custom="'+s+'" name="'+s+'" data-validate="'+n+'" autocomplete="off" maxlength="'+c+'" info="'+a+'"'},getCDropDwnHTML:function(e){var s=getEscapedText(e.name)||"";return'<div id="sqico-cdrpdwn'+e.index+'" class="sqico-drpdwn siq-dropdown" customid="'+s+'" custombx="true" custom="'+s+'" type="selectbox" visibility="'+e.visibility+'" purpose="custom" '+this.getCustomAttr(e)+"></div>"},getCTextareaHTML:function(e){var s=getEscapedText(e.name)||"",i=JSON.parse(e.required)?this.getRequiredHTML():"";return['<div custom="'+s+'" custombx="true" customid="'+s+'"  type="'+e.type+'"  visibility="'+e.visibility+'">','<textarea type="text" docblur="custominput" visibility="'+e.visibility+'" purpose="custom" '+this.getCustomAttr(e)+" ></textarea>"+i,"</div>"].join("")},getCLabelHTML:function(e){return['<div class="subtitle" customid="'+(getEscapedText(e.name)||"")+'" custombx="true">'+getEscapedText(e.hint)+"</div>"].join("")},getCloseHTML:function(){return'<em class="sqico-close siq-close-icon" documentclick="close_iframe" title="'+LSResource.getRealValue("common.close")+'"></em>'},getChatEndHTML:function(){var e=$Support.EmbedObj;return['<div class="infomsg chtend siq-info-message">'+LSResource.getRealValue("ne.chatend",'documentclick="restartchat"'),'<div class="chtlnks">',JSON.parse(e.eprops.icmail)?'<a href="javascript:;" class="sqico-smailico" documentclick="sendmail" id="chatendmail" chid="'+e.chatID+'" visitorid="'+e.visitorID+'">'+LSResource.getRealValue("ne.email.transcript")+"</a>":"","</div>","</div>"].join("")},getBusnsInfoHTML:function(e){return["<div>"+LSResource.getRealValue("ne.offlinemsg")+"</div>","<div>"+LSResource.getRealValue("ne.busnshr")+' : <em class="fnt13">Monday to Friday '+e+"</em></div></div>"].join("")},getGroupIconHTML:function(){return'<span class="sqico-grpico"></span>'},getWaitHandlerHTML:function(){return['<div class="waitmsg" id="cwaitmsg">'+$Support.cwaitmsg,"</div>"].join("")},getConversationContainerHTML:function(){return'<section class="siqc_body sli_view siq_content" id="conversioncontainer" style="display:none;"><div docwheel="handlescroll" id="pastchatconv_main"><div id="currchatconv"></div><div id="pastchatconv"></div></div></section>'},getConversationHistoryHTML:function(e){$Support.EmbedObj;var s=e.attender_imgkey&&$Support.isUserLogoEnabled(e)?_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+e.attender_imgkey+"/photo.ls?nocache=1":"";!e.attender_imgkey&&e.isbotattender&&(s=ZSIQTranscript.getImageURL(JSON.parse(e.lastmsg)));var i=e.attender,t="";e.chid||e.attender?e.attender||(i=LSResource.getRealValue("conversation.missedchat"),t=" sqico-missed"):(i=LSResource.getRealValue("conversation.offlinechat"),t=" sqico-offline");var a=Message.getDisplayContent(e.question),c=!1,n="";if(e.lastmsg){var o=JSON.parse(e.lastmsg);if(c=$Support.Util.isAnnonUser(o.sender),o=o.msg){if("object"==typeof o)"cannedarticle"===o.mode?a=$FAQ.getHeaderMessage(o.msg):o.fName&&(a=o.fName,n=$Support.Util.getFileClassType(o.content));else if(a=Message.getDisplayContent(o),"string"==typeof o)try{JSON.parse(JSON.parse(o).mode&&"AVCALL"===JSON.parse(o).mode)&&(a=Message.getAVMessageBlock(JSON.parse(o),!0))}catch(e){}a=n?'<em class="'+n+'">'+a+"</em>":a,a=c?LSResource.getRealValue("common.you")+": "+a:a}}return['<div class="siqc_cntbody" '+(e.chid?'chid="'+e.chid+'"':"")+' visitorid="'+e.visitorid+'" documentclick="fetchconvtranscript">','<div class="siqc_usrimg'+t+'">','<img src="'+s+'"><div class="sqico-user convrstn-usr wincustom_bg"></div>',"</div>",'<div class="siqc_msg">','<span class="txtelips">'+getEncodedText(i)+"</span>",'<p id="desc7" class="siqc_cusmsg">'+a+"</p>","</div>",'<div id="status7" class="siqc_duration" convmtime="'+e.endtime+'">'+MyDate.timeDifference(e.endtime)+'<em class="siqc_eletype"></em></div>',"</div>"].join("")},getCallFAQHtml:function(){return'<div id="showsiqchatui" class="siqc_edt zsiq-faqcal textC" style="display:none;"><div class="siq-fcal sqico-bubchat" documentclick="showchatui"></div> <div class="siq-fcal sqico-call" onclick="CallImpl.startCall()"></div><div class="siq-fcal sqico-plus" ></div></div>'},getConversationCreateChatIConHTML:function(){return'<aside class="siqc_edt sqico-createchat wincustom_bg" id="showsiqchatui" documentclick="showchatui" title="'+LSResource.getRealValue("conversation.newconversation")+'" style="display:none;"></aside>'},getConversationTranscriptContainerHTML:function(){var e=$Support.EmbedObj;return['<section class="siqc_hstrycht siq_content '+($Support.isSignature(e)?" algn_hgt":"")+'" docwheel="handlescroll" style="display:none;">',"</section>"].join("")},getLoadingHTML:function(){return'<div class="siqc-progress siqc-float siqc-shadow" id="convloadingui"><div class="siqc-progress-item"></div></div>'},getConversationListLoadingHTML:function(){return'<div class="siqc_cntbody siqc-loader" id="convlistloading"><div class="siqc-progress siqc-float"><div class="siqc-progress-item"></div></div></div>'},getchatWaitingUIinConversation:function(){var e=$Support.EmbedObj;return['<div class="siqc_cntbody" id="conv'+e.chatID+'" chid="'+e.chatID+'" visitorid="'+e.visitorID+'" documentclick="showchatui">','<div class="siqc_usrimg">','<img id="convchatattenderimg" src="">','<div class="sqico-user convrstn-usr wincustom_bg"></div>',"</div>",'<div class="siqc_msg">','<span id="convchatattendername" class="txtelips"></span>','<p id="convmsg" class="siqc_cusmsg">'+getEscapedText(e.question)+"</p>","</div>",'<div class="siqc_duration"><em id="convwtime"></em><span><em class="siqc_eletype"></em></span></div>',"</div>"].join("")},getPopUpMessageInconversation:function(e,s,i){return['<div class="proactv_chat" id="convpopupmsg" documentclick="showchatui">','<div class="siqc_usrimg">','<img src="'+i+'">','<div class="sqico-user convrstn-usr wincustom_bg"></div>',"</div>",'<div class="siqc_msg">','<span class="txtelips">'+e+'</span><p id="desc1" class="siqc_cusmsg">'+s+"</p>","</div>",'<em class="sqico-clear" id="removeconvpopup" documentclick="removeconvpopupmsg" title="'+LSResource.getRealValue("common.close")+'"></em>',"</div>"].join("")},getPopUpAlertInconversation:function(e,s,i,t){return['<div class="proactv_chat" id="convpopupmsg" documentclick="showchatui">','<div class="siqc_usrimg">','<img src="'+t+'">','<div class="sqico-user convrstn-usr wincustom_bg"></div>',"</div>",'<div class="siqc_msg">','<span class="txtelips">'+e+'</span><p id="desc1" class="siqc_cusmsg">'+s+"</p>",'<div id="alerttimer" class="siqc_duration">'+i+"</div>","</div>",'<em class="sqico-clear" id="removeconvpopup" documentclick="removeconvpopupmsg" title="'+LSResource.getRealValue("common.close")+'"></em>',"</div>"].join("")},getPopUPInfoMessageInConversation:function(e){return['<div class="proactv_chat" id="convpopupmsg" documentclick="showchatui">','<div class="siqc_msg">','<p id="desc1" class="siqc_cusmsg">'+e+"</p>","</div>",'<em class="sqico-clear" id="removeconvpopup" documentclick="removeconvpopupmsg" title="'+LSResource.getRealValue("common.close")+'"></em>',"</div>"].join("")},getOutgoingcallUI:function(e,s){var i="",t="";return null==e||""==e?t="<em class='sqico-person'></em>":i="<img src="+(e=e.split("?")[0])+">",null==s&&(s=""),['<div class="zsembd_audiocl textC">','<nav class="zsembd_usrprof zsembd_calrng">','<div class=" sqico-personimg">',i,t,"</div>","</nav>",'<span class="zsembd_adodesc txtelips">'+s+'<em class="txtelips font14">'+LSResource.getRealValue("av.info.calling")+"</em></span>",'<div class="cal_actns">','<div id="audiocall_mute" class="sqico-microphone" onclick="avimpl.toggleMute(this)"></div>','<div class="sqico-call reject-cal" onclick="avimpl.terminateAudioCall();"></div></div>',"</div>"].join("")},getReconnectionUI:function(e,s){var i="",t="";return null==e||""==e?i="sqico-person":t="<img src="+(e=e.split("?")[0])+">",['<div class="zsembd_audiocl textC reconnect" id="call_reconnection">','<nav class="zsembd_usrprof">','<div class="'+i+' sqico-personimg">',t,"</div>","</nav>",'<span class="zsembd_adodesc txtelips">'+$Support.EmbedObj.attendername+'<em class="txtelips font14">'+LSResource.getRealValue(s)+"</em></span>",'<div class="cal_actns">','<div id="audiocall_mute" class="sqico-microphone" onclick="avimpl.toggleMute(this)"></div>','<div class="sqico-call reject-cal" onclick="avimpl.terminateAudioCall();"></div></div>',"</div>"].join("")},getUserBusyUI:function(e){var s="",i="";return null==e||""==e?s="sqico-person":i="<img src="+(e=e.split("?")[0])+">",['<div class="zsembd_audiocl textC" id="call_Busy">','<em class="sqico-close" onclick="avimpl.clear();"></em>','<nav class="zsembd_usrprof">','<div class="'+s+' sqico-personimg">',i,"</div>","</nav>",'<span class="zsembd_adodesc txtelips">'+$Support.EmbedObj.attendername+'<em class="txtelips font14">'+LSResource.getRealValue("av.info.userbusy")+"</em></span>",'<div class="cal_actns">','<div class="sqico-record" onclick="avimpl.showAudioRecorder();"></div>','<div class="sqico-call" onclick="avimpl.startCall();"></div></div>',"</div>"].join("")},getAudioCallUI:function(e){var s="",i="";return null==e||""==e?i="<em class='sqico-person'></em>":s="<img src="+(e=e.split("?")[0])+">",['<div class="zsembd_audiocl textC">','<nav class="zsembd_usrprof zsembd_calrng">','<div class="sqico-personimg">',s,i,"</div>","</nav>",'<span class="zsembd_adodesc txtelips"><em class="txtelips font14">'+LSResource.getRealValue("av.info.callfrom")+"</em>"+$Support.EmbedObj.attendername+"</span>",'<div class="cal_actns">','<div class="sqico-call" onclick="avimpl.acceptCallInvite();"></div>','<div class="sqico-call reject-cal" onclick="avimpl.rejectCallInvite();"></div></div>',"</div>"].join("")},getOnCallUI:function(e){var s="",i="";return null==e||""==e?s="sqico-person":i="<img src="+(e=e.split("?")[0])+">",['<div class="zsembd_audiocl textC">','<nav class="zsembd_usrprof\t">','<div class="'+s+' sqico-personimg" >',i,"</div>","</nav>",'<span class="zsembd_adodesc txtelips">'+$Support.EmbedObj.attendername+'<em class="txtelips font14" id="sqico-timer"></em></span>','<div class="cal_actns">','<div id="audiocall_mute" class="sqico-microphone" onclick="avimpl.toggleMute(this)"></div>','<div class="sqico-call reject-cal" onclick="avimpl.stopOngoingCall();"></div></div>',"</div>"].join("")},getStartRecordUI:function(e){var s="";return null==e||""==e?s="<img src="+e+">":"<em class='sqico-person'></em>",['<div class="zsembd_audiocl textC">','<nav class="zsembd_usrprof">','<div class=" sqico-personimg">',s,"</div>","</nav>",'<span class="zsembd_adodesc txtelips">'+$Support.EmbedObj.attendername+'<em class="txtelips font14" id="sqico-timer"></em></span>','<div class="embed-calrec"></div>','<div class="cal_actns">',"</div>"].join("")},getAudioRecordedUI:function(e){var s="";return null==e||""==e?s="<img src="+e+">":"<em class='sqico-person'></em>",['<div class="zsembd_audiocl textC">','<em class="sqico-close" cntrl="cancelRecord"></em>','<nav class="zsembd_usrprof">','<div class=" sqico-personimg">',s,"</div>","</nav>",'<span class="zsembd_adodesc txtelips">'+$Support.EmbedObj.attendername+'<em class="txtelips font14" id="sqico-timer"></em></span>','<div class="embd-calrec" id="sqico-canvas"></div>','<div class="cal_actns">','<div class="sqico-record" cntrl="settings"></div>','<div class="sqico-play" cntrl="playRecord"></div>','<div class="sqico-videosend" cntrl="stopRecord"></div></div>',"</div>"].join("")},getTranslateBannerHTML:function(e,s){var i=40<e.length?'<div class="txtelips">'+e+" </div>":e+" ",t="";return s&&(t="<a class='siq-lnmor' target='_blank' href='"+(s=-1==s.indexOf("http")?"http://"+s:s)+"'> "+LSResource.getRealValue("helplink.learnmore")+"</a>"),['<div class="gltr-cont" id="consentbannerdiv" cattr="gtranslateconsent" ><span class="gltr-desc">'+i+LSResource.getRealValue("common.gdpr.translatedesc")+"<em> "+LSResource.getRealValue("common.gdpr.gtranslatehead")+'<div class="gltr-bgimg"></div></em>'+t+'</span><div class="gltr-done"><div documentclick="updatetranslatecookie" >OK</div></div></div>'].join("")},handleStartChatBTN:function(){$("#action_icons").length||$Support.contentdiv.find("#smilelist").after('<div id="action_icons"><span class="sqico-send siq-send-button" id="sqico-send" title="'+LSResource.getRealValue("ne.send")+'"></span></div>')}}}(window);function avimpl(){}function successCreateAnswer(e){avimpl.pc.setLocalDescription(e);var a=$Support.getAjaxURL("makeav",dext),t={};t.wmsid=$Support.EmbedObj.vwmsid,t.chid=$Support.EmbedObj.chatID,t.lsuid=$Support.EmbedObj.attender,t.session=CommonUtil.toJSON(e),t.type=e.type,t.version="v3",t.action="connectwithpeer",$.ajax({url:a,data:t,type:"POST"})}function sdrag(e,a){var i=0,l=0,o=this,n=!1;function d(e){if($(".zsembd_audiocl").css("left")<"0"||$(".zsembd_audiocl").css("top")<"0")return $(".zsembd_audiocl").css("left")<"0"&&(o.style.left="0px"),$(".zsembd_audiocl").css("top")<"0"&&(o.style.top="0px"),n=!1,void window.removeEventListener("mousemove",d);if($(".zsembd_audiocl").css("right")<"0"||$(".zsembd_audiocl").css("bottom")<"0"){var a=e.pageX-i,t=e.pageY-l;return o.style.left=a-10+"px",o.style.top=t-10+"px",n=!1,void window.removeEventListener("mousemove",d)}o.style.left=e.pageX-i+"px",o.style.top=e.pageY-l+"px"}this.addEventListener("mousedown",function(e){n=!0;var a=o.style.left?parseInt(o.style.left):$(".zsembd_audiocl").css("left").replace("px",""),t=o.style.top?parseInt(o.style.top):$(".zsembd_audiocl").css("top").replace("px","");i=e.pageX-a,l=e.pageY-t,window.addEventListener("mousemove",d)}),window.addEventListener("mouseup",function(e){!0===n&&(n=!1,window.removeEventListener("mousemove",d))})}avimpl.setCredentials=function(e){avaction.setCredentials(e),avimpl.avparams=["newcandidate","connection_estb","chid","wmsid","mutestate","reconnecttime","callincoming","mediaStream","curr_status"],avimpl.attenderimgurl=_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+$Support.EmbedObj.attenderimagefkey+"/photo.ls?nps=404"},avimpl.showInvitation=function(e){if(avimpl.audiorecorder&&avimpl.audiorecorder.destroy(),CallImpl.isCallWithChat){avimpl.curr_status="incomingcall",CallImpl.updateUI(AV_INCOMINGCALL),avimpl.acceptCallInvite("apicall");var a={attenderemail:$Support.EmbedObj.attenderemail};$Support.Util.handleCallbacks("call.attended",a)}else{$Support?$Support.getParent().$ZSIQChatWindow.openChatWindow():$ZSIQChatWindow.openChatWindow(),avimpl.attenderimgurl=_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+$Support.EmbedObj.attenderimagefkey+"/photo.ls?nps=404",Message.handleBlinkTitle(LSResource.getRealValue("av.info.call.tabinfo")),EmbedSound.play("incomingcall",60);e.msg.sender,e.msg.receiver,e.msg.entityid;avimpl.agentID=e.msg.sender,$("#audiocall").addClass("cmn_disable"),avimpl.checkAndAppendUI($Temp.getAudioCallUI(avimpl.attenderimgurl)),avimpl.callincoming=!0,avaction.TYPE=e.msg.type,"null"==e.msg.type&&(avaction.TYPE="AUDIO"),"SCREEN_SHARE"===e.msg.type?avaction.TYPE="SCREEN_VIEW":"SCREEN_VIEW"===e.msg.type&&(avaction.TYPE="SCREEN_SHARE")}},avimpl.acceptCallInvite=function(e){var a=$Support.EmbedObj.chatID;avimpl.callincoming=!1,$(".zsembd_audiocl").remove(),avimpl.checkAndAppendUI($Temp.getReconnectionUI(avimpl.attenderimgurl,"av.info.connecting")),avimpl.curr_status="connecting",CallImpl.updateUI(AV_CONNECTING);var t=$Support.getAjaxURL("makeav",dext),i={};i.chid=a,i.wmsid=$Support.EmbedObj.vwmsid,i.mode=AUDIOCALL,i.lsuid=$Support.EmbedObj.attender,"apicall"==e&&(i.department=$Support.EmbedObj.department),i.action="accepted",i.version="v3",$.ajax({url:t,data:i,type:"POST"}),EmbedSound.stop(),clearInterval(avimpl.intervaltime)},avimpl.handleCallTermination=function(){LSDebugger.postDebugInfo("Audio Call_v - inside handlecallterminated chatid "+avimpl.chid,null,null,!0),$(".zsembd_audiocl").remove(),$("#audiocall").removeClass("cmn_disable")},avimpl.rejectCallInvite=function(){EmbedSound.stop();var e=$Support.getAjaxURL("makeav",dext);$(".zsembd_audiocl").remove();var a={};a.chid=$Support.EmbedObj.chatID,a.wmsid=$Support.EmbedObj.vwmsid,a.mode=AUDIOCALL,a.lsuid=$Support.EmbedObj.attender,a.action="rejected",a.version="v3",$.ajax({url:e,data:a,type:"POST"}),$("#audiocall").removeClass("cmn_disable"),clearInterval(avimpl.intervaltime),avimpl.chid=avimpl.wmsid=avimpl.mutestate=avimpl.newcandidate=avimpl.connection_estb=null},avimpl.incrementRetryCount=function(){if(LSDebugger.postDebugInfo("Audio Call_v - inside Retry count | count "+avimpl.reconnect_count+"| chid |"+avimpl.chid,null,null,!0),2<avimpl.reconnect_count)return avimpl.stopOngoingCall(),void avimpl.clear();avimpl.reconnect_count++},avimpl.addAudioElemts=function(){if($(".zsembd_audiocl").remove(),avimpl.checkAndAppendUI($Temp.getReconnectionUI(avimpl.attenderimgurl,"av.info.connecting")),avimpl.curr_status="connecting",CallImpl.updateUI(AV_CONNECTING),EmbedSound.stop(),"VIDEO"!=avaction.TYPE){localAudio=document.createElement("audio");var e=document.createElement("div");return e.id="zaudiodiv",e.style.position="relative",localAudio.id="localaudio",localAudio.autoplay=!0,e.appendChild(localAudio),void $("body").append(e)}var a=document.createElement("video"),t=document.createElement("div");t.id="zvideodivs",t.className="zvideodiv",t.style.position="relative",a.id="localvideo",a.autoplay=!0,t.appendChild(a);var i=document.createElement("div");i.id="siqvideo",i.appendChild(t),$(window.parent.document).find("body").append(i),$(window.parent.document).find("#siqvideo").append("<em class='siqhdr_icon' id='siq_videomin'>-</em>"),$("#siq_videomin",parent.document).on("click",function(){$(window.parent.document).find("#siqvideo").toggleClass("siq_minvideo")})},avimpl.callConnected=function(){LSDebugger.postDebugInfo("Audio Call_v - inside call connected| chid |"+avimpl.chid+" | reconect time "+avimpl.reconnecttime,null,null,!0),EmbedSound.stop(),avimpl.active=!0,avimpl.curr_status="ongoing",CallImpl.updateUI(AV_ONGOING),clearInterval(avimpl.reconnectinterval),clearInterval(avimpl.ApiCalltimer),$(".zsembd_audiocl").remove(),0!==avimpl.reconnecttime&&null!==avimpl.reconnecttime&&void 0!==avimpl.reconnecttime||(avimpl.starttime=Date.now()),avimpl.checkAndAppendUI($Temp.getOnCallUI(avimpl.attenderimgurl)),void 0!==avimpl.reconnecttime&&null!==avimpl.reconnecttime||(avimpl.reconnecttime=0),avimpl.handleTimerUI(),(avimpl.reconnecttime=0)==avimpl.mutestate&&(avimpl.localStream.getAudioTracks()[0].enabled=!avimpl.localStream.getAudioTracks()[0].enabled,$("#audiocall_mute").removeClass("sqico-microphone").addClass("sqico-muteaudio")),clearTimeout(avimpl.timer),$Support.LSDB.remove("ZLD_ApiAVCall")},avimpl.callFailure=function(e){LSDebugger.postDebugInfo("Audio Call_v - inside call failure| chid |"+avimpl.chid+" | reconect time "+avimpl.reconnecttime+" |type "+e,null,null,!0);var a={mandatory:{OfferToReceiveAudio:!0}};avimpl.handleCallTermination(),$(".zsembd_audiocl").remove(),avimpl.reconnecttime=(Date.now()-avimpl.starttime)/1e3,avimpl.checkAndAppendUI($Temp.getReconnectionUI(avimpl.attenderimgurl,"av.info.reconnecting")),avimpl.curr_status="reconnecting",CallImpl.updateUI(AV_RECONNECTING),e==UPSTREAM?(avimpl.reconnect_count=1,avimpl.pc.createOffer().then(avimpl.successOffer,avaction.sendLog,a),avimpl.reconnectinterval=setInterval(function(){avimpl.pc.createOffer().then(avimpl.successOffer,avaction.sendLog,a),avimpl.incrementRetryCount()},1e4)):setTimeout(function(){avimpl.stopOngoingCall(),avimpl.clear()},3e4)},avimpl.addcandidate=function(e){if(e.candidate){var a={};a.label=e.candidate.sdpMLineIndex,a.id=e.candidate.sdpMid,a.candidate=e.candidate.candidate,candstring=CommonUtil.toJSON(a);var t={action:"candidate"};t.wmsid=$Support.EmbedObj.vwmsid,t.lsuid=$Support.EmbedObj.attender,t.chid=$Support.EmbedObj.chatID,t.candidate=candstring,t.version="v3",$.ajax({url:$Support.getAjaxURL("makeav",dext),data:t,type:"POST"})}},avimpl.addremotestream=function(e){try{if("AUDIO"==avaction.TYPE||"SCREEN_SHARE"==avaction.TYPE){remoteAudio=document.createElement("audio");var a=document.getElementById("zaudiodiv");remoteAudio.id="remoteaudio",remoteAudio.autoplay=!0,a.appendChild(remoteAudio),$("body").append(a);var t=e.stream;e.streams&&(t=e.streams[0]);try{remoteAudio.srcObject=t}catch(e){remoteAudio.src=window.URL.createObjectURL(t)}return void(avimpl.remoteStream=t)}t=e.stream;e.streams&&(t=e.streams[0]);var i=document.createElement("video"),l=document.createElement("div");if(l.id="zvideodiv",l.className="zvideodiv",l.style.position="relative",i.id="remotevideo",i.autoplay=!0,i.srcObject=t,avimpl.remoteStream=t,l.appendChild(i),!$(window.parent.document).find("#siqvideo").length){var o=document.createElement("div");o.id="siqvideo",$(window.parent.document).find("body").append(o)}$(window.parent.document).find("#siqvideo").append(l)}catch(e){LSDebugger.postDebugInfo("Audio Call - Failed in Addremote session | Exception "+e+" | chid "+avimpl.chid,null,null,!0)}},avimpl.successOffer=function(e){avimpl.pc.setLocalDescription(e);var a=$Support.getAjaxURL("makeav",dext),t={};t.wmsid=$Support.EmbedObj.vwmsid,t.chid=$Support.EmbedObj.chatID,t.lsuid=$Support.EmbedObj.attender,t.session=CommonUtil.toJSON(e),t.type=e.type,t.version="v3",t.action="connectwithpeer",$.ajax({url:a,data:t,type:"POST"})},avimpl.toggleMute=function(e){var a=$(e);avimpl.localStream&&(avimpl.localStream.getAudioTracks()[0].enabled=!avimpl.localStream.getAudioTracks()[0].enabled),-1!==a.attr("class").indexOf("sqico-muteaudio")?(avimpl.mutestate=!0,$("#audiocall_mute").removeClass("sqico-muteaudio").addClass("sqico-microphone")):(avimpl.mutestate=!1,$("#audiocall_mute").removeClass("sqico-microphone").addClass("sqico-muteaudio"))},avimpl.stopOngoingCallOnChatEnding=function(){for(var e=document.querySelectorAll("#audio_callagain"),a=0;a<e.length;a++)e[a].style.display="none";if($Support.Util.toggleAudioCallIcon(),avimpl.hideCallIcon=!1,!avimpl.active)return $(".zsembd_audiocl").remove(),void avimpl.clear();avimpl.stopOngoingCall()},avimpl.stopOngoingCall=function(){if(avimpl.active){var e={},a=$Support.getAjaxURL("makeav",dext);e.action="endcall",e.wmsid=$Support.EmbedObj.vwmsid,e.chid=$Support.EmbedObj.chatID,e.cuid=$Support.EmbedObj.visitorID,e.duration=Date.now()-avimpl.starttime,e.lsuid=$Support.EmbedObj.attender,e.version="v3",avimpl.showRejectedBanner(),$.ajax({url:a,data:e,type:"POST"}),LSDebugger.postDebugInfo("Audio Call_v - Stop on going call| chid |"+avimpl.chid+" | reconect time "+avimpl.reconnecttime,null,null,!0),avimpl.clear()}},avimpl.endOnReload=function(){var e={},a=$Support.getAjaxURL("makeav",dext);e.action="endcall",e.wmsid=$Support.EmbedObj.vwmsid,e.chid=$Support.EmbedObj.chatID,e.cuid=$Support.EmbedObj.visitorID,e.duration=Date.now()-avimpl.starttime,e.lsuid=$Support.EmbedObj.attender,e.version="v3",avimpl.showRejectedBanner(),$.ajax({url:a,data:e,type:"POST"}),avimpl.clear()},avimpl.startCall=function(){$("#audiocall").hasClass("cmn_disable")||("SCREEN_SHARE"===avaction.TYPE&&window.webkitRTCPeerConnection?window.parent.$ZSIQUtil.getSourceID():avaction.checkMediaPermission())},avimpl.StartAfterMediaPermission=function(){var e=$Support.EmbedObj.chatID;avimpl.curr_status="outgoing",CallImpl.updateUI(AV_OUTGOINGCALL),EmbedSound.play("outgoingcall",60),avimpl.attenderimgurl=_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+$Support.EmbedObj.attenderimagefkey+"/photo.ls?nps=404";var a={};a.wmsid=$Support.EmbedObj.vwmsid,a.chid=e,a.action="initiate",a.type=avaction.TYPE,a.mode=AUDIOCALL,a.cuid=$Support.EmbedObj.visitorID,a.lsuid=$Support.EmbedObj.attender,a.version="v3",$.ajax({url:$Support.getAjaxURL("makeav",dext),data:a,type:"POST"}),$Support.LSDB.remove("avcallstatus_"+e),$Support.LSDB.set("avcallstatus_"+e,!0,5e4),$("#audiocall").addClass("cmn_disable"),$(".zsembd_audiocl").remove(),avimpl.startTimer(),avimpl.checkAndAppendUI($Temp.getOutgoingcallUI(avimpl.attenderimgurl,$Support.EmbedObj.attendername))},avimpl.terminateAudioCall=function(e){if(!$("#audiocall_outgoingend").hasClass("cmn_disable")){var a={};a.mode=AUDIOCALL,a.lsuid=$Support.EmbedObj.attender,a.department=$Support.EmbedObj.department,a.wmsid=$Support.EmbedObj.vwmsid,a.chid=$Support.EmbedObj.chatID,e&&(a.isapicall=!0),a.action="terminated",a.version="v3",$.ajax({url:$Support.getAjaxURL("makeav",dext),data:a,type:"POST"}),($Support.LSDB.get("ZLD_ApiAVCall")||e)&&(CallImpl.isCallWithChat=!0,$Support.LSDB.remove("ZLD_ApiAVCall"),$Support.requestRunning_missedvisitor=!1,clearTimeout($Support.waitTimer),clearTimeout(avimpl.ApiCalltimer),delete $Support.waitingtime,delete $Support.EmbedObj.question,$Support.removeCookie("ZLD"+$Support.EmbedObj.livelsid+"WAITING"),$Support.handleMissed("CALLENDED","2",!0)),avimpl.curr_status=null,avimpl.clear(),$Support.LSDB.remove("avcallstatus_"+$Support.EmbedObj.chatID);var t={attenderemail:$Support.EmbedObj.attenderemail};$Support.Util.handleCallbacks("call.cancelled",t),CallImpl.updateUI(AV_CALLAGAIN)}},avimpl.startTimer=function(){clearTimeout(avimpl.timer),avimpl.timer=setTimeout(function(){LSDebugger.postDebugInfo("Audio Call_v - Call missed | chid |"+avimpl.chid+" | reconect time "+avimpl.reconnecttime,null,null,!0);var e=$Support.getAjaxURL("makeav",dext),a={};a.wmsid=$Support.EmbedObj.vwmsid,a.chid=$Support.EmbedObj.chatID,a.mode=AUDIOCALL,a.lsuid=$Support.EmbedObj.attender,a.action="missed",a.version="v3",$.ajax({url:e,data:a,type:"POST"}),avimpl.clear(),avimpl.handleUserBusy(),$Support.LSDB.remove("avcallstatus_"+$Support.EmbedObj.chatID)},5e4)},avimpl.handleUserBusy=function(){LSDebugger.postDebugInfo("Audio Call_v - Handle call busy| chid |"+avimpl.chid+" | reconect time "+avimpl.reconnecttime,null,null,!0),CallImpl.updateUI(AV_USERBUSY),avimpl.curr_status=!1,EmbedSound.stop(),avimpl.checkAndAppendUI($Temp.getUserBusyUI(avimpl.attenderimgurl))},avimpl.showAudioRecorder=function(){document.querySelector(".zsembd_audiocl").remove(),avimpl.isAudioRecordingSupported()?(avimpl.audiorecorder&&avimpl.audiorecorder.destroy(),avimpl.checkAndAppendUI($Temp.getAudioRecordedUI(avimpl.attenderimgurl)),avimpl.audiorecorder=Recorder("HeadShotAudioRecord"),avimpl.audiorecorder.init()):avimpl.terminateAudioCall()},avimpl.isAudioRecordingSupported=function(){return window.AudioContext=window.AudioContext||window.webkitAudioContext,window.URL=window.URL||window.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.AudioContext&&navigator.getUserMedia&&window.URL&&window.Worker||(support=!1),!0},avimpl.showRejectedBanner=avimpl.endCall=avimpl.clear=function(){LSDebugger.postDebugInfo("Audio Call_v - Clear call| chid |"+avimpl.chid+" | reconect time "+avimpl.reconnecttime,null,null,!0);var e=function(e){var a=e.getTracks();for(var t in a)a[t].stop()};for(i in avimpl.pc&&avimpl.pc.close(),avimpl.localStream&&e(avimpl.localStream),avimpl.remoteStream&&e(avimpl.remoteStream),avimpl.mediaStream&&e(avimpl.mediaStream),EmbedSound.stop(),$("#zaudiodiv").remove(),$(window.parent.document).find("#siqvideo").remove(),$("#call_reconnection").remove(),$(".zsembd_audiocl").remove(),$("#audiocall").removeClass("cmn_disable"),$Support.LSDB.remove("ZLD_ApiAVCall"),avimpl.active=!1,$Support.getParent().$ZSIQWidgetUI.removeCallUI(),$Support.LSDB.remove("av_call"),avimpl.avparams)avimpl[avimpl.avparams[i]]=null;clearInterval(avimpl.intervaltime),clearInterval(avimpl.reconnectinterval),clearTimeout(avimpl.timer),clearTimeout(avimpl.ApiCalltimer),$Support.requestRunning_visitorfeedback=!1},avimpl.handleTimerUI=function(){avimpl.reconnecttime=isNaN(avimpl.reconnecttime)?0:avimpl.reconnecttime;var t,i,l=avimpl.reconnecttime;clearInterval(avimpl.intervaltime),avimpl.intervaltime=setInterval(function(){t=parseInt(l/60,10),i=parseInt(l%60,10),t=t<10?"0"+t:t,i=i<10?"0"+i:i;for(var e=document.querySelectorAll("#sqico-timer"),a=0;a<e.length;a++)e[a].textContent=t+":"+i;l++},1e3)},avimpl.checkAttenderBrowser=function(e){if($Support.isBotChat)$Support.Util.toggleAudioCallIcon();else{var a=$Support.EmbedObj.attenderuseragent;if(e&&(a=e.attender_useragent),!a)return!1;if(a.match(/Android/i)||a.match(/webOS/i)||a.match(/iPhone/i)||a.match(/iPad/i)||a.match(/iPod/i)||a.match(/BlackBerry/i)||a.match(/Windows Phone/i))return!0;if(a&&avaction.isBrowserSupported(a))return!0;$Support.Util.toggleAudioCallIcon(),$("#audiocall").remove()}},avimpl.handleMinimizeState=function(){avimpl.active||avimpl.callincoming?($Support.getParent().$ZSIQWidgetUI.updateCallUI(),avimpl.callincoming?$Support.getParent().$ZSIQWidgetUI.updateIncomingCallUI():$Support.getParent().$ZSIQWidgetUI.removeIncomingCallUI()):$Support.getParent().$ZSIQWidgetUI.removeCallUI()},avimpl.checkMediaPermission=function(e,a){$Support.Util.displayInfo(e),setTimeout(function(){$("#info_banr").remove()},1e4),avimpl.clear(),avimpl.chid=a},Element.prototype.sdrag=sdrag,avimpl.checkAndAppendUI=function(e){CallImpl.isCallWithChat||($("body").append(e),document.getElementsByClassName("zsembd_audiocl")[0].sdrag())},avimpl.handleStartChat=function(e){CallImpl.isCallWithChat=!1;var a=JSON.parse(e.msg.msg);"startchat"!==a.action||a.isvisitoraccess||window.parent._ZSIQ.JSAPI.broadcastMessage("chatstart",{})},avimpl.checkOngoingCall=function(){$Support.LSDB.get("av_call")?($Support.LSDB.remove("av_call"),CallImpl.isCallWithChat=!0,$Support.quitChat()):$Support.LSDB.get("avcallstatus_"+$Support.EmbedObj.chatID)&&avimpl.terminateAudioCall(),avimpl.checkCallIcon()},avimpl.checkCallIcon=function(){if(avimpl.hideCallIcon){$Support.Util.toggleAudioCallIcon();for(var e=document.querySelectorAll("#audio_callagain"),a=0;a<e.length;a++)e[a].style.display="none"}},avimpl.checkAudioCallButton=function(){var e=$Support.contentdiv.find("#msgmaindiv");Object.keys(SUPPORT_REPS).length;$Support.Util.toggleAudioCallIcon(e.length&&$Support.isChatExist()&&!$Support.isBotChat)},avimpl.shareScreen=function(){avaction.TYPE="SCREEN_SHARE",this.startCall()};function CallImpl(){}var AV_INCOMINGCALL=1,AV_OUTGOINGCALL=2,AV_CONNECTING=3,AV_ONGOING=4,AV_RECONNECTING=5,AV_USERBUSY=6,AV_BODY=7,AV_CALLAGAIN=8,AV_RATING=9,AV_FDBCK=10,AV_FDBCKSUCCESS=11,AV_RATINGSUCCESS=12,AV_FDBKRATINGSUCCESS=13,AV_STARTRECORD=14,AV_RECORDING=15,AV_PLAY=16,AV_RECORDSENTSUCCESS=17,AV_DEPT=18,AV_MINIMIZE=1,AV_MAXIMIZE=2,AV_FEDBCK=3;CallImpl.updateUI=function(e,l){if(this.isCallWithChat)switch(e){case AV_OUTGOINGCALL:CallUIHandler.getTemplate(AV_OUTGOINGCALL,AV_MINIMIZE);break;case AV_CONNECTING:CallUIHandler.getTemplate(AV_CONNECTING,AV_MINIMIZE);break;case AV_ONGOING:CallUIHandler.getTemplate(AV_ONGOING,AV_MINIMIZE);break;case AV_RECONNECTING:CallUIHandler.getTemplate(AV_RECONNECTING,AV_MINIMIZE);break;case AV_BODY:CallUIHandler.getTemplate(AV_BODY,AV_MAXIMIZE),$(".cal-bodycont").on("scroll",function(e){CallImpl.handlescroll()});break;case AV_USERBUSY:if(!avimpl.isAudioRecordingSupported()){avimpl.terminateAudioCall();break}CallUIHandler.getTemplate(AV_USERBUSY,AV_MINIMIZE),avimpl.audiorecorder&&avimpl.audiorecorder.destroy(),avimpl.audiorecorder=Recorder(),avimpl.audiorecorder.init();break;case AV_RATING:CallUIHandler.getTemplate(AV_RATING,AV_MINIMIZE);break;case AV_CALLAGAIN:CallUIHandler.getTemplate(AV_CALLAGAIN,AV_MAXIMIZE);break;case AV_RATINGSUCCESS:CallUIHandler.getTemplate(AV_RATINGSUCCESS,AV_MINIMIZE);break;case AV_FDBCK:CallUIHandler.getTemplate(AV_FDBCK,AV_FEDBCK),$(".cal-footer").on("keyup",function(){CallImpl.checkFeedbackMsgHgt()}).focus();break;case AV_FDBCKSUCCESS:CallUIHandler.getTemplate(AV_FDBCKSUCCESS,AV_MAXIMIZE);break;case AV_RECORDING:CallUIHandler.getTemplate(AV_RECORDING,AV_MINIMIZE,-1);break;case AV_PLAY:CallUIHandler.getTemplate(AV_PLAY,AV_MINIMIZE,-1);break;case AV_RECORDSENTSUCCESS:CallUIHandler.getTemplate(AV_RECORDSENTSUCCESS,AV_MINIMIZE,-1)}},CallImpl.handlescroll=function(){var e=$(".cal-bodycont").scrollTop();if($("#call_inptfields").height()+$(".dup_div").height()<e)return $(".cal-deflnk").addClass("scrl_fix"),void $(".adocal-cont").addClass("scrl_anim");$(".adocal-cont").css("padding-top",25-e/15+"px").removeClass("scrl_anim"),$(".cal-visimg ").css("height",60-e/7+"px").css("width",60-e/7+"px"),$(".cal-cmpname").css("font-size",20-e/35+"px"),$(".cal-deflnk").removeClass("scrl_fix"),"theme4"==CallImpl.getTheme()&&$(".thme-bgimg").css("height",60-e/5.8+"px")},CallImpl.handleDeptClick=function(e){$(".cal-bodycont").animate({scrollTop:$(".cal-bodycont").height()-$("#call_inptfields").height()+$(".cal-deflnk").height()+81},"500")},CallImpl.handleDeptSelect=function(e){if(!$(e).attr("status"))return!(e.title="Offline");$Support.EmbedObj.department=e.id,$("#call_deptlist").children().removeClass("dep-sel"),e.className+=" dep-sel",$(".cal-bodycont").animate({scrollTop:$("#call_deptlist").height()+70},200),$("#dept_strtcall").removeClass("bg-grn").removeClass("bg-ddd").addClass("bg-grn")},CallImpl.startCall=function(){this.isCallWithChat=!0,this.updateUI(AV_BODY)},CallImpl.getAttenderImgHtml=function(){var e=$Support.EmbedObj.attenderimagefkey;return e&&0!=e.split("_")[0]?'<div class="cal-visimg "><img src='+(e=_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+e+"/photo.ls?nps=404")+"></div>":'<div class="cal-visimg sqico-user"></div>'},CallImpl.compImgHtml=function(){var e=$Support.EmbedObj.clogo;return e?'<div class="cal-visimg "><img src='+e+"></div>":'<div class="cal-visimg sqico-user"></div>'},CallImpl.getCompImgHtmlCALFAQ=function(){return'<div class="faqcal-img"><img src='+$Support.EmbedObj.clogo+"></div>"},CallImpl.getAttenderImgCALFAQHtml=function(){var e=$Support.EmbedObj.attenderimagefkey;return e&&0!=e.split("_")[0]?'<div class="faqcal-img"><img src='+(e=_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+e+"/photo.ls?nps=404")+"></div>":'<div class="faqcal-img sqico-user"></div>'},CallImpl.checkAndStartCall=function(e){if(!$("#dept_strtcall").hasClass("bg-ddd")){var l=$("#call_inptfields");if(!$Support.Util.validateFields(l))return $(".cal-bodycont").animate({scrollTop:0},500),!1;""!=$("#visname").val().trim()&&($Support.EmbedObj.visitorname=$("#visname").val()),""!=$("#visemail").val().trim()&&($Support.EmbedObj.visitoremail=$("#visemail").val()),this.isCallWithChat=!0,CallImpl.updateUI(AV_OUTGOINGCALL),$Support.startChat()}},CallImpl.checkFeedbackMsgHgt=function(){var e=$Support.container;$("#faqcall")&&(e=$("#faqcall"));var l=e.find(".cal-footer"),a=e.find("#fdbkarea");l.removeAttr("style");var t=a[0].scrollHeight+2,i=140<t?{height:"140px",overflow:"auto"}:t<70?{height:"70px",overflow:"auto"}:{height:t+"px",overflow:"hidden"};l.css(i)},CallImpl.getCompValueForKey=function(e){return window.parent.$ZSIQWidget.getEmbedObject().cinfo[e]},CallImpl.isCallAloneEmbed=function(){return CallImpl.isCallWithChat},CallImpl.getAttenderName=function(){var e=$Support.EmbedObj.attendername;return e||""},CallImpl.handleSettingUI=function(e){if(0<$("#audio_setting",parent.document).length)return"none"===$("#audio_setting",parent.document).css("display")?void $("#audio_setting",parent.document).show():void $("#audio_setting",parent.document).hide();avaction.displaySettingUI()},CallImpl.getTheme=function(){var e=window.parent.$ZSIQWidget.getWidgetObject().calltheme;return e||"theme1"},CallImpl.getBackGndImg=function(e){return"theme4"!=this.getTheme()?"":'<div class="thme-bgimg" style="background-image:url('+("Comp"==e?$Support.EmbedObj.clogo:_SCHEMA+"://"+_EMBEDSERVERURL+"/"+_SCREENNAME+"/userimg/"+$Support.EmbedObj.attenderimagefkey+"/photo.ls?nps=404")+')"></div>'},CallImpl.checkInputFields=function(){var e=$("#callfaq_inptfields");if(!$Support.Util.validateFields(e))return!1;""!=$("#visname").val().trim()&&($Support.EmbedObj.visitorname=$("#visname").val()),""!=$("#visemail").val().trim()&&($Support.EmbedObj.visitoremail=$("#visemail").val()),CallUIHandler.getTemplate(AV_DEPT,AV_MAXIMIZE)},CallImpl.checkDeptFields=function(){$("#dept_strtcall").parent().hasClass("fcal-enb")&&(this.isCallWithChat=!0,CallImpl.updateUI(AV_OUTGOINGCALL),$Support.startChat())},CallImpl.handleFAQClick=function(e){$("body").find("#faqcall").remove(),e&&$("body").append($Temp.getOnCallUI(avimpl.attenderimgurl)),$Support.container.find(".sqico-faqico").click(),document.getElementsByClassName("zsembd_audiocl")[0].sdrag()};function CallUIHandler(){}CallUIHandler.classmapp={},CallUIHandler.classmapp[AV_INCOMINGCALL]="",CallUIHandler.classmapp[AV_OUTGOINGCALL]="outcal",CallUIHandler.classmapp[AV_CONNECTING]="cal-recnct",CallUIHandler.classmapp[AV_ONGOING]="outcal",CallUIHandler.classmapp[AV_RECONNECTING]="cal-recnct",CallUIHandler.classmapp[AV_USERBUSY]="",CallUIHandler.classmapp[AV_RATING]="pL25",CallUIHandler.classmapp[AV_USERBUSY]="";var CALLALONE=1,CALLPLUSFAQ=2,CHATPLUSCALLPLUSFAQ=3;CallUIHandler.getTemplate=function(l,a,e){if("FAQPLUSCALL"!=CallImpl.getTheme()){switch((-1==e?$Support.container.find("#audiorec"):$Support.container.find("#audiocal")).replaceWith(this.mapTemp(l)),handleDrag(),setTimeout(function(){$(".zsembd_audiocl").hide()},1),a){case AV_MINIMIZE:$Support.getParent().$ZSIQWidgetUI.handleMinimizeCall();break;case AV_MAXIMIZE:$Support.getParent().$ZSIQWidgetUI.handleMinCall();break;case AV_FEDBCK:$Support.getParent().$ZSIQWidgetUI.handlefbCall()}}else 0<$("body").find("#faqcall").length?$("body").find("#faqcall").replaceWith(this.getTempForCALLPLUSFAQ(l,CALLPLUSFAQ)):$("body").prepend(this.getTempForCALLPLUSFAQ(l,CALLPLUSFAQ))},CallUIHandler.mapTemp=function(l){return"theme5"==CallImpl.getTheme()?this.getTempForSignChat(l):CallUIHandler.classmapp.hasOwnProperty(l)?this.getTempForThemes(l):this.getRequiredHtml(l)},CallUIHandler.getRequiredHtml=function(l,a){var e="";switch(l){case AV_INCOMINGCALL:e=a==CALLPLUSFAQ?this.getFQCALINCallhtml():this.getIncommingCallHtml();break;case AV_OUTGOINGCALL:e=a==CALLPLUSFAQ?this.getFQCALOUTCallhtml():this.getOutgoingCallHtml();break;case AV_CONNECTING:e=a==CALLPLUSFAQ?this.getFQCALConnectingCallhtml():this.getConnectingHtml();break;case AV_ONGOING:e=a==CALLPLUSFAQ?this.getFQCALOnCallhtml():this.getOnGoingCallHtml();break;case AV_RECONNECTING:e=this.getReConnectingHtml();break;case AV_USERBUSY:e=a==CALLPLUSFAQ?this.getFQCALUserBusyhtml():this.getUserBusyHtml();break;case AV_RATING:e=a==CALLPLUSFAQ?this.getFQCALRatinghtml():this.getRatingHtml();break;case AV_BODY:e=a==CALLPLUSFAQ?this.getFQCALBodyhtml():this.getBodyHtml();break;case AV_DEPT:e=this.getFQCALDepthtml();break;case AV_CALLAGAIN:e=a==CALLPLUSFAQ?this.getFQCALCallAgainhtml():this.getCallCancelledHtml();break;case AV_RATINGSUCCESS:e=this.getRatingSuccessHtml();break;case AV_FDBCK:e=a==CALLPLUSFAQ?this.getFQCALFDBKhtml():this.getFdbkratingHtml();break;case AV_FDBCKSUCCESS:e=a==CALLPLUSFAQ?this.getFQCALFDBKSucesshtml():this.getFdbkSuccessHtml();break;case AV_RECORDING:e=a==CALLPLUSFAQ?this.getFQCALRecordhtml():this.getRecordingHtml();break;case AV_PLAY:e=a==CALLPLUSFAQ?this.getFQCALAVPlayhtml():this.getRecordAVPlayHtml();break;case AV_RECORDSENTSUCCESS:e=a==CALLPLUSFAQ?this.getFQCALRecordSuccesshtml():this.getRecordSuccessHtml()}return e},CallUIHandler.getTempForThemes=function(l){return['<div class="cal-wrap" id="'+(l==AV_USERBUSY?"audiorec":"audiocal")+'"><div class="posrel dib-mid">','<div class="cal-widgt '+CallImpl.getTheme()+" "+CallUIHandler.classmapp[l]+'">','<div class="actbtn"><em class="sqico-min sqico-settings" id="call_stngicon" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI(this)"></em></div>',this.getRequiredHtml(l),"</div>","</div></div>"].join("")},CallUIHandler.getTempForSignChat=function(l){return['<div class="cal-wrap" id="audiocal"><div class="posrel dib-mid">','<div class="cal-widgt '+CallImpl.getTheme()+" "+CallUIHandler.classmapp[l]+'">','<div class="actbtn"><em class="sqico-min sqico-settings" id="call_stngicon" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI(this)"></em></div>',this.getRequiredHtml(l),"</div></div>"].join("")},CallUIHandler.getTempForCALLPLUSFAQ=function(l,a){return['<div class="faq-cal" id="faqcall"> <div class="fcal-actnbtn"> <em id="call_stngicon" class="sqico-settings dib-mid curP" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI()"></em> <em class="sqico-min siq-minimize-icon dib-mid curP" title="'+LSResource.getRealValue("common.minimize")+'" documentclick="min_iframe"></em> </div><div class="faqcal-wndw">',this.getRequiredHtml(l,a),"</div></div>"].join("")},CallUIHandler.getOutgoingCallHtml=function(){return['<div class="posrel usr-imginfo"> '+CallImpl.compImgHtml()+" </div> ",'<div class="cal-vstrdetl"> <nav class="cal-actvevstr elips font18">'+CallImpl.getCompValueForKey("name")+'</nav> <p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.calling")+"</p> </div>",' <div class="cal-optns posrel textR"> <span id="audiocall_mute" class="sqico-microphone bg-aaa" onclick="avimpl.toggleMute(this)"></span> <span class="sqico-call cal-rjct cmn_disable" id="audiocall_outgoingend" onclick="avimpl.terminateAudioCall(true);"></span> </div>'].join("")},CallUIHandler.getIncommingCallHtml=function(){return['<div class="posrel usr-imginfo"> '+CallImpl.getAttenderImgHtml()+" </div>",'<div class="cal-vstrdetl"> <nav class="cal-actvevstr elips font18">'+CallImpl.getAttenderName()+'</nav> <p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.reconnecting")+"</p> </div> ",'<div class="cal-optns posrel textR"> <span id="audiocall_mute" class="sqico-microphone bg-aaa" onclick="avimpl.toggleMute(this)"></span> <span class="sqico-call cal-rjct" onclick="avimpl.stopOngoingCall()"></span> </div>'].join("")},CallUIHandler.getOnGoingCallHtml=function(){return[' <div class="posrel usr-imginfo"> '+CallImpl.getAttenderImgHtml()+" </div>",' <div class="cal-vstrdetl"> <nav class="cal-actvevstr elips font18">'+$Support.EmbedObj.attendername+'</nav> <p class="cal-usrdesc elips" id="sqico-timer">00:00</p> </div>',' <div class="cal-optns posrel textR"> <span id="audiocall_mute" class="sqico-microphone bg-aaa" onclick="avimpl.toggleMute(this)"></span> <span class="sqico-call cal-rjct" onclick="avimpl.stopOngoingCall();"></span> </div>'].join("")},CallUIHandler.getConnectingHtml=function(){return['<div class="posrel usr-imginfo"> '+CallImpl.getAttenderImgHtml()+" </div>",'<div class="cal-vstrdetl"> <nav class="cal-actvevstr elips font18">'+CallImpl.getAttenderName()+'</nav> <p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.connecting")+"</p> </div> ",'<div class="cal-optns posrel textR"> <span id="audiocall_mute" class="sqico-microphone bg-aaa" onclick="avimpl.toggleMute(this)"></span> <span class="sqico-call cal-rjct" onclick="avimpl.terminateAudioCall(true)"></span> </div>'].join("")},CallUIHandler.getReConnectingHtml=function(){return['<div class="posrel usr-imginfo"> '+CallImpl.getAttenderImgHtml()+" </div>",'<div class="cal-vstrdetl"> <nav class="cal-actvevstr elips font18">'+CallImpl.getAttenderName()+'</nav> <p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.reconnecting")+"</p> </div> ",'<div class="cal-optns posrel textR"> <span id="audiocall_mute" class="sqico-microphone bg-aaa" onclick="avimpl.toggleMute(this)"></span> <span class="sqico-call cal-rjct" onclick="avimpl.stopOngoingCall()"></span> </div>'].join("")},CallUIHandler.getUserBusyHtml=function(){return['<div class="posrel usr-imginfo">'+CallImpl.compImgHtml()+"</div>",'<div class="cal-vstrdetl"><nav class="cal-actvevstr elips font18">'+LSResource.getRealValue("av.info.oprbusy")+'</nav><p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.voicemsg")+"</p></div>",'<div class="cal-optns posrel textR"><span cntrl="startRecord" class="sqico-record bg-aaa"></span></div>'].join("")},CallUIHandler.getRatingHtml=function(){return['<div class="posrel usr-imginfo">'+CallImpl.getAttenderImgHtml()+"</div>",'<div class="cal-vstrdetl textC"><nav class="cal-actvevstr elips font16">'+LSResource.getRealValue("av.info.rating")+'</nav><div class="rating font18">'+this.getStarHTML()+'</div><p class="elips c777 font14">'+LSResource.getRealValue("av.info.ratigclick")+"</p>","</div></div>"].join("")},CallUIHandler.getStarHTML=function(l){for(var a="",e=null!=l?"":'documentclick="sendCallRating"',s=0;s<5;s++)a+='<span class="sqico-star'+(s===l?" sel":"")+'" '+e+"></span>";return a},CallUIHandler.getCallCancelledHtml=function(){return['<div class="cal-wrap" id="audiocal"> <div class="adocal-cont dtfix '+CallImpl.getTheme()+'"> '+CallImpl.getBackGndImg("Comp")+'<div class="header">',' <div class="actbtn"><em class="sqico-min siq-minimize-icon" title="'+LSResource.getRealValue("ne.title.minimize")+'" documentclick="min_iframe"></em></div> '+CallImpl.compImgHtml()+' <div> <div class="cal-cmpname font20 fontB">'+CallImpl.getCompValueForKey("name")+'</div> <div class="cal-cmpdesc lH22 font14"></div> </div> </div>',' <div class="cal-bodycont posrel"> <p class="cal-weldesc lH22 c333">'+CallImpl.getCompValueForKey("desc")+'</p> <div class="sqico-call bg-grn mA" onclick="$Support.startChat()"></div> </div> </div> </div>'].join("")},CallUIHandler.getFdbkratingHtml=function(){return['<div class="cal-wrap" id="audiocal"> <div class="adocal-cont dtfix '+CallImpl.getTheme()+' cal-oflne" style="height:354px;"> '+CallImpl.getBackGndImg()+' <div class="header">',' <div class="actbtn"><em class="sqico-min siq-minimize-icon" title="'+LSResource.getRealValue("ne.title.minimize")+'" documentclick="min_iframe"></em></div> <div class="posrel dib-mid"> '+CallImpl.getAttenderImgHtml()+'<em class="sqico-star usr-rtng"><em class="rtng-val">'+$Support.rating+'</em></em></div> <div> <div class="cal-cmpname font20 fontB">'+$Support.EmbedObj.attendername+"</div> </div> </div>",' <div class="cal-bodycont posrel"> <div class="ofln-msg mT5">'+LSResource.getRealValue("av.info.ratingsuccess")+'</div> </div> <div class="cal-footer" style="height:70px;"> <textarea class="bg-f6 font13 c333 lH20" dockeyup="feedback" dockeydown="textarea" id="fdbkarea" data-validate="required" placeholder="'+LSResource.getRealValue("av.info.fdkbckmsg")+'" autofocus></textarea> <div class="sqico-calsend fdbak-send msg-send" documentclick="sendCallFb"></div> </div> </div> </div>'].join("")},CallUIHandler.getFdbkSuccessHtml=function(){return['<div class="cal-wrap" id="audiocal"> <div class="adocal-cont dtfix '+CallImpl.getTheme()+' cal-oflne"> '+CallImpl.getBackGndImg()+' <div class="header">',' <div class="actbtn"><em class="sqico-min siq-minimize-icon" title="'+LSResource.getRealValue("ne.title.minimize")+'" documentclick="min_iframe"></em></div> <div class="posrel dib-mid"> '+CallImpl.getAttenderImgHtml()+'<em class="sqico-star usr-rtng"><em class="rtng-val">'+$Support.rating+'</em></em></div> <div> <div class="cal-cmpname font20 fontB">'+$Support.EmbedObj.attendername+"</div> </div> </div>",' <div class="cal-bodycont posrel"> <div class="ofln-msg mT5">'+LSResource.getRealValue("av.info.ratingandfbk")+'</div> <div class="sqico-call bg-grn mT25 mA" onclick="$Support.startChat()"></div> </div> </div> </div>'].join("")},CallUIHandler.getRecordingHtml=function(){return['<div class="cal-wrap ado-rec" id="audiorec"><div class="cal-widgt '+CallImpl.getTheme()+'">','<div class="actbtn"><em class="sqico-min sqico-settings" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI(this)"></em></div><div class="posrel usr-imginfo"> '+CallImpl.compImgHtml()+'</div><div class="cal-vstrdetl"><p class="cal-vstmsg" id="sqico-timer">00:00:00</p><p class="cal-usrdesc elips">'+LSResource.getRealValue("av.info.recordingaudio")+"</p></div>",'<div class="vc-recrd pR10" id="sqico-canvas"></div><div class="cal-optns posrel textR"><div class="recd-optn" cntrl="stopRecord" ></div><em class="font14 rec-timer" id="sqico-remtimer">00:00</em></div></div></div>'].join("")},CallUIHandler.getRecordAVPlayHtml=function(){return['<div class="cal-wrap" id="audiorec"><div class="posrel dib-mid"><div class="cal-widgt '+CallImpl.getTheme()+'">','<div class="actbtn"><em class="sqico-min sqico-settings" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI(this)"></em></div><div class="posrel usr-imginfo"> '+CallImpl.compImgHtml()+"</div>",'<div class="cal-vstrdetl"><div id="slide" ><div id="fill" style="width: 2px;"></div><div id="thumb" style="left: 0px;"></div></div><div class="cal-usrdesc mT5"><div cntrl="playRecord" class="sqico-play font12 mR10 curP"></div><div id="sqico-timer" style="display:inline;">00:00 / 00:00</div></div></div><div class="cal-optns posrel textR"><span class="sqico-record  bg-aaa font19" cntrl="startRecord"></span><span class="sqico-videosend bg-blue mL20" cntrl="uploadRecord"></span></div></div></div></div>'].join("")},CallUIHandler.getRecordSuccessHtml=function(){return['<div class="cal-wrap" id="audiocal"><div class="posrel dib-mid"><div class="cal-widgt '+CallImpl.getTheme()+' pL25">','<div class="actbtn"><em class="sqico-min sqico-settings" title="'+LSResource.getRealValue("common.settings")+'" onclick="CallImpl.handleSettingUI(this)"></em></div><div class="posrel usr-imginfo"> '+CallImpl.compImgHtml()+"</div>",'<div class="cal-vstrdetl"><p class="cal-vstmsg textC">'+LSResource.getRealValue("av.info.voicesent")+'</p></div><div class="cal-optns posrel textR"><span class="sqico-call cal-acpt" onclick="$Support.startChat()"></span></div></div></div></div>'].join("")},CallUIHandler.getBodyHtml=function(){var l=$Support.EmbedObj,a=($Support.EmbedObj.status,l.eprops);return['<div class="cal-wrap" id="audiocal"> <div class="adocal-cont dtfix '+CallImpl.getTheme()+' ad-dep"> '+CallImpl.getBackGndImg("Comp")+' <div class="header"> <div class="actbtn"><em class="sqico-min siq-minimize-icon" title="'+LSResource.getRealValue("ne.title.minimize")+'" documentclick="min_iframe"></em></div> '+CallImpl.compImgHtml()+' <div> <div class="cal-cmpname font20 fontB">'+CallImpl.getCompValueForKey("name")+'</div> <div class="cal-cmpdesc font14">'+LSResource.getRealValue("av.info.welcomemsg")+"</div> </div> </div>",'<div class="cal-bodycont posrel"> <div class="vistr-dtlfld" id=call_inptfields>',JSON.parse(a.isname[0])?this.getNameHTML(a.isname[1].ismandatory):"",JSON.parse(a.isemail[0])?this.getEmailHTML(a.isemail[1].ismandatory):"",'</div> <div class="mT15">',1<$Support.EmbedObj.deptlist.length?' <div class="dup_div posrel mT20"><div class="cal-deflnk mT20 curP font16" onclick="CallImpl.handleDeptClick()">'+LSResource.getRealValue("av.info.deptchoose")+"</div></div>":'<div class="sqico-call bg-grn mA" onclick="CallImpl.checkAndStartCall()"></div>',1<$Support.EmbedObj.deptlist.length&&(l.department,1)?this.getDeptList():"","</div></div> </div>"].join("")},CallUIHandler.getNameHTML=function(l,a){a=a||"";var e="optional",s="";e="required",LSResource.getRealValue("ne.required"),s=' docblur="required"';var t=$Support.Util.isInValidVisitorName($Support.EmbedObj.visitorname)?"":$Support.EmbedObj.visitorname,i=t?"dN":"";return'<label class="posrel"><input onkeyup="CallUIHandler.handletextfiled(this)" type="text" value="'+getEncodedText(t)+'" id="visname" class="siq-input-text-box" '+s+a+' info="name" autofocus purpose="visitorname" data-validate="'+e+' charlimit 100"/><span class="ph-mntry '+i+'">'+LSResource.getRealValue("ne.entername")+this.getRequiredHTML()+'</span><em class="sqico-invalid" title="'+LSResource.getRealValue("ne.required")+'"></em></label>'},CallUIHandler.getEmailHTML=function(l){LSResource.getRealValue("ne.required");var a=$Support.EmbedObj.visitoremail||"";return['<label class="posrel"><input onkeyup="CallUIHandler.handletextfiled(this)" type="text" id="visemail" value="'+a+'" class="siq-input-text-box" info="email" purpose="visitoremail" data-validate="required email charlimit 100" docblur="email" /><span class="ph-mntry '+(a?"dN":"")+'">'+LSResource.getRealValue("ne.enteremail")+this.getRequiredHTML()+'</span><em class="sqico-invalid" title="'+LSResource.getRealValue("ne.required")+'"></em></label>',this.getFetchMailHTML()].join("")},CallUIHandler.handletextfiled=function(l){$(l).siblings("span").addClass("dN"),""==l.value&&$(l).siblings("span").removeClass("dN")},CallUIHandler.getPhoneHTML=function(l){var a="optional",e="",s="";return"true"===l&&(a="required",e=" ("+LSResource.getRealValue("ne.required")+")",s=' docblur="required"'),'<div custom="phone"><input type="text" value="'+($Support.EmbedObj.visitorphone||"")+'" class="siq-input-text-box" id="visphone" placeholder="'+LSResource.getRealValue("ne.enterphone")+e+'" class="" '+s+' info="phone" purpose="visitorphone"  data-validate="'+a+' phone"/>'+this.getRequiredHTML("*")+"</div>"},CallUIHandler.getRequiredHTML=function(l){return l=l||"",'<em class="req siq-required" title="'+LSResource.getRealValue("ne.required")+'">*</em>'},CallUIHandler.getFetchMailHTML=function(l){return $Support.EmbedObj.fetchid?'<div class="fetchmail" id="fetchmail"><span class="sqico-fb"></span><span class="sqico-gplus"></span></div>':""},CallUIHandler.getDeptList=function(){var l="",a=$Support.EmbedObj.deptlist;for(i in a){var e=a[i].DNAME;l+='<span class="depmnt-items font14 curP" onclick="CallImpl.handleDeptSelect(this)" status="'+a[i].STATUS+'" id="'+a[i].ID+'">'+e+"</span>"}return['<div class="pL15" id="call_deptlist">',l,'</div> <div class="sqico-call bg-ddd mA mT25" id=dept_strtcall onclick="CallImpl.checkAndStartCall(this)"></div> '].join("")},CallUIHandler.getFQCALINCallhtml=function(){},CallUIHandler.getFQCALBodyhtml=function(){var l=$Support.EmbedObj,a=($Support.EmbedObj.status,l.eprops);return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getCompImgHtmlCALFAQ()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc">'+CallImpl.getCompValueForKey("desc")+"</p> </div>",'<div class="faq-cal-sec font14"> <div class="vistr-dtlfld" id="callfaq_inptfields">',JSON.parse(a.isname[0])?this.getNameHTML(a.isname[1].ismandatory):"",JSON.parse(a.isemail[0])?this.getEmailHTML(a.isemail[1].ismandatory):"",'</div> <div class="faqcal-btn cfff curP" onclick="CallImpl.checkInputFields(this)">'+LSResource.getRealValue("av.info.deptchoose")+"</div></div>"].join("")},CallUIHandler.getFQCALDepthtml=function(){var l="",a=$Support.EmbedObj.deptlist;for(i in a){var e=a[i].DNAME;l+='<span status="'+a[i].STATUS+'" call-dept="" id="'+a[i].ID+'">'+e+"</span>"}return setTimeout(function(){$("#FQCLdeptlist").on("click","[call-dept]",function(){$("#FQCLdeptlist").find("[call-dept]").removeClass("fcal-sel"),$(this).addClass("fcal-sel"),$Support.EmbedObj.department=this.id,$("#dept_strtcall").parent().removeClass("fcal-dis").addClass("fcal-enb")})},2),['<div class="faqcal-head"> <div class="posrel fcal-usrdetl">'+CallImpl.getCompImgHtmlCALFAQ()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc">'+CallImpl.getCompValueForKey("desc")+"</p> </div>",'<div class="faqcal-sec font14 textL"><div class="fcal-dephed dib-mid">'+LSResource.getRealValue("av.info.deptchoose")+'</div><div class="fcal-dept mT15" style="" id="FQCLdeptlist">',l,'</div></div> <div class="fcal-btnoptn dib-mid mT25 fcal-dis"><span class="fcal-btns sqico-call" onclick="CallImpl.checkDeptFields(this)" id="dept_strtcall"></span> <div class="cddd textC mT10">'+LSResource.getRealValue("av.info.call")+"</div> </div>"].join("")},CallUIHandler.getFQCALOUTCallhtml=function(){return['<div class="faqcal-head"> <div class="posrel fcal-usrdetl">'+CallImpl.getCompImgHtmlCALFAQ()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc">'+LSResource.getRealValue("av.info.calling")+"</p> </div>",'<div class="dtfix w100"> <div class="fcal-btnoptn"> <span id="audiocall_mute" onclick="avimpl.toggleMute(this)" class="fcal-btns sqico-microphone"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.mute")+'</div> </div> <div class="fcal-btnoptn dib-mid mT40"> <span class="fcal-btns sqico-call cal-rjct" onclick="avimpl.terminateAudioCall(true);"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.end")+"</div> </div> </div>"].join("")},CallUIHandler.getFQCALConnectingCallhtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getAttenderImgCALFAQHtml()+' </div><div class="font22 cfff faqcal-usr">'+CallImpl.getAttenderName()+'</div> <p class="cfff lH22 font16 faqcal-desc">'+LSResource.getRealValue("av.info.connecting")+"</p> </div>",'<div class="dtfix w100"> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-microphone" id="audiocall_mute" onclick="avimpl.toggleMute(this)"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.mute")+'</div> </div> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-faqico" onclick="CallImpl.handleFAQClick()"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.faq")+'</div> </div> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-call cal-rjct" onclick="avimpl.terminateAudioCall(true)"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.end")+"</div> </div> </div>"].join("")},CallUIHandler.getFQCALOnCallhtml=function(){return['<div class="faqcal-head"> <div class="posrel fcal-usrdetl">'+CallImpl.getAttenderImgCALFAQHtml()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getAttenderName()+'</div> <p class="cfff lH22 font16 faqcal-desc" id="sqico-timer">00:00</p> </div>','<div class="dtfix w100"> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-microphone" id="audiocall_mute" onclick="avimpl.toggleMute(this)"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.mute")+'</div> </div> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-faqico" onclick="CallImpl.handleFAQClick(true)"></span> <div class="cfff textC mT10 fcal-txt" >'+LSResource.getRealValue("av.info.faq")+'</div> </div> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-call cal-rjct" onclick="avimpl.stopOngoingCall()"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.end")+"</div> </div> </div>"].join("")},CallUIHandler.getFQCALRatinghtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getAttenderImgCALFAQHtml()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getAttenderName()+"</div></div>",'<div class="fcal-fdback textC"><div class="ofln-msg mT25">'+LSResource.getRealValue("av.info.rating")+'</div> <div class="rating mT30">'+this.getStarHTML()+'</div><p class="elips mT20 cfff font14">'+LSResource.getRealValue("av.info.ratingclick")+"</p>"].join("")},CallUIHandler.getFQCALFDBKhtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl">'+CallImpl.getAttenderImgCALFAQHtml()+'<em class="sqico-star usr-rtng bg-999"><em class="rtng-val cfff">'+$Support.rating+'</em></em></div><div class="font22 cfff faqcal-usr">'+CallImpl.getAttenderName()+"</div></div>",'<div class="ofln-msg mT25">'+LSResource.getRealValue("av.info.ratingsuccess")+'</div><div class="cal-footer bgfff" style="height:70px;"> <textarea class="bgfff font13 c333 lH20" dockeyup="feedback" dockeydown="textarea" id="fdbkarea" data-validate="required" placeholder="'+LSResource.getRealValue("av.info.fdkbckmsg")+'" autofocus></textarea> <div class="sqico-calsend fdbak-send msg-send" documentclick="sendCallFb"></div></div>'].join("")},CallUIHandler.getFQCALFDBKSucesshtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getAttenderImgCALFAQHtml()+'</div><div class="font22 cfff faqcal-usr">'+CallImpl.getAttenderName()+"</div></div>",' <div class="ofln-msg mT25">'+LSResource.getRealValue("av.info.ratingandfbk")+' </div> <div class="fcal-btnoptn"><span class="fcal-btns sqico-call bg-grn mT25" onclick="$Support.startChat()"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.callback")+"</div></div>"].join("")},CallUIHandler.getFQCALCallAgainhtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getCompImgHtmlCALFAQ()+' </div><div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc">'+CallImpl.getCompValueForKey("desc")+"</p> </div>",'<div class="fcal-btns sqico-call bg-grn mT25" onclick="$Support.startChat()"></div>'].join("")},CallUIHandler.getFQCALUserBusyhtml=function(){return['<div class="faqcal-head"> <div class="posrel fcal-usrdetl">'+CallImpl.getCompImgHtmlCALFAQ()+'</div> <div class="font22 cfff faqcal-usr">'+LSResource.getRealValue("av.info.oprbusy")+' </div><p  class="cfff lH22 font16 faqcal-desc elips">'+LSResource.getRealValue("av.info.voicemsg")+"</p></div>",'<div class="dtfix w100"> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-record" cntrl="startRecord"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.voicemsgtxt")+'</div> </div> <div class="fcal-btnoptn"> <span class=" fcal-btns sqico-faqico" onclick="CallImpl.handleFAQClick()"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.faq")+'</div> </div> <div class="fcal-btnoptn"> <span class="fcal-btns sqico-call bg-grn" onclick="$Support.startChat()"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.callback")+"</div> </div> </div>"].join("")},CallUIHandler.getFQCALRecordhtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getCompImgHtmlCALFAQ()+' </div><div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc" id="sqico-timer">00:00:00</p> </div>','<div class="dtfix w100"><div class="vc-recrd" id="sqico-canvas" style="margin:-30px;"></div><div class="posrel" id="faqrcd_play" style="display:none;"> <div class="fcal-btnoptn"><span class="fcal-btns sqico-record  bg-aaa font22" cntrl="startRecord"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.voicemsgtxt")+'</div></div> <div class="fcal-btnoptn"><span cntrl="playRecord" class="fcal-btns sqico-play"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.play")+'</div></div> <div class="fcal-btnoptn"><span class="fcal-btns sqico-voicesend cal-send" cntrl="uploadRecord"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.send")+'</div></div></div><div id="faqrcd"> <div class="fcal-btnoptn"><div class="rec-tmr font18 mB10" id="sqico-remtimer">00:00</div><span class="fcal-btns str-recd" cntrl="stopRecord"></span> <div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.stop")+"</div></div> </div></div>"].join("")},CallUIHandler.getFQCALAVPlayhtml=function(){return['<div class="faqcal-head"> <div class="posrel fcal-usrdetl">'+CallImpl.getCompImgHtmlCALFAQ()+'</div> <div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div><p id="sqico-timer" style="display:inline;">00:00</p></div>','<div class="cal-vstrdetl"><div class="vc-recrd" id="sqico-canvas" style="margin:-30px;"></div></div><div class="cal-optns posrel textR"> <div class="fcal-btnoptn"><span class="fcal-btns sqico-record  bg-aaa" cntrl="startRecord"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.voicemsgtxt")+'</div></div> <div class="fcal-btnoptn"><span cntrl="playRecord" class="fcal-btns sqico-play"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.play")+'</div></div> <div class="fcal-btnoptn"><span class="fcal-btns sqico-voicesend cal-send" cntrl="uploadRecord"></span><div class="cfff textC mT10 fcal-txt">'+LSResource.getRealValue("av.info.send")+"</div></div></div></div></div></div>"].join("")},CallUIHandler.getFQCALRecordSuccesshtml=function(){return['<div class="faqcal-head"><div class="posrel fcal-usrdetl"> '+CallImpl.getCompImgHtmlCALFAQ()+' </div><div class="font22 cfff faqcal-usr">'+CallImpl.getCompValueForKey("name")+'</div> <p class="cfff lH22 font16 faqcal-desc">'+LSResource.getRealValue("av.info.voicesent")+"</p> </div>",'<div class="fcal-btns sqico-call bg-grn mT25" onclick="$Support.startChat()"></div>'].join("")},CallUIHandler.getInitialHtml=function(){return['<div class="cal-wrap" id="audiocal"><div class="adocal-cont '+CallImpl.getTheme()+'">'+CallImpl.getBackGndImg("Comp")+' <div class="header">',' <div class="actbtn"><em class="sqico-min siq-minimize-icon" title="'+LSResource.getRealValue("common.minimize")+'" documentclick="min_iframe"></em></div> '+CallImpl.compImgHtml()+" <div> ",'<div class="cal-cmpname font20 fontB elips" title="'+CallImpl.getCompValueForKey("name")+'">'+CallImpl.getCompValueForKey("name")+'</div> <div class="cal-cmpdesc"></div> </div> </div>','<section class="cal-bodycont"> <p class="cal-weldesc c333 lH22">'+CallImpl.getCompValueForKey("desc")+'</p> <div class="cal-deflnk lH22 dib-mid curP" onclick="CallImpl.startCall()">'+LSResource.getRealValue("av.info.callnow")+"</div> </section> </div> </div>"].join("")};var Recorder=function(){"use strict";var c,n,a,s,d,i,p,o,u,g,l,f,m,v,h=0,y=!0,w=!1,q=0,C=0,S=function(){},L=function(){},A=function(){},e=function(){return window.AudioContext=window.AudioContext||window.webkitAudioContext,window.URL=window.URL||window.webkitURL,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,window.AudioContext&&navigator.getUserMedia&&window.URL&&window.Worker||(support=!1),!0},I=function(){c.addEventListener("click",t)},R=function(){c.removeEventListener("click",t)},t=function(e){var t=e.target,r=t.getAttribute("cntrl");m[r]&&m[r](t)},r=function(){var e=URL.createObjectURL(new Blob(["( "+j+" )()"]),{type:"javascript"});(n=new Worker(e)).onmessage=function(e){"view"==e.data.key&&(i=e.data.value)}};v=function(e){var t=f[e];t.trigger.classList.add(t.add),t.trigger.classList.remove(t.remove),t.trigger.setAttribute("cntrl",t.cntrl)};var b=function(){(c=document.querySelector(".zsembd_audiocl")).sdrag(),I(),g=c.querySelector("#sqico-timer");var e,t,r,n=c.querySelector("#sqico-canvas");n.innerHTML='<canvas id="level_audio2"></canvas>',n=n.querySelector("#level_audio2"),p={elem:n,ctx:n.getContext("2d"),step:-4,bufferLength:null,dataArray:null,stepincrement:2,waveTrigger:null,lineX:0},e=c.querySelector('[cntrl="settings"]'),t=c.querySelector('[cntrl="playRecord"]'),r=c.querySelector('[cntrl="stopRecord"]'),f={start:{trigger:e,cntrl:"startRecord",add:"sqico-recorder",remove:"sqico-settings"},stop:{trigger:r,cntrl:"stopRecord",add:"sqico-chkbx",remove:"sqico-videosend"},setting:{trigger:e,cntrl:"settings",add:"sqico-settings",remove:"sqico-recorder"},play:{trigger:t,cntrl:"playRecord",add:"sqico-play",remove:"sqico-pause"},pause:{trigger:t,cntrl:"pauseRecord",add:"sqico-pause",remove:"sqico-play"},send:{trigger:r,cntrl:"uploadRecord",add:"sqico-videosend",remove:"sqico-chkbx"}},S=function(){q=0,v("setting"),f.play.trigger.style.display="none",v("stop"),G(!0),h=6e3},L=function(){v("send"),f.play.trigger.style.display="inline-block",v("play"),v("start"),h=q,q=0},A=function(){c.remove()}},x=function(){(c=document.querySelector("#audiorec"))||(c=document.querySelector("#faqcall")),I(),S=function(){q=0,h=6e3,CallImpl.updateUI(AV_RECORDING),(c=document.querySelector("#audiorec"))||(c=document.querySelector("#faqcall")),g=c.querySelector("#sqico-timer"),l=c.querySelector("#sqico-remtimer");var e,t,r,n=c.querySelector("#sqico-canvas");"FAQPLUSCALL"==CallImpl.getTheme()?(n.innerHTML='<canvas id="level_audio2" style="height:100px;width: 100%;"></canvas>',n=n.querySelector("#level_audio2"),p={elem:n,ctx:n.getContext("2d"),step:-4,bufferLength:null,dataArray:null,stepincrement:2,waveTrigger:null,lineX:0},e=c.querySelector('[cntrl="settings"]'),t=c.querySelector('[cntrl="playRecord"]'),r=c.querySelector('[cntrl="stopRecord"]'),f={start:{trigger:e,cntrl:"startRecord",add:"sqico-recorder",remove:"sqico-settings"},stop:{trigger:r,cntrl:"stopRecord",add:"sqico-chkbx",remove:"sqico-videosend"},setting:{trigger:e,cntrl:"settings",add:"sqico-settings",remove:"sqico-recorder"},play:{trigger:t,cntrl:"playRecord",add:"sqico-play",remove:"sqico-pause"},pause:{trigger:t,cntrl:"pauseRecord",add:"sqico-pause",remove:"sqico-play"},send:{trigger:r,cntrl:"uploadRecord",add:"sqico-videosend",remove:"sqico-chkbx"}}):(n.innerHTML='<canvas id="level_audio"  style="height: 60px;width: 72px;padding: 10px 10px 10px 0px;" ></canvas>',n=n.querySelector("#level_audio"),p={elem:n,ctx:n.getContext("2d"),bufferLength:null,dataArray:null,waveTrigger:null,slider:null,lineX:0});I()},L=function(){if(h=q,q=0,"FAQPLUSCALL"==CallImpl.getTheme())return $("#faqrcd_play").css("display",""),void $("#faqrcd").css("display","none");CallImpl.updateUI(AV_PLAY),(c=document.querySelector("#audiorec"))||(c=document.querySelector("#faqcall")),I();var e=c.querySelector('[cntrl="playRecord"]');(g=c.querySelector("#sqico-timer")).innerHTML="00:00 / "+te(),p.slider=c.querySelector("#slide"),p.slider.style.cursor="pointer";var r=p.slider.querySelector("#thumb"),n=p.slider.querySelector("#fill"),a=0,t=avaction.getBrowserFromUserAgent(navigator.userAgent).split("-")[0],i="Chrome"==t||"Opera"==t;function o(e){var t=r.offsetLeft-(a-e.clientX);t>p.slider.clientWidth-4||t<-4||(r.style.left=t+"px",n.style.width=t+"px",q=h/parseInt(p.slider.clientWidth)*t,s&&(s.currentTime=i?q/200:q/100),a=e.clientX)}function l(e){document.onmouseup=null,document.onmousemove=null,w&&s&&(K(),s.play())}p.slider.onclick=function(e){var t=e.clientX-p.slider.getBoundingClientRect().left-5;t>p.slider.clientWidth-4||t<-4||(r.style.left=t+"px",n.style.width=t+"px",q=h/parseInt(p.slider.clientWidth)*t,s&&(w&&s.pause(),s.currentTime=i?q/200:q/100,w&&s.play()))},r.onmousedown=function(e){e.stopPropagation(),a=e.clientX,document.onmouseup=l,w&&s&&(s.pause(),clearInterval(u)),document.onmousemove=o},f={play:{trigger:e,cntrl:"playRecord",add:"sqico-play",remove:"sqico-pause"},pause:{trigger:e,cntrl:"pauseRecord",add:"sqico-pause",remove:"sqico-play"}}},A=function(){CallImpl.updateUI(AV_RECORDSENTSUCCESS)}},U=function(){!w&&y&&(S(),n.postMessage({command:"clear"}),s=null,B(),y=!1)},T=function(){y||(L(),a.close(),H(),n.postMessage({command:"getView"}),G(!0),y=!0)},M=function(){s&&(w=!1,clearInterval(u),s.pause(),(!CallImpl.isCallWithChat||"FAQPLUSCALL"==CallImpl.getTheme())&&G(!1)),v("play")},k=function(){if(v("pause"),s)return w=!0,(!CallImpl.isCallWithChat||"FAQPLUSCALL"==CallImpl.getTheme())&&O(V,25),s.play(),void K();s=new Audio,w=!0,"FAQPLUSCALL"==CallImpl.getTheme()&&O(V,25),W(),K()},W=function(){var e=URL.createObjectURL(new Blob([i],{type:"audio/wav"}));if(s.src=e,!CallImpl.isCallWithChat){(a=new AudioContext).resume();var t=a.createMediaElementSource(s);d=a.createAnalyser(),t.connect(d),d.connect(a.destination),O(V,25)}s.play()},F=function(){var e,t,r,n,a;R(),M(),A(),t=window.lamejs?(r=i,n=lamejs.WavHeader.readHeader(r),a=new Int16Array(r.buffer,n.dataOffset,n.dataLen/2),e=function(e,t,r){for(var n=[],a=new lamejs.Mp3Encoder(e,t,128),i=r.length,o=0;1152<=i;o+=1152){var l=r.subarray(o,o+1152),c=a.encodeBuffer(l);0<c.length&&n.push(new Int8Array(c)),i-=1152}var s=a.flush();return 0<s.length&&n.push(new Int8Array(s)),new Blob(n,{type:"audio/mp3"})}(n.channels,n.sampleRate,a),new File([e],"Audio.mp3",{type:"audio/mp3"})):(e=new Blob([i],{type:"audio/wav"}),new File([e],"Audio.wav",{type:"audio/wav"})),D(t)},D=function(e){LSDragDrop.pos=0,LSDragDrop.nooffiles=1,LSDragDrop.uploadFile($Support.EmbedObj.chatID,[e]),P()},P=function(){clearInterval(u),G(!0),p=m=f=null,n&&(n.terminate(),n=null),a&&("closed"!=a.state&&a.close(),a=null),c&&c.remove(),avimpl.audiorecorder=null,avimpl.clear()},B=function(){(a=new AudioContext).resume(),n.postMessage({command:"setProperty",audioFormat:"audio/wav",bufferSize:4096,channels:1,sampleRate:a.sampleRate}),navigator.getUserMedia({audio:!0,video:!1},X,_),R()},X=function(e){c.onclick||I(),C=a.currentTime,o=e;var t=a.createMediaStreamSource(e),r=t.context,n=(r.createScriptProcessor||r.createJavaScriptNode).call(r,4096,2,2);d=a.createAnalyser(),n.onaudioprocess=E,t.connect(d),d.connect(n),n.connect(a.destination),CallImpl.isCallWithChat&&"FAQPLUSCALL"!=CallImpl.getTheme()?O(J,50):O(V,25)},E=function(e){var t=[];Y(a.currentTime-C);for(var r=0;r<1;r++)t.push(e.inputBuffer.getChannelData(r));n.postMessage({command:"record",buffer:t})},H=function(){o&&(o.getTracks().forEach(function(e){e.stop()}),o=null)},_=function(){P()},j=function(){var n,a=[],i=0,o=2,l=0,c={record:function(e){a.push(e.buffer[0]),e.buffer[1]&&a.push(e.buffer[1])},getView:function(){postMessage({key:"view",value:function(e){function t(e,t,r){for(var n=0;n<r.length;n++)e.setUint8(t+n,r.charCodeAt(n))}var r=new ArrayBuffer(44+2*e.length),n=new DataView(r);return t(n,0,"RIFF"),n.setUint32(4,36+2*e.length,!0),t(n,8,"WAVE"),t(n,12,"fmt "),n.setUint32(16,16,!0),n.setUint16(20,1,!0),n.setUint16(22,o,!0),n.setUint32(24,l,!0),n.setUint32(28,4*l,!0),n.setUint16(32,2*o,!0),n.setUint16(34,16,!0),t(n,36,"data"),n.setUint32(40,2*e.length,!0),function(e,t,r){for(var n=0;n<r.length;n++,t+=2){var a=Math.max(-1,Math.min(1,r[n]));e.setInt16(t,a<0?32768*a:32767*a,!0)}}(n,44,e),n}(function(){n=new Float32Array(a.length*i);var e=0;if(1==o)for(var t=0;t<a.length;t++)for(var r=0;r<i;r++)n[e++]=a[t][r];else if(2==o)for(var t=0;t<a.length;t+=2)for(var r=0;r<i;r++)n[e++]=a[t][r],n[e++]=a[t+1][r];return n}())})},setProperty:function(e){e.audioFormat,i=e.bufferSize,o=e.channels,l=e.sampleRate},clear:function(){a=[]}};self.onmessage=function(e){var t=e.data,r=t.command;c[r]&&c[r](t)}};var O=function(e,t){p.bufferLength=d.frequencyBinCount,p.dataArray=new Uint8Array(p.bufferLength),p.elem.style.backgroundColor="rgba(0,0,0,0)",p.waveTrigger&&clearInterval(p.waveTrigger),p.waveTrigger=setInterval(function(){requestAnimationFrame(e)},t)},V=function(){d.getByteTimeDomainData(p.dataArray),N(),y&&(p.lineX=p.elem.width/h*(q<h-1?q:0),Q(p.ctx));for(var e=0,t=0;t<p.bufferLength;t++){var r=p.dataArray[t]/128*(p.elem.height/10)*1.5;e=Math.max(e,r)}p.step+=p.stepincrement;var n=p.step;z(e/1.5,n),z(-e/1.5,1.5*n),z(e/2,3*n)},Q=function(e){e.beginPath(),e.moveTo(p.lineX-1,50),e.lineTo(p.lineX-1,100),e.stroke()},z=function(e,t){var r=p.ctx,n=0,a=0,i=1.5*p.elem.width/10,o=e/(p.elem.height/6);for(o*=e,p.ctx.strokeStyle="rgb(35, 141, 233)",r.beginPath();n<p.lineX;)a=p.elem.height/2+o*Math.sin((n+t)/i),r.lineTo(n,a),n+=1;for(r.stroke(),p.ctx.strokeStyle="white",r.beginPath();n<p.elem.width;)a=p.elem.height/2+o*Math.sin((n+t)/i),r.lineTo(n,a),n+=1;r.stroke()},G=function(e){p&&(p.waveTrigger&&clearInterval(p.waveTrigger),e&&(p.lineX=0))},N=function(){p.ctx.lineWidth=1.5,p.ctx.clearRect(0,0,p.elem.width,p.elem.height),p.ctx.fillStyle="rgba(100,100,100,0)",p.ctx.fillRect(0,0,p.elem.width,p.elem.height),p.ctx.moveTo(0,p.elem.height/2)},J=function(){var e,t=p.ctx,r=p.dataArray,n=(p.bufferLength,p.elem.width),a=n/36,i=p.elem.height,o=0;d.getByteFrequencyData(p.dataArray);var l=CallImpl.getTheme();t.fillStyle="theme3"==l?"rgb(51, 51, 51)":"rgb(255,255,255)",t.fillRect(0,0,n,i);for(var c=a/4,s=18;0<=s;s--){var u=i/(e=r[9<s?18-s:s]);u<1&&0!=e&&(e=i*u),t.fillStyle="theme3"==l?"white":"rgb(73, 113, 127)",t.lineJoin="round",t.lineWidth=c,t.fillRect(o+c/2,(i-e)/2+c/2,a-c,e-c),o+=2*a}},Y=function(e){q=parseInt(100*e);var t=parseInt(q/100),r=parseInt(t/60);if(h<=q)return ee((q=h)%100,t%60,r),void T();ee(q%100,t%60,r)},K=function(){clearInterval(u),u=setInterval(function(){var e=parseInt(q/100),t=parseInt(e/60);ee(q%100,e%60,t),h<=q?Z():q++},10)},Z=function(){clearInterval(u),G(),q=0,w=!1,v("play"),CallImpl.isCallWithChat&&(g.innerHTML="00:00 / "+te())},ee=function(e,t,r){var n,a=CallImpl.isCallWithChat?te():"";g.innerHTML=(r<10?"0"+r:r)+":"+(t<10?"0"+t:t),a&&y&&p.slider?(g.innerHTML+=" / "+a,(n=parseInt(p.slider.clientWidth)/h*(q<h-1?q:0))>p.slider.clientWidth-4||(p.slider.children[1].style.left=n+"px",p.slider.children[0].style.width=n+"px")):g.innerHTML+=":"+(e<10?"0"+e:e),a&&!y&&(l.innerHTML=a)},te=function(){var e=parseInt(h/100)-parseInt(q/100),t=parseInt(e/60);return(t<10?"0"+t:t)+":"+((e%=60)<10?"0"+e:e)};return{init:function(){e()?(r(),m={startRecord:U,stopRecord:T,pauseRecord:M,playRecord:k,uploadRecord:F,cancelRecord:P},CallImpl.isCallWithChat?x():(b(),U())):P()},destroy:function(){P()},isAudioRecordingSupported:function(){return e()}}};function avaction(){}function mediafailureoffer(e,i){if(!(e&&"NotAllowedError"===e.name||avimpl.mediaStream))if(e&&e.name){switch(e.name){case"NotFoundError":case"DevicesNotFoundError":message=LSResource.getRealValue("av.info.microphone.notavailable");break;case"SourceUnavailableError":case"PermissionDeniedError":case"SecurityError":default:message=LSResource.getRealValue("av.info.microphone.blocked")}avimpl.checkMediaPermission(message,avimpl.chid),i&&avimpl.rejectCallInvite(avimpl.chid,null),LSDebugger.postDebugInfo("Audio Call - Inside Filure media | PeerConnection "+avimpl.pc,null,null,!0)}else avimpl.StartAfterMediaPermission()}avaction.TYPE="AUDIO",avaction.supportedbrowsers=["Chrome","Firefox","Opera","Safari","Edge"],avaction.getScreenID=function(){return window.webkitRTCPeerConnection?'{"mandatory": { "chromeMediaSource": "desktop", "maxWidth": 1920, "maxHeight": 1080, "minAspectRatio": 1.77 }, "optional": [] }':'{"mediaSource":"screen"}'},avaction.constraints={AUDIO:{audio:!0,video:!1},VIDEO:{audio:!0,video:!0},SCREEN_SHARE:{audio:!1,video:JSON.parse(avaction.getScreenID())},SCREEN_VIEW:{audio:!0,video:!1}},avaction.init=function(e){if("credential"===e.msg.cbtype&&avimpl.setCredentials(e),"invite"===e.msg.cbtype&&(e.msg.credential&&avimpl.setCredentials(e),avimpl.showInvitation(e)),"accept"===e.msg.cbtype&&this.requestStream(e,UPSTREAM),"reject"===e.msg.cbtype&&(avimpl.showRejectedBanner(e),avimpl.handleUserBusy()),"candidate"===e.msg.cbtype&&(avimpl.connection_estb?avaction.addIceCandidate(e):(avimpl.newcandidate||(avimpl.newcandidate=[]),avimpl.newcandidate.push(e))),"answer"===e.msg.cbtype){var i=JSON.parse(e.msg.answer);if(avimpl.pc.setRemoteDescription(new RTCSessionDescription(i)),avimpl.connection_estb=!0,avimpl.newcandidate)for(var a in avimpl.newcandidate)avaction.addIceCandidate(avimpl.newcandidate[a]);avimpl.pc.onaddstream=avimpl.pc.ontrack=function(e){avimpl.remoteStream&&avimpl.remoteStream.active||avimpl.addremotestream(e)}}"endcall"===e.msg.cbtype&&avimpl.endCall(),"offer"===e.msg.cbtype&&this.requestStream(e,DOWNSTREAM)},avaction.setNRSServers=function(e){this.NRSServers=e},avaction.setCredentials=function(e){avaction.setNRSSereverUrls(e.msg.username,e.msg.credential),avimpl.chid=e.msg.entityid},avaction.setNRSSereverUrls=function(e,i){this.NRSServers||(this.NRSServers=_STUN_TURN_URLS);var a=this.NRSServers.split(","),n={iceServers:[]};for(var t in a)n.iceServers.push({urls:a[t],username:e,credential:i});avimpl.iceServerlist=n,LSDebugger.postDebugInfo("Audio Call - Ice Servers "+avimpl.iceServerlist+" | Server urls "+this.NRSServers,null,null,!0)},avaction.requestStream=function(i,a){if(!avimpl.iceServerlist)return LSDebugger.postDebugInfo("Audio Call - End on reload| chid |"+avimpl.chid+" | Data "+i+" |type "+a,null,null,!0),void avimpl.endOnReload();if(LSDebugger.postDebugInfo("Audio Call - chat id after ice servers"+i.msg.uid+" | type "+a,null,null,!0),avimpl.getMediaApi=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||null,avimpl.getMediaApi)if(window.webkitRTCPeerConnection?(avimpl.hostbrowser="Chrome",window.RTCPeerConnection=webkitRTCPeerConnection):window.mozRTCPeerConnection&&(avimpl.hostbrowser="Firefox",window.RTCPeerConnection=mozRTCPeerConnection),avimpl.chid=i.msg.entityid,avimpl.mediaStream){var e=avimpl.mediaStream;a==UPSTREAM?avaction.initializeConnection(e,a):a==DOWNSTREAM&&(avimpl.offer=CommonUtil.parseToJSON(i.msg.offer),avaction.initializeConnection(e,a))}else avimpl.getMediaApi.call(navigator,avaction.constraints[avaction.TYPE],function(e){a==UPSTREAM?avaction.initializeConnection(e,a):a==DOWNSTREAM&&(avimpl.offer=CommonUtil.parseToJSON(i.msg.offer),avaction.initializeConnection(e,a))},function(e){mediafailureoffer(e,a)})},avaction.initializeConnection=function(e,a){var i={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};if(avimpl.pc=new RTCPeerConnection(avimpl.iceServerlist),avimpl.localStream=localStream=e,avimpl.pc.addStream(e),LSDebugger.postDebugInfo("Audio Call - Added local Stream | Stream "+e+" | PeerConnection "+avimpl.pc+" type "+a,null,null,!0),a==DOWNSTREAM&&avimpl.pc.setRemoteDescription(new RTCSessionDescription(avimpl.offer)),avimpl.connection_estb=!0,avimpl.newcandidate)for(var n in avimpl.newcandidate)avaction.addIceCandidate(avimpl.newcandidate[n]);LSDebugger.postDebugInfo("Audio Call - Added candidate in Queue | avmpl.newcandidate "+avimpl.newcandidate+" | PeerConnection "+avimpl.pc+" | connectionstate "+avimpl.connection_estb,null,null,!0),avimpl.pc.onicecandidate=function(e){avimpl.addcandidate(e)},avimpl.pc.onaddstream=avimpl.pc.ontrack=function(e){avimpl.remoteStream&&avimpl.remoteStream.active||avimpl.addremotestream(e)},LSDebugger.postDebugInfo("Audio Call - Added onicecandidate and onaddstream | Stream "+e+" | PeerConnection "+avimpl.pc+" type "+a,null,null,!0),avimpl.addAudioElemts(),a==UPSTREAM?avimpl.pc.createOffer().then(avimpl.successOffer,avaction.sendLog,i):("Firefox"===avimpl.hostbrowser&&(i=i.mandatory),avimpl.pc.createAnswer(avimpl.successOffer,avaction.sendLog,i)),avimpl.pc.oniceconnectionstatechange=function(e){var i=avimpl.pc.iceConnectionState;LSDebugger.postDebugInfo("Audio Call - State change event | event "+i+" | PeerConnection "+avimpl.pc,null,null,!0),i==AV_CONNECTED?avimpl.callConnected(e):i==AV_FAILED&&avimpl.callFailure(a)}},avaction.addIceCandidate=function(e){LSDebugger.postDebugInfo("Audio Call - Inside Add Ice Candidate | data "+e+" | PeerConnection "+avimpl.pc,null,null,!0);var i=JSON.parse(e.msg.candidate),a=new RTCIceCandidate({sdpMid:i.id,sdpMLineIndex:i.label,candidate:i.candidate});avimpl.pc.addIceCandidate(a)},avaction.checkMediaPermission=function(){if(avimpl.getMediaApi=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||null,!avimpl.getMediaApi)return!1;avimpl.getMediaApi.call(navigator,avaction.constraints[avaction.TYPE],function(e){mediafailureoffer(null),avimpl.mediaStream=e},function(e){mediafailureoffer(e)})},avaction.sendLog=function(){LSDebugger.postDebugInfo("Audio Call - Inside Filure offer | PeerConnection "+avimpl.pc,null,null,!0)},avaction.getBrowserFromUserAgent=function(e){var i=e.toLowerCase(),a="unknown-unknown";if(-1<i.indexOf("msie")){var n=e.substring(e.indexOf("MSIE")).split(";")[0];a=n.split(" ")[0].replace("MSIE","IE")+"-"+n.split(" ")[1]}else-1<i.indexOf("edge")?a=e.substring(e.indexOf("Edge")).split(" ")[0].replace("/","-"):-1<i.indexOf("safari")&&-1<i.indexOf("version")?a=e.substring(e.indexOf("Safari")).split(" ")[0].split("/")[0]+"-"+e.substring(e.indexOf("Version")).split(" ")[0].split("/")[1]:-1<i.indexOf("opr")||-1<i.indexOf("opera")?-1<i.indexOf("opera")?a=e.substring(e.indexOf("Opera")).split(" ")[0].split("/")[0]+"-"+e.substring(e.indexOf("Version")).split(" ")[0].split("/")[1]:-1<i.indexOf("opr")&&(a=e.substring(e.indexOf("OPR")).split(" ")[0].replace("/","-").replace("OPR","Opera")):-1<i.indexOf("chrome")?a=e.substring(e.indexOf("Chrome")).split(" ")[0].replace("/","-"):-1<i.indexOf("firefox")&&(a=e.substring(e.indexOf("Firefox")).split(" ")[0].replace("/","-"));return a},avaction.isBrowserSupported=function(e){var i=this.getBrowserFromUserAgent(e),a=i.split("-")[0],n=parseInt(i.split("-")[1]),t=!1;switch(a){case"Chrome":t=23<=n;break;case"Firefox":t=22<=n;break;case"Opera":t=18<=n;break;case"Safari":t=11<=n}return t},avaction.displaySettingUI=function(e){var d={camera:[],mic:[],speaker:[]},s={};navigator.mediaDevices.enumerateDevices().then(function(e){e.forEach(function(e){"videoinput"==(s[e.kind+"&"+e.deviceId]=e).kind?d.camera.push(e):"audioinput"==e.kind?d.mic.push(e):"audiooutput"==e.kind&&d.speaker.push(e)});var a='<div class="siq-setngs-view font16" id="audio_setting"> <div class="setngs-head c666"><span class="sel-bor" mdevice-switch="mic">Audio Input</span> <span mdevice-switch="speaker" >Sound Output</span> </div>';if(d.mic.length){var n=avimpl.localStream?avimpl.localStream.getAudioTracks()[0].label:"default";a+='<div class="setngs-optn c333 font14 mL20" mdevice-cnt="mic">',d.mic.forEach(function(e){var i="";n===e.deviceId&&(i='class="sqico-tick"'),a+="<div "+i+' deviceid="'+e.deviceId+'">'+e.label+"</div>"}),a+="</div>"}if(d.speaker.length){n="default";a+='<div class="setngs-optn c333 font14 mL20" mdevice-cnt="speaker" style="display:none;">',d.speaker.forEach(function(e){var i="";n===e.deviceId&&(i='class="sqico-tick"'),a+="<div "+i+' deviceid="'+e.deviceId+'">'+e.label+"</div>"}),a+="</div>"}a+="</div>",$(window.parent.document).find("body").append(a),$("#audio_setting",parent.document).on("click","[mdevice-switch]",function(){$("#audio_setting",parent.document).find("[mdevice-switch]").removeClass("sel-bor");var e=$(this).addClass("sel-bor").attr("mdevice-switch");$("#audio_setting",parent.document).find("[mdevice-cnt]").hide(),$("#audio_setting",parent.document).find('[mdevice-cnt="'+e+'"]').show()}),$("#audio_setting",parent.document).on("click","[deviceid]",function(){var e=$(this).parent().attr("mdevice-cnt");if($("#audio_setting",parent.document).find('[mdevice-cnt="'+e+'"]').children().removeClass("sqico-tick"),$(this).addClass("sqico-tick"),"mic"!=e){var i=$(this).attr("deviceid"),a=document.getElementById("remoteaudio");void 0!==a.sinkId&&a.setSinkId(i).then(function(){})}});var i=parent.document.getElementById("siqiframe").getBoundingClientRect(),t=document.getElementById("call_stngicon").getBoundingClientRect(),o=parent.document.getElementById("audio_setting").style,r=i.left+t.left,c=i.top+t.top;o.left=CallImpl.CALLFAQ?r-260+"px":r-284+"px",o.top=CallImpl.CALLFAQ?c+15+"px":c-31+"px",$(document).click(function(e){$(e.target).closest("#audio_setting",parent.document).length||$(e.target).closest("#call_stngicon",parent.document).length||$("#audio_setting",parent.document).is(":visible")&&$("#audio_setting",parent.document).hide()})})};$FAQ=function(){_searchtimer=0;var v=function(){return _SCHEMA+"://"+_EMBEDSERVERURL},t=function(t){var e=$Support.LSDB.getFromSession(m());if(e)t(e);else{$("#faqdiv").html($Temp.getLoadingHTML());var a=$Support.EmbedObj.mappeddept,i="";a&&"-1"!==a&&(i="department_id="+a),$Support.getParent().$ZSIQUtil.ajax(v()+"/visitor/v2/"+_SCREENNAME+"/cannedmessages/count?"+i,function(e){var a=JSON.parse(e).data;$Support.LSDB.storeInSession(m(),a),t(a)},"",!0)}},p=function(e,a,t,i){$.ajax({url:v()+"/visitor/v2/"+_SCREENNAME+"/cannedmessages/"+a+"/vote?type="+i,type:"POST",dataType:"json",data:e,success:function(e){t(e)}})},c=function(e,a,t,i){var s=a?"_"+a:"",r=$Support.LSDB.getFromSession("faq_"+e+s);if(i||!r){var o="",d=99;a?(o="&canned_category_id="+a,d=i?99:15,$("#"+a).html('<div class="cat_loading">'+$Temp.getLoadingHTML()+"</div>")):$("#faqdiv").html($Temp.getLoadingHTML());o=a?"&canned_category_id="+a:"";$Support.getParent().$ZSIQUtil.ajax(v()+"/visitor/v2/"+_SCREENNAME+"/cannedmessages?limit="+d+"&department_id="+e+o,function(e){var a=JSON.parse(e).data;t(a)},function(){},!0)}else t(r)},i=function(e){var a=$Support.LSDB.getFromSession(m());if(a){for(var t=[],i=0;i<a.length;i++)if(a[i].department_id===e){t=a[i].categoryinfo;break}var s="";for(i=0;i<t.length;i++){var r=t[i].categoryid;s+='<div class="posrel" category_id="'+r+'" data-type="accordian"><div data-type="accordian-item"><div id="'+r+'"></div><div class="artcle-viewal" documentclick="extendview">'+LSResource.getRealValue("faq.article.viewall")+'</div></div><div data-type="accordian-header" class="dsp_table faq-cat"><div>'+t[i].categoryname+'</div><div class="sqico-darrow"></div></div></div>'}}var o=$("#faqdiv"),d=!o.find("#article-wrap").length;o.html('<div id="article-wrap">'+s+"</div>"),d&&o.hide().fadeIn(),$Support.Util.handleAccordian(function(e){var a=o.attr("department_id"),t=e.parent().attr("category_id");c(a,t,function(e){$Support.LSDB.storeInSession("faq_"+a+"_"+t,e),n(a,"",e,t),15<e.length&&l(t)})}),$('[data-type="accordian-header"]:first').trigger("click")},n=function(e,a,t,i){t=t||$Support.LSDB.getFromSession("faq_"+e);for(var s=f(a),r=0,o="",d=[],c=0;c<t.length;c++){var n={};if("object"==typeof t[c]&&(n=$Support.LSDB.getFromSession("article_"+t[c].id)||t[c]),0!==getObjectSize(n)){var l=CommonUtil.decodeHTML(n.message).replace(/<br *\/?>/gi," "),v=n.visitors_liked?'<em class="sqico-like">'+n.visitors_liked+"</em>":"",p=n.visitors_viewed?"<em viewid="+n.id+">"+n.visitors_viewed+"</em> "+LSResource.getRealValue("faq.views"):LSResource.getRealValue("faq.noviews");o+='<div class="dsp_table faqarticle" documentclick="faqpreview" article-id="'+n.id+'"><div class="sqico-faqarticle"></div><div class="f15">'+getEncodedText(l)+'<p class="font14 article">'+p+v+"</p></div></div>",d.push(n.id),r++}}s&&$("#"+i).html(o),r&&!s&&$("#faqdiv").html(o),r||$("#faqdiv").html(u(a))},l=function(e){$("#"+e).addClass("view_article"),$(".artcle-viewal").attr("categoryid",e)},u=function(e){var a=(e=e||"")?LSResource.getRealValue("faq.noarticles"):LSResource.getRealValue("faq.empty.articles"),t=-1==$Support.EmbedObj.chatID?LSResource.getRealValue("ne.chatnow"):LSResource.getRealValue("ne.gotochat");return'<div id="nofaqs" class="nofaq"><div class="dis_cell"><div class="faq-reslt-img"></div><p>'+e+"</p>"+a+($Support.EmbedObj.status?'<div class="chatnw"><em class="wincustom_clr" documentclick="showchatui">'+t+"</em></div>":"")+"</div></div>"},f=function(e){return!e&&(!!$Support.EmbedObj.faqaccess.length&&"1"==$Support.EmbedObj.faqaccess[1].orderbycategory)},m=function(e){return e?"faq_"+e:"faq_count_"+$Support.EmbedObj.mappeddept},o=function(e,a){for(var t="",i=0;i<e.length;i++){var s=e[i],r=s.count;if(0!==r){var o=s.department_name;void 0!==a&&-1===o.toLowerCase().indexOf(a.toLowerCase())||(r=1===r?r+" "+LSResource.getRealValue("faq.article"):r+" "+LSResource.getRealValue("faq.articles"),t+='<div class="dsp_table faqlst" documentclick="faqcategory" department="'+o+'" departmentid="'+s.department_id+'"><div class="sqico-faqdept"></div><div>'+o+'<p class="font14 article">'+r+"</p></div></div>")}}var d=$("#faqdiv");if(t){var c=!d.find(".faqlst").length;d.html(t),c&&d.hide().fadeIn()}else d.html(u(a))},d=function(e){$(".faq-srch").remove();var a=e.title||"";$Support.isNewHeader()?!e.hasarrow||$("#showsiqconv").show():a=e.hasarrow?'<span class="sqico-larrow" documentclick="showfaq"></span>'+a:a;var t=e.desc||"",i=e.classname||"";$("#attname").html(a);var s=e.hasarrow?"":" fulwdth";$("#attabtme").html(t).after('<div class="faq-srch min-view '+s+'" documentclick="faqsearch"><span class="sqico-search"></span><input type="text" id="faqsearch-field" placeholder="'+LSResource.getRealValue("faq.search.hint")+'" dockeyup="searchfaq" dockeydown="searchfaq"/><em class="sqico-close"></em></div>'),("2"===$Support.container.attr("themeid")?$("#cmpylogo"):$("header")).removeClass("category").addClass(i),$Support.Util.reSetHeaderClass()},g=function(e,a){var t=$Support.LSDB.getFromSession("article_"+e.id[0]),i={2:"visitors_viewed",3:"visitors_liked",4:"visitors_disliked"},s=e.type[0];t[i[s]]=parseInt(t[i[s]])+1,$Support.LSDB.storeInSession("article_"+e.id[0],t),a.find("em[viewid="+e.id+"]").text(t[i[s]])},S=function(){return'<div id="faqbox" class="siq_content"><div class="zsiq-wrap"><div class="zsiq-wrap-body"><div class="zsiq-wrap-child"><span>Q</span><div class="zsiq-wrp-lne"></div></div><div class="zsiq-wrap-child"><span>A</span><div class="zsiq-wrp-lne"></div></div></div><div class="zsiq-wrap-body2"><div class="zsiq-wrap-child"><span>Q</span><div class="zsiq-wrp-lne"></div></div><div class="zsiq-wrap-child"><span>A</span><div class="zsiq-wrp-lne"></div></div></div></div><div id="faqdiv" docwheel="handlescroll"></div></div>'};return{showFAQUI:function(e){if(!$Support.Util.isPreview()){var i=$("#faqdiv");i.length||($("footer").before(S()),i=$("#faqdiv")),e.addClass("sel").prev(".sel").removeClass("sel"),i.parents(".siqembed").children("section").hide();var s=$Support.EmbedObj.mappeddept,r=!0;t(function(e){if(o(e),s&&"-1"!==s){for(var a=$Support.LSDB.getFromSession(m()),t=0;t<a.length;t++)if(a[t].department_id==s&&0<a[t].count){$FAQ.showCategory(void 0,a[t]),r=!1;break}r&&i.html(u())}}),$Support.Util.updateViewAttribute("faqview"),$FAQ.toggleHeaderSearchClass(!0),r&&(d({title:$Support.Util.getFAQLabel(),desc:LSResource.getRealValue("faq.header.desc")}),$("#faqdiv").removeAttr("department_id")),$Support.Util.calculateContentHeight()}},showCategory:function(e,a){if(!$Support.Util.isPreview()){var t=a?a.department_id:e.attr("departmentid");$("#faqdiv").attr("department_id",t),f()?i(t):c(t,"",function(e){$Support.LSDB.storeInSession("faq_"+t,e),n(t,"",e)}),d({title:a?a.department_name:e.attr("department"),classname:"category",hasarrow:!a}),$FAQ.toggleHeaderSearchClass(!0),$Support.isNewHeader()&&$TH.checkAboutmeClass()}},handleSearch:function(a){if(!$Support.Util.isPreview()){a.removeClass("min-view category");var t=a.find("input").focus();$FAQ.toggleHeaderSearchClass(),a.find(".sqico-close").on("click",function(e){a.addClass("min-view"),$FAQ.toggleHeaderSearchClass(!0),t.val(""),$FAQ.searchFAQ(t,e),e.stopPropagation()})}},toggleHeaderSearchClass:function(e){var a=$Support.container.find("header");e?a.removeClass("faq_srch"):a.addClass("faq_srch")},showFAQPreview:function(c){var t,i,e,a,n=c.attr("article-id"),l=$Support.getParent().$ZSIQUtil.getCookieValue("Article_"+n);t=n,i=function(e){if(e&&e.message){p(JSON.stringify({type:"2"}),n,function(e){g(e,c)},2);var a,t,i,s,r=(a=$Support.EmbedObj.status?'<div class="zsiq-cbtn" onclick="$ZSIQChatWindow.startChat(event)">{CHATNOW}</div>':"",'<div class="zsiq_prv_main" zsiqclose="true" id="zsiqimagepreview" onclick="$ZSIQChatWindow.closeImagePreview(event)"><div id="zsiqfaqpreview" articleid="{ARTICLEID}"><div class="zsiq-prev-body"><div class="zsiq-prev-header" id="zsiq-prev-header">{HEADER}</div><div class="zsiq-prev-content"><div>{CONTENT}</div></div></div><div class="zsiq-footer">'+S()+a+'{VOTE}</div><em class="sqico-close" zsiqclose="true" onclick="$ZSIQChatWindow.closeImagePreview(event)"></em></div></div>'),o=-1==$Support.EmbedObj.chatID?LSResource.getRealValue("ne.chatnow"):LSResource.getRealValue("ne.gotochat"),d=""===l?(i=(t=e).visitors_liked||"",s=t.visitors_disliked||"",'<div class="zsiq-aside">'+LSResource.getRealValue("faq.ishelpful")+'<span class="sqico-like" onclick="$ZSIQChatWindow.updateVote(event, this)" data-vote="3">'+i+'</span><span class="sqico-dislike" onclick="$ZSIQChatWindow.updateVote(event, this)"  data-vote="4">'+s+"</span></div>"):"";r=r.replace(/{HEADER}/g,e.message).replace(/{ARTICLEID}/g,n).replace(/{VOTE}/g,d).replace(/{CHATNOW}/g,o).replace(/{CONTENT}/g,e.article_info.content),$(window.parent.document).find("body").append(r)}else $(window.parent.document).find("body").append('<div class="zsiq_prv_main" zsiqclose="true" id="zsiqimagepreview" onclick="$ZSIQChatWindow.closeImagePreview(event)"><div id="zsiqfaqpreview" class="siq-empty-slate" articleid="{ARTICLEID}"><div class="zsiq-prev-body"><div class="siq-emtyimg"><img src="https://img.zohostatic.com/salesiq/Nov_07_2018_1_https/images/articleemptystate.svg"></div><p class="siq-emtydesc">'+LSResource.getRealValue("faq.empty.desc")+'</p></div><div class="zsiq-footer">'+S()+'</div><em class="sqico-close" zsiqclose="true" onclick="$ZSIQChatWindow.closeImagePreview(event)"></em></div></div>')},e=$Support.LSDB.getFromSession("article_"+t)||{},a=e.article_info,e&&a&&a.content?i(e):$Support.getParent().$ZSIQUtil.ajax(v()+"/visitor/v2/"+_SCREENNAME+"/cannedmessages/"+t,function(e){var a=JSON.parse(e).data;$Support.LSDB.storeInSession("article_"+t,a),i(a)},function(){},!0)},updateVote:function(e,a){a=$(a);var t=JSON.stringify({type:a.attr("data-vote")}),i=a.parents("#zsiqfaqpreview");p(t,i.attr("articleid"),function(e){g(e,a),a.parent().html(LSResource.getRealValue("faq.feedback"))},a.attr("data-vote"))},getHeaderMessage:function(e){var a=JSON.parse(CommonUtil.decodeHTML(e));return"object"==typeof a?a.header:""},searchFAQ:function(s,e){clearTimeout(_searchtimer);var a=$Support.Util.getKeyCode(e);if(!(-1<["37","38","39","40","13","9","16"].indexOf(a))){var r=$.trim(s.val()).toLowerCase();!r||r.length<3?function(e){var a=$("#faqdiv").attr("department_id");if(a){if(""===e&&f())return i(a);n(a,e)}else t(function(e){o(e)})}(r):_searchtimer=setTimeout(function(){var e,t,a,i;e=r,t=function(e){r===s.val().toLowerCase()&&n("",r,e)},a=$("#faqdiv").attr("department_id"),i=v()+"/"+_SCREENNAME+"/searchcanned.ls?query="+e+"&entities=2&mode=listview",i+=a?"&department_id="+a:"",$Support.getParent().$ZSIQUtil.ajax(i,function(e){var a=JSON.parse(e);a&&0==a[0].res_count&&(a=[]),t(a)},"",!0)},500)}},updateMessageCount:function(e){if("newmsg"===e||"newchat"===e||"triggerchat"===e){var a=$Support.getUnreadCount();a&&($("#conv-tab").addClass("count").find(".siqc_eletype").show().html(a)[0].className="siqc_eletype")}},showAllArticlesInCategory:function(e){e.parent().find(".view_article").removeAttr("style").removeClass("view_article");var a=$("#faqdiv").attr("department_id"),t=e.attr("categoryid");c(a,t,function(e){n(a,"",e,t)},!0)},_noResultsHTML:u}}();$BotImpl=function(){var n={},s=ZSIQTranscript,m=function(){i(),""==$("#msgdiv").html()&&d()},i=function(){n={},clearInterval($BotImpl.timer),s.removeTyping()},o=function(e,t){if(s.removeTyping(),c(),r(e)||e.meta.suggestions?$Widget.showBotReply(e):(e.isbotmessage=f(e),e.time=MyDate.getHoursandMin(e.time,!0,"bclient"),e.html=s.getTranscript(e),s.updateTranscript(e)),t)return i(),void((!e.meta||!e.meta[$Widget.input_card])&&d());s.showTyping(e)},r=function(e){return!!e.meta&&(e.meta[$Widget.display_card]||e.meta[$Widget.input_card])},g=function(e){var t=e.meta;if(clearInterval($BotImpl.timer),n=e,!t)return e.msg&&!e.msg.msglist?void ZSIQTranscript.updateTranscript({html:ZSIQTranscript.getTranscript(e)}):void l(e);t.image&&(e.bot_image=e.meta.image),a(e),e.msglist?u(e,1):o(e,!0)},a=function(e){var t=e.msglist;if(t)for(var i=0;i<t.length;i++)$Support.updateChatCache($.extend({},e,t[i]));else $Support.updateChatCache(e)},l=function(e){var t=e.msg.msglist;for(var i in t){var r=t[i],a=$.extend({msg:r.msg,meta:r.meta},e.msg);a.replies="",g(a)}},u=function(t,e){t=t||n;var i=s.getMessageID(t);if(!i||!s.isMessageExist(i)){var r=t.msglist;if(r){p(),s.showTyping(t),e=e||0;var a=0;$BotImpl.timer=setInterval(function(){if($("#msgdiv").length){if(a<r.length){var e=$.extend({},t,r[a]);o(e,a===r.length-1)}a++}else m()},2e3*e)}}},c=function(){KeyHandler.isWindowFocused()||EmbedSound.play("smessage")},p=function(e){(e=e||$("#msgarea")).attr("disabled","true")},d=function(e){(e=e||$("#msgarea")).removeAttr("disabled"),$(e).focus()},f=function(e){try{return"b"==e.sender.split("_")[2][0]}catch(e){return!1}};return{formatAndDisplay:g,resetValues:m,disableComposer:p,enableComposer:d,iswidgetobj:r,isBotMessage:f,resetMessageSequence:function(){s.removeTyping(),clearInterval($BotImpl.timer),u()}}}();$Widget=function(){var n,a,i,o={},c="",r="",l=function(){return"undefined"==typeof BotPreview?Message:BotPreview},s=function(){var t={skip:function(){m()},select:function(){Singleselect.init(a,n)},"multiple-select":function(){Multiselect.init(a,n)},slider:function(){Slider.init(a,n)},"range-slider":function(){Slider.init(a,n)},links:function(){Button.init(a,n)},calendar:function(){d(a,n)},"range-calendar":function(){a.range=!0,d(a,n)},"happiness-rating":function(){a.callback=g,Rating.smiley_init(a,n)},"star-rating":function(){a.callback=g,Rating.star_init(a,n)},like:function(){a.callback=g,Rating.like_init(a,n)},suggestions:function(){Suggestions.init(a,n)},location:function(){ZMaps.init(a,n)},articles:function(){BotArticle.init(a,n)},timeslots:function(){BotTimeSlot.init(a,n)},"date-timeslots":function(){BotTimeSlot.init(a,n)}},e=a.type;if("function"==typeof t[e])return t[e](),void(a.skippable&&t.skip());Object.keys(a).length<=2&&a.image&&(o.bot_image=a.image,u(""))},d=function(t,e){var i='<a><div class="cmpnt-btnurl elips sqico-calendar" id="bot_calender"><em class="dib-mid clr-azurblu cmpnt-cusclr">'+(getEncodedText(t.label)||LSResource.getRealValue("common.schedule"))+"</em></div></a>",n=$Widget.getLayout();n=(n=n.replace(/{BOT_WIDGET}/g,i)).replace(/{CLASSNAME}/g,"botbtn"),$Widget.attachHTML(n),t.hint="calendar"===t.type?LSResource.getRealValue("widget.calendar.hint"):LSResource.getRealValue("widget.rangecalendar.hint"),$("#bot_calender").on("click",function(){zDatepicker.init(t,e)})},m=function(){var t='<div class="cmpnt-skip dib-mid" id="skipquestion">'+LSResource.getRealValue("common.skip")+'<em class="mL5 sqico-skip font8"></em></div>',e=$("#msgdiv .msgbx").last().parent();e.find("#skipquestion").length||(e.append(t),$("#skipquestion").click(function(){$(this).remove(),p({type:"skip",msg:"-",id:n,skipped:!0})}),ZSIQTranscript.scroll())},u=function(t,e){var i=$Widget.getMessageOBJ(),n=$.extend({},i);$.extend(n,{msg:t||i.msg,time:MyDate.getHoursandMin(i.time,!0,"bclient"),isbotmessage:!0,iswidget:!0}),n.html=ZSIQTranscript.getTranscript(n),e&&(n.is_ignoreformat=!0),ZSIQTranscript.updateTranscript(n)},p=function(t){$BotImpl.enableComposer(),$("#skipquestion").remove();var e=t.msg,i=t.value||e;if(e){var n=t.id,a=("true"===$("#bot_widget"+n).attr("hasquestion")?$("#bot_widget"+n):$("#cmpnt"+n)).parents(".ziq_msg"),s=a.find(".cmpnt-desc").text();s?a.find(".msgbx").text(s):l().animate(a,!0,function(t){t.remove()}),c={type:t.type,value:i},$("#conversationoption").remove(),r=e,$Support.sendMessage(r,$Support.getComposer()),o.active=!1}else l().formatAndDisplay(o)},g=function(i){var t=$("#cmpnt"+i.id).parents(".ziq_msg");$("#skipquestion").remove(),$BotImpl.enableComposer();l().animate(t,!0,function(t){if(o.active=!1,i.ratinghtml){i.star&&(i.ratinghtml=i.ratinghtml.replace(/<\/div>$/,"<em>"+i.msg+"</em></div>")),o.mode="botrating",o.ratinghtml=i.ratinghtml,o.msg=t.find(".cmpnt-desc").text();var e=i.value;o.value=e,t.remove(),c={type:i.type,value:e},l().formatAndDisplay(o),r=i.msg,$Support.sendMessage(r,$Support.getComposer())}})};return{input_card:"input_card",display_card:"display_card",suggestions:"suggestions",showBotReply:function(t){var e=t.meta;o={sender:t.sender,msgid:t.msgid,meta:e,time:t.time,dname:t.dname,msg:t.msg,isbotmessage:t.isbotmessage},n=o.time,a=e[this.input_card]||e[this.display_card]||{},e.skippable&&(a.skippable=e.skippable),e.suggestions&&(a.type="suggestions",a.list=e.suggestions,t.msg&&(t.isbotmessage=$BotImpl.isBotMessage(t),t.time=MyDate.getHoursandMin(t.time,!0,"bclient"),e[this.display_card]&&(t.bot_image=e[this.display_card].image),t.iswidget=!0,t.html=ZSIQTranscript.getTranscript(t),ZSIQTranscript.updateTranscript(t))),e[this.display_card]&&(a.image=e[this.display_card].image),a.callback=p,s()},getLayout:function(){return function(){o.msg=o.msg?o.msg:"";var t=!!o.msg,e="4"===$Support.container.attr("themeid")?" cmpnt-transtheme":"",i=a.image&&"articles"!=a.type?'<div class="cmpnt-sldimg mB10"><img src="'+a.image+'"></div>':"";return'<div class="posrel" id="cmpnt'+n+'"><div class="cmpnt-wrap'+e+' {CLASSNAME}" id = "btnurl">'+i+'<div class="cmpnt-body-cont" id = "cmpnt_body'+n+'"><div class="cmpnt-desc lH20 c000">'+o.msg+'</div><div id="bot_widget'+n+'" hasquestion = "'+t+'">{BOT_WIDGET}</div></div></div></div>'}()},attachHTML:function(t,e){u(t,e)},removeComponent:function(){!function(){if(0<Object.keys(o).length&&void 0===o.active){var t=$("#bot_widget"+n);0<t.length&&void 0===t.attr("isbutton")&&l().animate(t.parents(".ziq_msg"),!0,function(t){t.remove()})}$("#conversationoption").remove()}()},getMessageOBJ:function(){return o},isPreview:function(){return"undefined"!=typeof BotPreview},skipQuestion:function(t){if($BotImpl.enableComposer(),"-1"!=(i=$Support.getSkipObj()).chatid){var e=t||i.data;$.ajax({url:i.url,type:"POST",dataType:"json",data:JSON.stringify(e),success:function(){i.bottimer&&clearTimeout(i.bottimer)}})}},getLocationWidgetHtml:function(t){return'<a><div class="cmpnt-btnurl elips sqico-location" id="bot_location"><em class="dib-mid clr-azurblu cmpnt-cusclr">'+((e=t)?getEncodedText(e):LSResource.getRealValue("widget.location.set"))+"</em></div></a>";var e},getMetaData:function(){return"object"==typeof c?$.extend({},c):c},clearMetaData:function(){c=""},getMetaCardData:function(){return(t={}).card_data=$.extend({},c),t;var t},getLastMessage:function(){return r}}}();Slider=function(){var s=function(t,e){this.RIGHT_ARROW=39,this.LEFT_ARROW=37,this.dotoffset=[],this.config_obj={values:t.values||["1","2","3","4"],initialheadposition:t.initialheadposition||"1",showcurrentposition:t.showcurrentposition||!0,enablearrowkeyopertion:t.enablearrowkeyopertion||!0,range:"range-slider"===t.type,callback:t.callback||function(){}},this.msgid=e};return s.prototype.renderSlider=function(){this.renderComponentHtml(),this.setDivOBJ(),this._sliderwidth=$("#range-wrap").outerWidth();for(var t=this.config_obj.values,e="",i=0;i<t.length;i++)this.config_obj.values[i]=""+t[i],e+='<span class="range-point" data-type="slider-point"><em class="range-dot" title="'+t[i]+'" data-type="sliderdot" dot='+i+'></em><em class="range-value"></em></span>';this.$rangepoint.append(e),this.$rangeelem=this.$rangepoint.children();for(var s=0;s<this.$rangeelem.length;s++)this.dotoffset[s]=this.$rangeelem[s].offsetLeft;this.updateSliderPosition(this.dotoffset[this.config_obj.initialheadposition],this.$sliderrighthead),this.config_obj.range&&this.updateSliderPosition(this.dotoffset[0],this.$sliderlefthead),this.negwidth=$("#cmpnt"+this.msgid).parents(".msgbx")[0].clientWidth-this._sliderwidth-this.$sliderrighthead.outerWidth()/2,this.negwidth+="undefined"==typeof BotPreview?0:$("#botpreviewwindow").offset().left},s.prototype.renderComponentHtml=function(){var t=this.config_obj.values.length,e='<div class="sld-cont" id = "slidercont"><div class="dtfix mB10 w100 c999" id = "slider"><div class="dcell">'+this.config_obj.values[0]+'</div><div class="dcell textR">'+this.config_obj.values[t-1]+'</div></div><div class="range posrel textC" id="range-wrap"><span class="range-path" id="range-body"><span id="slider-val" class="range-val" style="position: absolute;height: 5px;border-radius: 4px;left: 0;"></span>'+(this.config_obj.range?'<span class="range-handle" id="sliderlefthead" style="left:0px" tabindex="2"></span>':"")+'<span class="range-handle" id="sliderrighthead"  style="left:65px" tabindex="1" ></span></span><div id="range-point-wrap" class="range-point-wrp"></div><div class="dtfix textL cmpnt-ftr"><div class="dcell clr-azurblu dib-mid" id="range-display"></div><div class="textR dcell"><div class="sqico-tick" id="range-selected"></div></div></div></div></div>',i=$Widget.getLayout();i=(i=i.replace(/{BOT_WIDGET}/g,e)).replace(/{CLASSNAME}/g,"botslider"),$Widget.attachHTML(i)},s.prototype.setDivOBJ=function(){var t=$("#cmpnt"+this.msgid);this.$displayelem=t.find("#range-display"),this.$rangepoint=t.find("#range-point-wrap"),this.$sliderrighthead=t.find("#sliderrighthead"),this.$sliderlefthead=t.find("#sliderlefthead"),this.$rangeval=t.find("#slider-val")},s.prototype.handleEvents=function(){var i=this,t=$("#cmpnt"+this.msgid);function e(t){var e=this;$(document).bind("mouseup touchend",function(t){$(document).off("mouseup touchend mousemove touchmove"),i.handleHeaderMovement(t)}),$(document).on("mousemove touchmove",function(t){i.handleHeaderMovement(t,e)})}this.ismousedown=!1,this.$sliderrighthead.bind("mousedown touchstart",e),this.config_obj.range&&this.$sliderlefthead.bind("mousedown touchstart",e),t.find("#range-body").click(function(t){i.handleNearestClick(t)}),this.$rangeelem.click(function(t){i.handleDotClicked(t)}),t.find("#range-selected").click(function(){i.handleCallBack()}),this.config_obj.enablearrowkeyopertion&&(this.$sliderrighthead.keyup(function(t){i.handleKeyOperation(t,this)}),this.config_obj.range&&this.$sliderlefthead.keyup(function(t){i.handleKeyOperation(t,this)}))},s.prototype.handleHeaderMovement=function(t,e){if(t.stopPropagation(),"mousemove"==t.type||"touchmove"==t.type){var i=("touchmove"==t.type?t.originalEvent.touches[0].pageX:t.pageX)-this.negwidth,s=$(e);this.updateSliderPosition(i,s)}else{var o=this.$sliderrighthead;if(this.handlePointMove(o[0].offsetLeft,o),this.config_obj.range){var n=this.$sliderlefthead;this.handlePointMove(n[0].offsetLeft,n)}}},s.prototype.handlePointMove=function(t,e){this.updateSliderPosition(this.getNearestPointPosition(t),e)},s.prototype.handleNearestClick=function(t){var e=t.target.id||"";if("sliderrighthead"!==e&&"sliderlefthead"!==e){var i=this.getNearestPointPosition(t.pageX-this.negwidth);this.moveNearestHeader(i)}},s.prototype.handleDotClicked=function(t){var e=t.target.getAttribute("dot");null!=this.dotoffset[e]&&this.moveNearestHeader(this.dotoffset[e])},s.prototype.moveNearestHeader=function(t){var e=this.$sliderrighthead,i=e[0].offsetLeft;if(this.config_obj.range){var s=this.$sliderlefthead[0].offsetLeft;e=s<t&&t<i?t-s<i-t?this.$sliderlefthead:this.$sliderrighthead:t<i?this.$sliderlefthead:this.$sliderrighthead}this.updateSliderPosition(t,e)},s.prototype.handleKeyOperation=function(t,e){t.currentTarget.id;var i=e.offsetLeft,s=t.keyCode,o=this.dotoffset.indexOf(i);if(s==this.RIGHT_ARROW&&o<this.dotoffset.length-1)var n=this.dotoffset[o+1];else{if(!(s==this.LEFT_ARROW&&0<o))return;n=this.dotoffset[o-1]}this.handlePointMove(n,$(e))},s.prototype.updateSliderPosition=function(t,e){if(!this.config_obj.range||this.checkHeaderMove(t,e)){t=t>this._sliderwidth?this._sliderwidth:t<0?0:t,$(".range-value").empty(),e.css("left",t),this.$rangeval.css("width",t);var i=this.$sliderrighthead[0].offsetLeft;if(this.config_obj.range){var s=this.$sliderlefthead[0].offsetLeft;s<i?this.highlightSelectedPoint(s,i):this.highlightSelectedPoint(i,s)}else this.highlightSelectedPoint(this.dotoffset[0],i);this.config_obj.showcurrentposition&&this.handleDisplayValue()}},s.prototype.checkHeaderMove=function(t,e){if("sliderrighthead"===e[0].id){var i=this.dotoffset.indexOf(this.$sliderlefthead[0].offsetLeft);return this.dotoffset[i+1]<=t}i=this.dotoffset.indexOf(this.$sliderrighthead[0].offsetLeft);return t<=this.dotoffset[i-1]},s.prototype.highlightSelectedPoint=function(t,e){this.$rangeelem.removeClass("sel");for(var i=0;i<this.config_obj.values.length;i++)t<=this.dotoffset[i]&&e>=this.dotoffset[i]&&this.$rangeelem[i].classList.add("sel");this.$rangeval.css("left",t+"px").css("width",e-t+"px")},s.prototype.handleDisplayValue=function(){var t=this.$sliderrighthead[0].offsetLeft;this.showPointValues(t);var e=this.getTextForPoint(this.getNearestPointPosition(t));if(this.config_obj.range){var i=this.$sliderlefthead[0].offsetLeft;this.showPointValues(i),e=this.getTextForPoint(this.getNearestPointPosition(i))+" - "+e}this.$displayelem.text(e)},s.prototype.showPointValues=function(t){var e=this.dotoffset.indexOf(t);0<e&&e<this.dotoffset.length-1&&($(".range-value")[e].innerText=this.config_obj.values[e])},s.prototype.getTextForPoint=function(t){var e=this.dotoffset.indexOf(t);return-1<e?this.config_obj.values[e]:""},s.prototype.getNearestPointPosition=function(t){for(var e=this.dotoffset.length,i=0;i<e-1;i++){var s=this.dotoffset[i],o=this.dotoffset[i+1];if(s<=t&&t<=o)return t-s<=(o-s)/2?s:o}},s.prototype.handleCallBack=function(){var t=this.$displayelem.text(),e=this.config_obj.range?"range-slider":"slider",i="range-slider"==e?t.split(" - "):t;this.config_obj.callback({type:e,msg:t,id:this.msgid,value:i})},{init:function(t,e){if(t.values&&1<t.values.length){var i=new s(t,e);return i.renderSlider(),void i.handleEvents()}t.callback("",e)}}}();var Multiselect=function(){var l=function(t,a){this.dataval=t.options,this.callback=t.callback,this.max_selection=t.max_selection||this.dataval.length,this.componentid=a};return l.prototype={sel_count:0,populateButtons:function(){var t=$Widget.getLayout();t=(t=t.replace(/{BOT_WIDGET}/g,this.getButtonHtml())).replace(/{CLASSNAME}/g,"botrating"),$Widget.attachHTML(t),this.bindEvent()},getButtonHtml:function(){for(var t='<div id = "mselect"><div class="cmpnt-optn-list" id="multiselect">',a=0;a<this.dataval.length;a++)t+='<div data-value = "'+this.dataval[a]+'" title="'+this.dataval[a]+'"><span class="cmpnt-mul-optn"></span>'+getEncodedText(this.dataval[a])+"</div>";return t+='</div><div class="compnt-btn" id = "cnfmsel">'+LSResource.getRealValue("common.confirm")+"</div></div>"},bindEvent:function(){var t=this;$("#multiselect [data-value]").off("click.multiple").on("click.multiple",function(){t.handleMultiselection(this)}),$("#cnfmsel").click(function(){t.handleConfirm(this)})},handleMultiselection:function(t){(t=$(t)).hasClass("sel")?(t.find("span").removeClass("sqico-tick"),t.removeClass("sel"),this.sel_count--,0==this.sel_count&&$(".compnt-btn").removeClass("btn-enbl")):this.sel_count<this.max_selection&&(t.find("span").addClass("sqico-tick"),t.addClass("sel"),this.sel_count++,$(".compnt-btn").addClass("btn-enbl"))},handleConfirm:function(t){var a="",l=$(t).parent().find("[data-value]"),n=l.length,i=[],e=0;if(0!=this.sel_count){for(var s=0;s<n;s++)$($(l)[s]).hasClass("sel")&&(a&&(a+=", "),i[e]=this.dataval[s],e++,a+=this.dataval[s]);this.callback({type:"multiple-select",msg:a,id:this.componentid,value:i})}}},{init:function(t,a){t.options?new l(t,a).populateButtons():t.callback("",a)}}}();var Button=function(){var a=function(t){this.buttonurl=t.links,this.callback=t.callback};return a.prototype={populateButtons:function(t){var n=$Widget.getLayout();n=(n=(n=ZSIQTranscript.getFormatedHTML(n)).replace(/{BOT_WIDGET}/g,this.getButtonHtml())).replace(/{CLASSNAME}/g,"botbtn"),$Widget.attachHTML(n,!0),$("#bot_widget"+t).attr("isbutton",!0)},getButtonHtml:function(){for(var t='<div class="font14 posrel" id = "buttonurl">',n=0;n<this.buttonurl.length;n++){var a,i,l=this.buttonurl[n],e=l.url;if(e)i=l.icon&&" "!=l.icon?(a="",'<span class="cmpnt-btnimg"><img src="'+l.icon+'"></span>'):(a="sqico-reply",""),t+='<a href = "'+e+'" target="_blank" data-value = "'+e+'"><div class="cmpnt-btnurl elips '+a+'">'+i+'<em class="dib-mid clr-azurblu elips">'+(getEncodedText(l.text)||e)+"</em></div></a>"}return t+="</div>"}},{init:function(t,n){t.links?new a(t).populateButtons(n):t.callback("",n)}}}();Rating=(BotRating=function(t,e){this.type=t.type||"smiley",this.image=t.data||this.getRatingobj(t)||"",this.level=t.level||5,this.callback=t.callback||function(){},this.msgid=e},BotRating.prototype.smileyobj={3:{text:["common.neutral","common.good","common.great"],classname:["cmpnt-rtng","cmpnt-rtng good","cmpnt-rtng great"]},5:{text:["smiley.angry","smiley.sad","common.neutral","common.good","common.great"],classname:["cmpnt-rtng angry","cmpnt-rtng sad","cmpnt-rtng","cmpnt-rtng good","cmpnt-rtng great"]}},BotRating.prototype.getRatingobj=function(t){return"smiley"===t.type?this.smileyobj[t.level]:"gesture"===t.type?{text:["common.like","common.dislike"]}:void 0},BotRating.prototype.renderRating=function(){var t=this.type;"smiley"!=t?"star"!=t?"gesture"==t&&this.renderGestureHtml():this.renderStarHtml():this.renderSmileyHtml()},BotRating.prototype.renderSmileyHtml=function(){for(var t=this.image,e=' <div class="textC cmpnt-rtng-cont" id="rating-wrap">',i=0;i<this.level;i++)e+='<div class="'+(t.classname[i]||this.smileyobj[this.level].classname[i])+'" id="rating'+(i+1)+'" data-type="smile-rating-'+t.text[i]+'" index='+(i+1)+'><div></div><span class="c666 dib-mid mT5" purpose="text">'+LSResource.getRealValue(t.text[i])+"</span></div> ";e+="</div>";var a=$Widget.getLayout();for(a=(a=a.replace(/{BOT_WIDGET}/g,e)).replace(/{CLASSNAME}/g,"botrating"),$Widget.attachHTML(a),i=0;i<t.length;i++)""!==t.imageurl[i]&&$("#rating"+(i+1)).find("div")[0].setAttribute("style","background:url('"+t.imageurl[i]+"')no-repeat 0px 0px/95%")},BotRating.prototype.renderStarHtml=function(){for(var t=5<this.level?"cmpnt-rtng-cont":"",e="",i=this.level;1<=i;i--)e+='<div class="sqico-star" star-count="'+i+'"></div>';var a='<div class="textC rating mT10" id="rating-wrap"><em class = "'+t+'">'+e+"</em></div>",n=$Widget.getLayout();n=(n=n.replace(/{BOT_WIDGET}/g,a)).replace(/{CLASSNAME}/g,"botrating"),$Widget.attachHTML(n)},BotRating.prototype.renderGestureHtml=function(){var t=this.image,e='<div class="textC cmpnt-rtng-cont" id="rating-wrap"><div class="cmpnt-rtng" id="like-rating" data-type="gesture-rating-like"><div class="sqico-like"></div><span class="c666" purpose="text">'+LSResource.getRealValue(t.text[0])+'</span></div> <div class="cmpnt-rtng" id="dislike-rating" data-type="gesture-rating-dislike"><div class="sqico-dislike"></div><span class="c666" purpose="text">'+LSResource.getRealValue(t.text[1])+"</span></div> </div>",i=$Widget.getLayout();i=(i=i.replace(/{BOT_WIDGET}/g,e)).replace(/{CLASSNAME}/g,"botrating"),$Widget.attachHTML(i)},BotRating.prototype.handleEvents=function(){var t=$("#cmpnt"+this.msgid),e=this;t.find("#rating-wrap").click(function(t){e.handleClicked(t)})},BotRating.prototype.handleClicked=function(t){"star"!=this.type?"smiley"==this.type?this.handleSmileyRating(t):this.handleGestureRating(t):t.target.hasAttribute("star-count")&&this.handleStarRating(t)},BotRating.prototype.handleSmileyRating=function(t){var e=t.target.parentElement;if(e.hasAttribute("data-type")){var i=$(e).find("[purpose=text]").text(),a=$(e).attr("index"),n=e.lastChild.remove();$(n).remove(),this.callback({type:"happiness-rating",value:a,msg:i,ratinghtml:e.outerHTML,id:this.msgid})}},BotRating.prototype.handleGestureRating=function(t){var e=t.target.parentElement;if(e.hasAttribute("data-type")){var i=$(e).find("[purpose=text]").text(),a=i==$("#like-rating").find("[purpose=text]").text(),n=e.lastChild.remove();$(n).remove(),this.callback({type:"like",value:a,msg:i,ratinghtml:e.outerHTML,id:this.msgid})}},BotRating.prototype.handleStarRating=function(t){var e=t.target,i=e.getAttribute("star-count");this.callback({type:"star-rating",value:i,msg:i,ratinghtml:e.outerHTML,id:this.msgid,star:!0})},{init:function(t,e){if(t.type&&""!=t.type){var i=new BotRating(t,e);i.renderRating(),i.handleEvents()}else t.callback("",e)},smiley_init:function(t,e){t.type="smiley",Rating.init(t,e)},star_init:function(t,e){t.type="star",Rating.init(t,e)},like_init:function(t,e){t.type="gesture",Rating.init(t,e)}});"use strict";var zDatepicker=function(){var z={months:["January","February","March","April","May","June","July","August","September","October","November","December"],pad:function(e,t){return e<10&&(e="0"+e),e},toString:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd",a=(e="string"==typeof e?new Date(e):e).getFullYear(),i=this.pad(e.getMonth()+1),n=this.pad(e.getDate()),s="";switch(t){case"yyyy-mm-dd":s=a+"-"+i+"-"+n;break;case"yyyy/mm/dd":s=a+"/"+i+"/"+n;break;case"dd-mm-yyyy":s=n+"-"+i+"-"+a;break;case"dd/mm/yyyy":s=n+"/"+i+"/"+a;break;case"mm-dd-yyyy":s=i+"-"+n+"-"+a;break;case"mm/dd/yyyy":s=i+"/"+n+"/"+a;break;case"readable":s=n+"-"+this.months[e.getMonth()].slice(0,3)+"-"+a}return s},toMonthAndYearString:function(e){return this.months[e.getMonth()]+" "+e.getFullYear()},isSameDay:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},isSameMonth:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},compareDay:function(e,t,a){return e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),1),t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),1),"le"==a?e<=t:t<=e},moveMonth:function(e,t){return new Date(e.getFullYear(),e.getMonth()+t)},listDates:function(e){for(var t=[],a=new Date(e.getFullYear(),e.getMonth(),1).getDay(),i=0==a?-6:1-a,n=1;n<=42;n++)t.push(new Date(e.getFullYear(),e.getMonth(),i++));return t},toDate:function(e,t){var a,i=e.indexOf("/")?e.split("/"):e.split("-");return i=i.map(Number),"yyyy-mm-dd"==t||"yyyy/mm/dd"==t?a=new Date(i[0],i[1]-1,i[2]):"dd-mm-yyyy"==t||"dd/mm/yyyy"==t?a=new Date(i[2],i[1]-1,i[0]):"mm-dd-yyyy"!=t&&"mm/dd/yyyy"!=t||(a=new Date(i[2],i[0]-1,i[1])),a},toTimezone:function(e,t){var a=e.getTime()+6e4*e.getTimezoneOffset();return new Date(a+36e5*parseFloat(t.replace(":",".")))},convertToDate:function(e){var t=new Date;if(e.match(/^\+/g)){var a=t.getDate()+parseInt(e.match(/([0-9]+)/)[0]);return n=new Date(t.getFullYear(),t.getMonth(),a,1)}if(e.match(/^-/g)){a=t.getDate()-parseInt(e.match(/([0-9]+)/)[0]);return new Date(t.getFullYear(),t.getMonth(),a,1)}if(e.match(/^[0-9]+$/))return new Date(parseInt(e));if(e.match(/^\s*([0-9]{13,14})\s*-\s*([0-9]{13,14})\s*$/i)){var i=e.match(/([0-9]{13,14})/gi);return[new Date(parseInt(i[0])),new Date(parseInt(i[1]))]}if(e.match(/^\s*last\s*([0-9]+)\s*days\s*$/gi)){a=t.getDate()-parseInt(e.match(/([0-9]+)/)[0]);return[new Date(t.getFullYear(),t.getMonth(),a,1),t]}if(e.match(/^\s*next\s*([0-9]+)\s*days\s*$/gi)){a=t.getDate()+parseInt(e.match(/([0-9]+)/)[0]);var n=new Date(t.getFullYear(),t.getMonth(),a,1);return[t,n]}return e.match(/^\s*future\s*$/gi)?[t,void 0]:e.match(/^\s*past\s*$/gi)?[void 0,t]:void 0}},b={overlay:'<div class="zsiq-datepicker-overlay" id="datepicker_body"><div class="cmpnt-cal-wrap" ><div class="calndr-hintcont">!{calhint}</div><div class="cmpnt-calndr"><em class="sqico-close" data-target="close"></em><header class="calndr-head"><span class="sqico-calendar zsiq-lH22 zsiq-flex_GS0">!{label}</span><span id="selectedDateInfo" class="zsiq-elips zsiq-mR10 zsiq-mL10 zsiq-lH22"></span><div class="calndr-sedulbtn zsiq-flex_GS0" data-target="schedule">!{schedule}</div></header><div id="datepicker"></div></div></div></div>',main:'<div class="zdatepicker"><div class="calndr-mnthname">!{date_info}</div><div class = "calndr-detlvw"><em class = "calndr-nxtprev sqico-larrow" data-target="prev-month"></em><div class = "cmpnt-calvw">!{body}</div><em class = "calndr-nxtprev sqico-rarrow" data-target="next-month"></em></div>!{showTime}</div>',daysSpan:"<div>!{shortDay}</div>",dropDown:'<div class="calndr-drpdwn"><div class = "calndr-drp"><span class="calndr-setval">!{currentValue}</span><em class="sqico-darrow"></em></div><div class = "calndr-drp-dwnvw"> !{value} </div></div>',weekWrapperStart:'<div class="cmpnt-days">',meridiemAM:'<div class="cal-timtype"><span data-target="meridiem" data="AM" class="active">!{AM}</span><span data-target="meridiem" data="PM">!{PM}</span></div>',meridiemPM:'<div class="cal-timtype"><span data-target="meridiem" data="AM">!{AM}</span><span data-target="meridiem" data="PM" class="active">!{PM}</span></div>',timeTemplate:'<div class="calndr-settime"><div class="zsiq-flex">!{timeBody}</div>!{timezoneBody}</div>',weekWrapperEnd:"</div>",currentDay:"<div><div data='!{data}' data-target='date' class='currentday'>!{day}</div></div>",normalDay:"<div><div data='!{data}' data-target='date' class='normalday'>!{day}</div></div>",disabledDay:"<div><div data='!{data}' class='disabledday'>!{day}</div></div>",selectedDay:"<div><div data='!{data}' data-target='date' class='selectedday'>!{day}</div></div>",RangeselectedDay:"<div class='zrangeHolder!{extra}'><div data='!{data}' data-target='date' class='selectedrange'>!{day}</div></div>",monthsView:'<div class="zdatepicker"><div class = "zdatepicker_header"><span class="zdatepicker_info zdatepicker_offset" data-target="yr-info"> !{year} </span></div><div class="zdatepicker_body">!{body}</div></div>',normalMonth:"<span data-target='month' data='!{month}' class='zdatepicker_normalmonth'>!{month}</span>",yearsView:"<div class=\"zdatepicker\"><div class = 'zdatepicker_header'><span class = 'zdatepicker_prev_month' data-target='prev-year'>&lsaquo;</span><span class = 'zdatepicker_info'>!{year_info}</span><span class = 'zdatepicker_next_month' data-target='next-year'>&rsaquo;</span></div><div class = \"zdatepicker_body\">!{body}</div></div>",normalYear:"<span data-target='year' data='!{year}' class='zdatepicker_normalyear' data-target='yr-info'>!{year}</span>",timezone:'<div class="zsiq-lH22 zsiq-clr-azurblu zsiq-mT30" id="datepicker_timezone" style="position: relative;"><span class="zsiq-elips" style="cursor:pointer;display:block;text-align:center;" data-target="showtzlist">!{currentTimezone}</span></div>'},i=function(e,t){this.options={format:"yyyy/mm/dd",range:e.range,view:e.view||0,onselect:e.callback,selected:"",showTime:e.time,tz:e.tz,label:e.label,hint:e.hint,from:e.from&&z.convertToDate(e.from),to:e.to&&z.convertToDate(e.to),limit:e.limit&&z.convertToDate(e.limit)},this.msgid=t,this.type=e.type,this.options.limit=this.options.limit||[this.options.from,this.options.to]};return i.prototype={init:function(){var d,e,l=new Date,c=z.toString(l,this.options.format),s=l.getFullYear(),t=l.getHours();this.hours=z.pad(v(12<t?t-12:t,1)),this.minutes=z.pad(v(l.getMinutes(),5)),this.meridiem=l.toLocaleTimeString("en-US").slice(-2);var a,m="",p="",i=TimeZone.getCurrentTimeZone();this.timezone=i.gmt,this.tz_name=i.name;var h=function(e){d.innerHTML="",d.insertAdjacentHTML("beforeend",e)},u=function(e,t,a,i,n){for(var s=b.dropDown.replace("!{currentValue}",z.pad(v(e,i))),r="",o=t;o<=a;o+=i)r+="<div data='"+z.pad(o)+"' data-target='"+n+"'>"+z.pad(o)+"</div>";return s.replace("!{value}",r)};function v(e,t){return e-e%t}var n,y=function(){return b.timezone.replace("!{currentTimezone}",this.tz_name)}.bind(this),r=function(){var e=b.main.replace("!{date_info}",z.toMonthAndYearString(l)),a="",i="",t=b.weekWrapperStart;if(z.listDates(l).forEach(function(e){var t="";0===e.getDay()&&(a+=b.weekWrapperStart),i=z.isSameMonth(l,e)?this.options.range&&e>=z.toDate(m,this.options.format)&&e<=z.toDate(p,this.options.format)?b.RangeselectedDay:c&&z.isSameDay(z.toDate(c,this.options.format),e)?b.selectedDay:this.options.limit&&(this.options.limit[0]&&!z.compareDay(e,this.options.limit[0],"ge")||this.options.limit[1]&&!z.compareDay(e,this.options.limit[1],"le"))?b.disabledDay:b.normalDay:b.disabledDay,a+=i.replace("!{day}",e.getDate()).replace("!{data}",z.toString(e,this.options.format)),6===e.getDay()&&(a+=b.weekWrapperEnd),this.options.range&&z.isSameDay(e,z.toDate(m,this.options.format))&&(t="Start"),this.options.range&&z.isSameDay(e,z.toDate(p,this.options.format))&&(t="End"),a=a.replace("!{extra}",t)}.bind(this)),["Su","Mo","Tu","We","Th","Fr","Sa"].forEach(function(e){t+=b.daysSpan.replace("!{shortDay}",e)}),t+=b.weekWrapperEnd,e=e.replace("!{body}",t+a),this.options.showTime){var n=b.timeTemplate,s=u(this.hours,1,12,1,"hours"),r=u(this.minutes,0,55,5,"minutes"),o=("PM"==this.meridiem?b.meridiemPM:b.meridiemAM).replace("!{AM}",LSResource.getRealValue("time.AM")).replace("!{PM}",LSResource.getRealValue("time.PM"));n=n.replace("!{timeBody}",s+r+o),e=(e=e.replace("!{showTime}",n)).replace("!{timezoneBody}",this.options.tz?y():"")}else e=e.replace("!{showTime}","");(h(e),this.options.showTime)&&d.querySelectorAll(".calndr-drp").forEach(function(e){e.onclick=function(e){var t=d.querySelector(".show");t&&t!=this.nextSibling&&t.classList.remove("show"),this.nextElementSibling.classList.toggle("show"),e.stopImmediatePropagation()}})}.bind(this),o=function(){var e=b.monthsView.replace("!{year}",l.getFullYear()),t="";z.months.forEach(function(e){t+=b.normalMonth.replace("!{month}",e).replace("!{month}",e)}),h(e.replace("!{body}",t))},g=function(){for(var e=s,t=b.yearsView.replace("!{year_info}",e-7+"-"+(e+7)),a="",i=[],n=e-7;n<=e+7;n++)i.push(n);i.forEach(function(e){a+=b.normalYear.replace("!{year}",e).replace("!{year}",e)}),h(t.replace("!{body}",a))},f={date:function(e){if(this.options.range)if(m)if(m&&!p){if(p=e,z.toDate(m,this.options.format)>z.toDate(p,this.options.format)){var t=m;m=p,p=t}this.options.selected=[m,p],this.updateHeader()}else m&&p&&(m=e,p="");else m=e;c=e,this.options.range||(this.options.selected=e,this.updateHeader()),r()}.bind(this),"prev-month":function(){l=z.moveMonth(l,-1),r()},"next-month":function(){l=z.moveMonth(l,1),r()},"mo-yr-info":o,month:function(e){var t=z.months.indexOf(e);l=new Date(l.setMonth(t)),r()},"yr-info":g,year:function(e){l=new Date(l.setFullYear(parseInt(e))),o()},"prev-year":function(){s-=15,g()},"next-year":function(){s+=15,g()},hours:function(e){this.hours=e,r()}.bind(this),minutes:function(e){this.minutes=e,r()}.bind(this),schedule:function(){this.options.range&&!p||(this.options.onselect({type:this.type,msg:this.getReadableSelection(),id:this.msgid,value:this.getValues()}),e.parentNode.removeChild(e),removeEventListener("click",a))}.bind(this),close:function(){e.parentNode.removeChild(e),removeEventListener("click",a)},meridiem:function(e){this.meridiem=e,r()}.bind(this),showtzlist:function(){d.querySelector("#datepicker_timezone").insertAdjacentHTML("beforeend",TimeZone.getTimeZoneHTML(!1)),d.querySelector("#tz-list input").addEventListener("input",function(e){TimeZone.handleSearch(e,this,!1)})},timezone:function(e,t){this.timezone=e,this.tz_name=t.innerHTML,d.querySelector("#tz-list").remove(),r()}.bind(this)},D=this,w=function(e,t,a){var i=d.querySelector(".calndr-settime");if(!i)return!0;var n=i.querySelector("#tz-list"),s=i.querySelector(".show");if(t=t?t.value:"",n){if("timezone"===t)return f.timezone(a,e),D.updateHeader(),!1;if(e===n||"showtzlist"===t||n.contains(e))return!1;n.remove()}else s&&e!==s&&s.classList.remove("show");return!0};n=b.overlay.replace("!{label}",getEncodedText(this.options.label)||LSResource.getRealValue("common.scheduleameeting")).replace("!{calhint}",getEncodedText(this.options.hint)).replace("!{schedule}",LSResource.getRealValue("common.schedule")),window.parent.document.body.insertAdjacentHTML("beforeend",n),e=window.parent.document.querySelector("#datepicker_body"),d=window.parent.document.querySelector("#datepicker"),r(),this.options.selected=c,this.updateHeader(),a=e.addEventListener("click",function(e){var t,a,i;e.stopPropagation(),a=(t=e).target.attributes&&t.target.attributes["data-target"],i=t.target.attributes.data&&t.target.attributes.data.value,w(t.target,a,i)&&a&&(f[a.value](i),D.updateHeader())})},updateHeader:function(){var e=window.parent.document.querySelector("#selectedDateInfo");e&&(e.innerHTML=this.getReadableSelection())},getReadableSelection:function(){var e=this.options.tz?" "+this.timezone:"",t=this.options.showTime?" "+this.hours+":"+this.minutes+" "+this.meridiem:"";if("object"==typeof this.options.selected){var a=this.getRangeString();return a.from+" to "+a.to+t+e}var i=z.toDate(this.options.selected,this.options.format);return z.toString(i,"readable")+t+e},getRangeString:function(){var e=z.toDate(this.options.selected[0],this.options.format),t=z.toDate(this.options.selected[1],this.options.format);return{from:z.toString(e,"readable"),to:z.toString(t,"readable")}},getValues:function(){var e=this.options.tz?{tz:this.timezone}:{},t=this.options.showTime?" "+this.hours+":"+this.minutes+" "+this.meridiem:"";if(this.options.range){var a=this.getRangeString();return e.from_time=a.from+t,e.to_time=a.to+t,e}return e.time=z.toString(z.toDate(this.options.selected,this.options.format),"readable")+t,e},handleTimeFormat:function(){var e=this.getReadableSelection();if(!this.options.showTime)return e;var t=(-1==e.indexOf("GMT")?e:e.substring(e.indexOf(" GMT"),0)).split(/\s(.+)/)[1],a=t.split(":"),i=a[0],n=a[1].split(" ");if(-1==t.indexOf("AM")&&12!=i)i=parseInt(a[0])+12;return e.replace(t,i+":"+n[0]+":00")},getTimestamp:function(){if(this.options.range){var e=new Date(this.options.selected[0]),t=new Date(this.options.selected[1]);return this.options.tz&&(e=z.toTimezone(e,this.timezone.replace("GMT","")),t=z.toTimezone(t,this.timezone.replace("GMT",""))),e.getTime()+"-"+t.getTime()}var a=this.options.selected+(this.options.showTime?" "+this.hours+":"+this.minutes+" "+this.meridiem:"");return a=new Date(a),this.options.tz&&(a=z.toTimezone(a,this.timezone.replace("GMT",""))),a.getTime()}},{init:function(e,t){var a=new i(e,t);return a.init(),a}}}();var Suggestions=function(){var i=function(t,s){this.dataval=t.list,this.callback=t.callback,this.componentid=s,this.type=t.type,this.required=t.required};return i.prototype={populateButtons:function(){var t=this.getButtonHtml(),s=$("#msgdiv").children().last();$("#conversationoption").remove(),0===$(".zsiq_transferdiv").length?s.append(t):s.prev().append(t),ZSIQTranscript.scroll(),this.bindEvent()},getButtonHtml:function(){var t="";if("suggestions"!==this.type)return'<div class="zsiq_transferdiv fnt13" style="" id="skipquestion"><span class="bot_opt">Skip</span>';for(var s=0;s<this.dataval.length;s++){var i=getEncodedText(this.dataval[s]);t+='<span class="choose mB10 elips" purpose="custom" val="'+i+'" prop="'+this.type+'">'+i+"</span>"}return'<div class="options textR mT20" id="conversationoption" data-type="'+this.type+'">'+t+"</div>"},bindEvent:function(){var t=this;$("span[prop=suggestions]").off("click.suggest").on("click.suggest",function(){t.chooseField(this)})},chooseField:function(t){t=$(t),this.callback({type:this.type,msg:t.attr("val"),id:this.componentid})}},{init:function(t,s){($BotImpl.enableComposer(),t.list)?new i(t,s).populateButtons():t.callback("",s)}}}();var Singleselect=function(){var a=function(t,e){this.dataval=t.options,this.callback=t.callback,this.componentid=e};return a.prototype={populateButtons:function(){var t=$Widget.getLayout();t=(t=t.replace(/{BOT_WIDGET}/g,this.getButtonHtml())).replace(/{CLASSNAME}/g,"botsselect"),$Widget.attachHTML(t),this.bindEvent()},getButtonHtml:function(){for(var t='<div class="cmpnt-optn-list" id="singleselect">',e=0;e<this.dataval.length;e++)t+='<div data-value = "'+this.dataval[e]+'" title="'+this.dataval[e]+'">'+getEncodedText(this.dataval[e])+"</div>";return t+="</div>"},bindEvent:function(){var t=this;$("#singleselect [data-value]").off("click.select").on("click.select",function(){t.handleSingleselection(this)})},handleSingleselection:function(t){(t=$(t)).parent().find("[data-value]").removeClass("sel"),t.addClass("sel"),this.callback({msg:t.attr("data-value"),id:this.componentid,type:"select"})}},{init:function(t,e){t.options?new a(t,e).populateButtons():t.callback("",e)}}}();var BotArticle=function(){var i=function(t,a){this.data=t,this.data.id=a};return i.prototype={renderArticle:function(){var t=$Widget.getLayout();t=(t=t.replace(/{BOT_WIDGET}/g,ZSIQTranscript.getCustomArticleCard(this.data))).replace(/{CLASSNAME}/g,""),$Widget.attachHTML(t),$("#cmpnt"+this.data.id).parents(".msgbx").addClass("artcle-vw")},setEvents:function(){var a=this;this.data.articles&&this.data.articles.length&&$("#rel-articles-"+this.data.id).click(function(t){a.handleClicked(t)})},handleClicked:function(t){var a=t.target;$(a).attr("article-id")&&$FAQ.showFAQPreview($(a))}},{init:function(t,a){var e=new i(t,a);e.renderArticle(),e.setEvents()}}}();var BotTimeSlot=function(){var d=["January","February","March","April","May","June","July","August","September","October","November","December"],m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=function(t,e){this.data=t,this.label=getEncodedText(t.label)||LSResource.getRealValue("widget.timeslot.shedulemeeting"),this.time=e||Date.now(),this.minutes=0,this.shedule={time:"",time_str:"",date:"",date_str:"",tz:"",gmt:""}};i.prototype={init:function(){var t=this.data.slots;if(t)if("timeslots"==this.data.type){var e=new Date;this.shedule.date=e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear(),this.shedule.date_str=m[e.getDay()]+", "+d[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear(),this.datelist=[this.shedule.date],this.data.slots={},this.data.slots[this.shedule.date]=t,this.limit=1}else this.datelist=Object.keys(t),this.limit=2<this.datelist.length?3:this.datelist.length,this.index=0;if(this.data.tz){var i=TimeZone.getCurrentTimeZone();this.shedule.gmt=i.gmt,this.shedule.tz=i.gmt+" "+i.name}this.setButtonUI()},setButtonUI:function(){var t='<div class="cmpnt-btnurl elips sqico-calendar" id="bot_timeslot"><em class="dib-mid clr-azurblu cmpnt-cusclr">'+this.label+"</em></div>",e=$Widget.getLayout();e=(e=e.replace(/{BOT_WIDGET}/g,t)).replace(/{CLASSNAME}/g,"botbtn"),$Widget.attachHTML(e),$("#bot_timeslot").on("click",function(t){$(".cmpnt-wrap").removeClass("botbtn"),$("#bot_timeslot").replaceWith(this.getTimeSlotHTML()),this.renderTimeSlot(this.data)}.bind(this))},getTimeSlotHTML:function(){return'<div class="cmpnt-wrap" id="timeslot-'+this.time+'"><div class="cmpnt-body-cont" id="title-zone"></div><div class="posrel textC" id="timeslot-select"></div>'+this.getNextPrevHTML()+"</div>"},getNextPrevHTML:function(){return'<a><div class="cmpnt-nxtprev" id="timeslot-move" slot="date"><div class="c333"><div class="dib-mid" move="prev"><em class="sqico-larrow"></em><em class="dib-mid clr-azurblu">'+LSResource.getRealValue("common.prev")+'</em></div></div><div class="c333 cmpnt-prev"><div  class="dib-mid"  move="next"><em class="sqico-larrow"></em><em class="dib-mid clr-azurblu">'+LSResource.getRealValue("common.next")+"</em></div></div></div></a>"},renderTimeSlot:function(t){this.elem=$("#timeslot-"+this.time);var e="timeslots"==this.data.type?"time":"date";this.setDateTimeSlots(e),this.elem.find("#timeslot-move").attr("slot",e),this.setTitleAndZone();var i=this;this.elem.find("#timeslot-move [move]").on("click",function(t){i.handleMoveClick(this,t)})},setTitleAndZone:function(){var t="timeslots"==this.data.type?"widget.timeslot.selecttime":"widget.timeslot.selectday",e='<div class="font15"><div class="font16 c555 mB10 lH22"><em class="sqico-larrow" move=""></em>'+this.label+'</div><div class="mB10 clr-azurblu lH22 curP elips" tz="" id="tz_drpdown"></div><div class="c888 lH22" slot-title >'+LSResource.getRealValue(t)+"</div></div>";this.elem.find("#title-zone").html(e);var i=this;this.elem.find("#title-zone .sqico-larrow").hide().on("click",function(t){i.handleBackArrow()}),this.elem.find("#tz_drpdown").on("click",function(t){"date"!=i.elem.find("#timeslot-move").attr("slot")&&"timeslots"!=i.data.type||i.elem.has("#tz-list").length||i.showTimeZoneList(t)}),this.setTimeZone(),ZSIQTranscript.scroll()},showTimeZoneList:function(t){if(this.data.tz){var e=TimeZone.getTimeZoneHTML(!0);this.elem.find("#timeslot-select").after(e);var i=this;this.elem.find("#tz-list").on("click",function(t){i.handleTimeZoneClick(t)}),this.elem.find("#tz-list input").on("input",function(t){TimeZone.handleSearch(t,this,!0)}),s(i,t)}},setDateTimeSlots:function(t){var e=this,i="";this.data.slots&&(i="date"==t?this.getDateSlots():this.getTimeSlots()),this.elem.find("#timeslot-select").html(i),this.elem.find("#timeslot-select ["+t+"]").on("click",function(t){e.handleDateTimeClick(this,t)}),ZSIQTranscript.scroll()},handleTimeZoneClick:function(t){var e=t.target;e.hasAttribute("data")&&(this.elem.find("#tz-list").remove(),this.shedule.gmt=$(e).attr("data"),this.shedule.tz=$(e).html(),this.setTimeZone())},setTimeZone:function(){var t=this.data.tz?this.shedule.tz:"timeslots"==this.data.type?this.shedule.date_str:"";this.elem.find("#tz_drpdown").html(t)},handleDateTimeClick:function(t,e){if("date"==this.elem.find("#timeslot-move").attr("slot")){var i=$(t).attr("date");if(i){this.shedule.date=i,this.shedule.date_str=$(t).text(),this.minutes=0,this.elem.find("#timeslot-move").attr("slot","time"),this.setDateTimeSlots("time");var s=this.elem.find("#title-zone");s.find(".sqico-larrow").show(),s.find("#tz_drpdown").html(this.shedule.date_str),s.find("[slot-title]").html(LSResource.getRealValue("widget.timeslot.selecttime"))}}else{var l=$(e.target).attr("time");l&&(this.shedule.time=l,this.shedule.time_str=$(e.target).text(),this.setSelectedResult(),this.elem.find("#timeslot-select").hide(),this.elem.find("#timeslot-move").hide().attr("slot","confirm"))}},setSelectedResult:function(){var s=this.shedule.date_str+" at "+this.shedule.time_str,t='<div class="font15"><div class="font16 c555 mB10 lH22"><em class="sqico-larrow" move="prev"></em>'+this.label+'</div><div class="mB10 lH22 c000">'+s+'</div><div class="lH22 c000">'+this.shedule.tz+'</div><div class="compnt-btn cal-scdule" id="confirm">'+LSResource.getRealValue("common.confirm")+"</div></div></div>";this.elem.find("#title-zone").html(t);var l=this;this.elem.find("#title-zone .sqico-larrow").on("click",function(t){l.handleBackArrow()}),s+=" "+this.shedule.tz,this.elem.find("#confirm").on("click",function(t){var e={id:l.time,msg:s,type:l.data.type},i="timeslots"==l.data.type?l.shedule.time:l.shedule.date+" "+l.shedule.time;e.value={tz:l.shedule.gmt,slot:i},l.data.callback(e)})},enableBackArrow:function(){this.elem.find("#title-zone .sqico-larrow").show()},handleBackArrow:function(){var t=this.elem.find("#timeslot-move").attr("slot");"time"==t?(this.elem.find("#title-zone .sqico-larrow").hide(),this.elem.find("#timeslot-move").attr("slot","date"),this.setDateTimeSlots("date"),this.elem.find("#title-zone [slot-title]").html(LSResource.getRealValue("widget.timeslot.selectday")),this.setTimeZone()):"confirm"==t&&(this.elem.find("#timeslot-move").show().attr("slot","time"),this.elem.find("#timeslot-select").show(),this.setTitleAndZone(),"timeslots"!=this.data.type&&(this.elem.find("#title-zone .sqico-larrow").show(),this.elem.find("#tz_drpdown").html(this.shedule.date_str)),this.setDateTimeSlots("time"))},handleMoveClick:function(t){var e=$(t).attr("move"),i=this.elem.find("#timeslot-move").attr("slot");if("date"==i){if("prev"==e){var s=this.index-this.limit;this.index=s<0?0:s}else if("next"==e){s=this.index+this.limit;this.index=s>=this.datelist.length?this.index:s}this.setDateTimeSlots("date")}else if("time"==i){if("prev"==e){s=this.minutes-6;this.minutes=s<0?0:s}else if("next"==e){s=this.minutes+6;this.minutes=s>=this.data.slots[this.shedule.date].length?this.minutes:s}this.setDateTimeSlots("time")}},getDateSlots:function(){var t,e="",i=this.elem.find("#timeslot-move");3<this.datelist.length?$(i).show():$(i).hide();for(var s=this.index;s-this.index<this.limit;s++){var l=this.datelist[s];if(!l)break;var a=-1!=l.indexOf("/")?l.split("/"):l.split("-"),n=a[1];n=isNaN(parseInt(n))?new Date("0-"+n).getMonth():n-1,t=new Date(a[2],n,a[0]),a=l;var o=d[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear();e+=' <div class="cmpnt-btnurl cmpnt-cal-date" date="'+a+'" ><em class="c333">'+m[t.getDay()]+'</em><em class="c777"> '+o+"</em></div>"}return e},getTimeSlots:function(){var t="",e=this.data.slots[this.shedule.date],i=this.elem.find("#timeslot-move");if(!e)return"";function s(t){if(!t)return"";var e=t.split(":"),i=e[0]%=24;return'<em time="'+t+'">'+(i=(i=12==i?12:i%12)<10?"0"+i:i)+":"+e[1]+" "+(11<e[0]?LSResource.getRealValue("time.PM"):LSResource.getRealValue("time.AM"))+"</em>"}6<e.length?$(i).show():$(i).hide();for(var l=this.minutes;l-this.minutes<6;l++)t+=e[l]?'<div class="cmpnt-btnurl cmpnt-cal-time" id="">'+s(e[l++])+s(e[l])+"</div>":"";return t}};var s=function(t,e){$Clickoutside&&$Clickoutside.bindclick(function(){t.elem.find("#tz-list").remove()},"tz-list","tz_drpdown",!0,e)};return{init:function(t,e){new i(t,e).init()}}}();var ZMaps=function(){var c,n,o,i,l,s,r,d,u,g,v=function(){return $Support.getZMapKeys()},a=function(){var e=$Widget.getLocationWidgetHtml(c.label),t=$Widget.getLayout();t=(t=t.replace(/{BOT_WIDGET}/g,e)).replace(/{CLASSNAME}/g,"bot-locatn"),$Widget.attachHTML(t),(d=document.querySelector("#bot_location")).addEventListener("click",p)},p=function(){k(c.lat,c.lng)},f=function(e,t){var a=window.parent.document;a.body.insertAdjacentHTML("beforeend",w("overlay")),o=a.querySelector("#glocation_body");var n=a.querySelector("#widget_holder"),i=a.createElement("div");i.style.height="700px",n.insertAdjacentElement("beforeend",i),_event=o.addEventListener("click",function(e){e.stopPropagation(),E(e)});var l=R(b,500);(r=a.querySelector("#searchplace")).addEventListener("input",function(e){var t=e.target.value.length;r.parentElement.querySelector("[data-target = 'suggclose']").style.display=t?"block":"none",1<t?l(e.target.value):q()}),r.addEventListener("keyup",function(e){M(e.keyCode)}),m(e,t,i)},m=function(e,t,a){var n={container:a,zoom:12,center:[t,e],style:v().zmapstaticurl+"vector/styles/bright.json"};(i=new g.Map(n)).addControl(new g.NavigationControl,"bottom-right"),y(e,t),c.radius?i.on("style.load",function(){T(e,t)}):(i.on("click",function(e){y(e.lngLat.lat,e.lngLat.lng)}),i.flyTo({center:[t,e],zoom:12}))},y=function(e,t){if(l)return l.setLngLat({lat:e,lng:t}),void L(e,t,function(e){s.setHTML('<div class="font15">'+e.display_name+"</div>")});var a=document.createElement("span");a.className="sqico-location",a.style["font-size"]="25px";var n={anchor:"center",draggable:!c||!c.radius,element:a,offset:[-0,-12]};l=new g.Marker(n).setLngLat({lat:e,lng:t}).addTo(i),L(e,t,function(e){s=new g.Popup({offset:1}).setHTML('<div class="font15">'+e.display_name+"</div>"),l.setPopup(s)})},h=function(e,t,a){return v().zmapstaticurl+"v2/staticimage?lat="+e+"&lon="+t+"&zoom=12&height=250&width=300&marker=true"},L=function(e,t,a){var n=JSON.stringify({lat:e,lon:t});$.ajax({url:v().zmapstaticurl+"v1/query/rgeocode",type:"GET",data:{params:n,api_key:v().zmapapikey},success:function(e){a(e)}})},b=function(t){if(r.value.length<2)q();else{var e=window.parent.document.querySelector("#autocomplete");e.style.display="block",e.innerHTML='<em class="siq_loading"></em>';var a=l.getLngLat(),n={q:t,limit:4,autocomplete:"true",priorityLat:a.lat,priorityLon:a.lng};n=JSON.stringify(n),$.ajax({url:v().zmapstaticurl+"v1/pelias/query/geocode",type:"GET",data:{params:n,api_key:v().zmapapikey},success:function(e){r.value===t&&S(e)}})}},q=function(){var e=window.parent.document.querySelector("#autocomplete");e.innerHTML="",e.style.display="none"},M=function(e){var t,a=window.parent.document.querySelector("#map_sugg"),n={38:function(){t?(t.previousElementSibling?t.previousElementSibling.classList.add("sel"):a.children[a.children.length-1].classList.add("sel"),t.classList.remove("sel")):a.children[a.children.length-1].classList.add("sel")},40:function(){t?(t.nextElementSibling?t.nextElementSibling.classList.add("sel"):a.children[0].classList.add("sel"),t.classList.remove("sel")):a.children[0].classList.add("sel")},13:function(){if(t){var e={};e.target=t,_(e),q()}}};a&&(t=a.querySelector(".sel"),"function"==typeof n[e]&&n[e]())},S=function(e){var t=window.parent.document.querySelector("#autocomplete");t.style.display="block";var a="";if(e.length){for(var n=0;n<e.length;n++){var i=e[n];a+=w("suggestion",i)}t.innerHTML='<div class="locat-sugges"><div class="zsiq-c888 zsiq-mL10">Suggestions</div><div id="map_sugg">'+a+"</div>"}else t.innerHTML='<div class="zsiq-noresult"><div class="zsiq-nrdesc">'+LSResource.getRealValue("widget.location.notfound")+'</div><div>"sdfsdf"</div></div>'},w=function(e,t){return{overlay:function(){return'<div class="zsiq-datepicker-overlay" id="glocation_body"><div class="cmpnt-cal-wrap" ><div class="calndr-hintcont">'+LSResource.getRealValue("widget.location.select")+'</div><div class="cmpnt-calndr cmpnt-locatn" id ="widget_holder"><em class="sqico-close" data-target="close"></em><header class="calndr-head sqico-location"><input type="text" id="searchplace" placeholder="'+LSResource.getRealValue("widget.location.placeholder")+'"><em class="sqico-close" data-target="suggclose" style="display:none;"></em><div class ="cmpnt-srchloct" id="autocomplete" style="display : none;"></div>'+(c.callback?'<div class="calndr-sedulbtn" data-target="sendLocation">'+LSResource.getRealValue("widget.location.send")+"</div>":"")+"</header></div></div></div>"},suggestion:function(e){var t=e.display_name.split(",");return'<div class="zsiq-dtfix locat-fld" lat='+e.lat+" lng="+e.lon+' data-target="suggestion"><div><span class="sqico-location zsiq-dcell zsiq-pR10"></span><div class="zsiq-dcell"><div>'+t[0]+'</div><div class="zsiq-c777">'+t[1]+"</div></div></div></div>"}}[e](t)},k=function(e,t){if(d&&d.removeEventListener("click",p),u)g&&z(e,t);else{var a="<link href='"+v().zmapapicss+"' rel='stylesheet' />";window.parent.document.head.insertAdjacentHTML("beforeend",a),(u=document.createElement("script")).src=v().zmapapiurl,window.parent.document.head.appendChild(u),u.onload=function(){g=v().mapboxgl,z(e,t)}}},z=function(e,t){e&&t?f(e,t):navigator.geolocation.getCurrentPosition(function(e){f(e.coords.latitude,e.coords.longitude)},function(){f(37.686091,-121.893752)})},E=function(e){var t={close:function(){d&&d.addEventListener("click",p),o.remove(),l=null,removeEventListener("click",_event)},sendLocation:function(){var t;t=l.getLngLat(),L(t.lat,t.lng,function(e){e.error?c.callback({type:"location",value:{lat:t.lat,lng:t.lng,image:h(t.lat,t.lng)},msg:t.lat+","+t.lng,id:n}):c.callback({type:"location",value:{street:e.address.road||e.address.village||"",city:e.address.state_district||"",state:e.address.state||"",lat:e.lat,lng:e.lon,image:h(e.lat,e.lon)},msg:e.display_name,id:n})}),l=null,o.remove(),removeEventListener("click",_event)},suggestion:function(){_(e),q(),r.value="",r.parentElement.querySelector("[data-target = 'suggclose']").style.display="none"},suggclose:function(){q(),r.value="",e.target.style.display="none"}},a=e.target.getAttribute("data-target");"function"==typeof t[a]&&t[a](),e.target!=r&&l&&q()},_=function(e){var t=e.target.getAttribute("lng"),a=e.target.getAttribute("lat");if(c.radius&&A(a,t)>c.radius)return;y(a,t),i.flyTo({center:[t,a],zoom:12})},T=function(e,t){i.addSource("radius_source",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[t,e]}}]}}),i.addLayer({type:"circle",id:"radius",source:"radius_source",layout:{visibility:"visible"},paint:{"circle-radius":{stops:[[0,0],[20,H(c.radius,e)]],base:2},"circle-color":"rgba(0, 145, 255, 0.2)","circle-opacity":1}}),i.flyTo({center:[t,e],zoom:12}),i.on("click","radius",function(e){y(e.lngLat.lat,e.lngLat.lng)})},A=function(e,t){var a=c.lat,n=c.lng,i=x(a),l=x(e),o=x(e-a),s=x(t-n),r=Math.sin(o/2)*Math.sin(o/2)+Math.cos(i)*Math.cos(l)*Math.sin(s/2)*Math.sin(s/2);return 6371e3*(2*Math.atan2(Math.sqrt(r),Math.sqrt(1-r)))},H=function(e,t){return e/.075/Math.cos(t*Math.PI/180)},x=function(e){return e*Math.PI/180},R=function(n,i,l){var o;return function(){var e=this,t=arguments,a=l&&!o;clearTimeout(o),o=setTimeout(function(){o=null,l||n.apply(e,t)},i),a&&n.apply(e,t)}};return{init:function(e,t){c=e,n=t,a()},getStaticImage:function(e,t){return h(e,t)},loadMap:function(e,t){k(e,t)},reverseGeoCoding:function(e,t,a){L(e,t,a)},openMapsFromImage:function(e){var t,a,n;a=(t=e).target.getAttribute("lat"),n=t.target.getAttribute("lng"),c={},k(a,n)}}}();var TimeZone=function(){function T(n,i){var e,a='<div class="cmpnt-time-list">!{list}</div>',f="";return[{name:"GMT-12:00 (Etc/GMT+12)",gmt:"GMT-12:0",offset:720},{name:"GMT-11:00 (Etc/GMT+11)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (MIT)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (Pacific/Apia)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Midway)",gmt:"GMT-11:0",offset:660},{name:"Niue Time (Pacific/Niue)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Pago_Pago)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (US/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Hawaii-Aleutian Daylight Time (America/Adak)",gmt:"GMT-10:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (America/Atka)",gmt:"GMT-10:0",offset:600},{name:"GMT-10:00 (Etc/GMT+10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (HST)",gmt:"GMT-10:0",offset:600},{name:"Tokelau Time (Pacific/Fakaofo)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (Pacific/Honolulu)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (Pacific/Johnston)",gmt:"GMT-10:0",offset:600},{name:"Cook Is. Time (Pacific/Rarotonga)",gmt:"GMT-10:0",offset:600},{name:"Tahiti Time (Pacific/Tahiti)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (SystemV/HST10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (US/Aleutian)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (US/Hawaii)",gmt:"GMT-10:0",offset:600},{name:"Marquesas Time (Pacific/Marquesas)",gmt:"GMT-9:30",offset:570},{name:"Alaska Daylight Time (AST)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Anchorage)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Juneau)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Nome)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Yakutat)",gmt:"GMT-9:0",offset:540},{name:"GMT-09:00 (Etc/GMT+9)",gmt:"GMT-9:0",offset:540},{name:"Gambier Time (Pacific/Gambier)",gmt:"GMT-9:0",offset:540},{name:"Alaska Standard Time (SystemV/YST9)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (SystemV/YST9YDT)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (US/Alaska)",gmt:"GMT-9:0",offset:540},{name:"Pacific Daylight Time (America/Dawson)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Ensenada)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Los_Angeles)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Tijuana)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Vancouver)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Whitehorse)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Canada/Pacific)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Canada/Yukon)",gmt:"GMT-8:0",offset:480},{name:"GMT-08:00 (Etc/GMT+8)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Mexico/BajaNorte)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (PST)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (PST8PDT)",gmt:"GMT-8:0",offset:480},{name:"Pitcairn Standard Time (Pacific/Pitcairn)",gmt:"GMT-8:0",offset:480},{name:"Pacific Standard Time (SystemV/PST8)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (SystemV/PST8PDT)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (US/Pacific)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (US/Pacific-New)",gmt:"GMT-8:0",offset:480},{name:"Mountain Daylight Time (America/Boise)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Cambridge_Bay)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Chihuahua)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (America/Dawson_Creek)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Denver)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Edmonton)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (America/Hermosillo)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Inuvik)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Mazatlan)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (America/Phoenix)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Shiprock)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Yellowknife)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (Canada/Mountain)",gmt:"GMT-7:0",offset:420},{name:"GMT-07:00 (Etc/GMT+7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (MST)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (MST7MDT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (Mexico/BajaSur)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (Navajo)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (PNT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (SystemV/MST7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (SystemV/MST7MDT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (US/Arizona)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (US/Mountain)",gmt:"GMT-7:0",offset:420},{name:"Central Standard Time (America/Belize)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Cancun)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Chicago)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Costa_Rica)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/El_Salvador)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Guatemala)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Knox)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Petersburg)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Vincennes)",gmt:"GMT-6:0",offset:360},{name:"Eastern Daylight Time (America/Knox_IN)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Managua)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Menominee)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Merida)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Mexico_City)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Monterrey)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/Center)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/New_Salem)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Rainy_River)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Rankin_Inlet)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Regina)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Swift_Current)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Tegucigalpa)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Winnipeg)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (CST)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (CST6CDT)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (Canada/Central)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (Canada/East-Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (Canada/Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Easter Is. Time (Chile/EasterIsland)",gmt:"GMT-6:0",offset:360},{name:"GMT-06:00 (Etc/GMT+6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (Mexico/General)",gmt:"GMT-6:0",offset:360},{name:"Easter Is. Time (Pacific/Easter)",gmt:"GMT-6:0",offset:360},{name:"Galapagos Time (Pacific/Galapagos)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (SystemV/CST6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (SystemV/CST6CDT)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (US/Central)",gmt:"GMT-6:0",offset:360},{name:"Eastern Daylight Time (US/Indiana-Starke)",gmt:"GMT-6:0",offset:360},{name:"Eastern Standard Time (America/Atikokan)",gmt:"GMT-5:0",offset:300},{name:"Colombia Time (America/Bogota)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Cayman)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Coral_Harbour)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Detroit)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Eirunepe)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Fort_Wayne)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Grand_Turk)",gmt:"GMT-5:0",offset:300},{name:"Ecuador Time (America/Guayaquil)",gmt:"GMT-5:0",offset:300},{name:"Central Daylight Time (America/Havana)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Indianapolis)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Marengo)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Vevay)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indianapolis)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Iqaluit)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Louisville)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Monticello)",gmt:"GMT-5:0",offset:300},{name:"Peru Time (America/Lima)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Louisville)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Montreal)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Nassau)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/New_York)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Nipigon)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Panama)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Pangnirtung)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Port-au-Prince)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Porto_Acre)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Rio_Branco)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Thunder_Bay)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Toronto)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (Brazil/Acre)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (Canada/Eastern)",gmt:"GMT-5:0",offset:300},{name:"Central Daylight Time (Cuba)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (EST)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (EST5EDT)",gmt:"GMT-5:0",offset:300},{name:"GMT-05:00 (Etc/GMT+5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (IET)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (SystemV/EST5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (SystemV/EST5EDT)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (US/East-Indiana)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (US/Eastern)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (US/Michigan)",gmt:"GMT-5:0",offset:300},{name:"Atlantic Standard Time (America/Anguilla)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Antigua)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Aruba)",gmt:"GMT-4:0",offset:240},{name:"Paraguay Time (America/Asuncion)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Barbados)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Blanc-Sablon)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Boa_Vista)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Campo_Grande)",gmt:"GMT-4:0",offset:240},{name:"Venezuela Time (America/Caracas)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Cuiaba)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Curacao)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Dominica)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Glace_Bay)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Goose_Bay)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Grenada)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Guadeloupe)",gmt:"GMT-4:0",offset:240},{name:"Guyana Time (America/Guyana)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Halifax)",gmt:"GMT-4:0",offset:240},{name:"Bolivia Time (America/La_Paz)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Manaus)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Martinique)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Moncton)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Montserrat)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Port_of_Spain)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Porto_Velho)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Puerto_Rico)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (America/Santiago)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Santo_Domingo)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Kitts)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Lucia)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Thomas)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Vincent)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Thule)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Tortola)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Virgin)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (Antarctica/Palmer)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (Atlantic/Bermuda)",gmt:"GMT-4:0",offset:240},{name:"Falkland Is. Summer Time (Atlantic/Stanley)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (Brazil/West)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (Canada/Atlantic)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (Chile/Continental)",gmt:"GMT-4:0",offset:240},{name:"GMT-04:00 (Etc/GMT+4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (PRT)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (SystemV/AST4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (SystemV/AST4ADT)",gmt:"GMT-4:0",offset:240},{name:"Newfoundland Daylight Time (America/St_Johns)",gmt:"GMT-3:30",offset:210},{name:"Newfoundland Daylight Time (CNT)",gmt:"GMT-3:30",offset:210},{name:"Newfoundland Daylight Time (Canada/Newfoundland)",gmt:"GMT-3:30",offset:210},{name:"Argentine Time (AGT)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Araguaina)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/ComodRivadavia)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/La_Rioja)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Rio_Gallegos)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/San_Juan)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Tucuman)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Ushuaia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Bahia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Belem)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"French Guiana Time (America/Cayenne)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Fortaleza)",gmt:"GMT-3:0",offset:180},{name:"Western Greenland Summer Time (America/Godthab)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Maceio)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Pierre &amp; Miquelon Daylight Time (America/Miquelon)",gmt:"GMT-3:0",offset:180},{name:"Uruguay Time (America/Montevideo)",gmt:"GMT-3:0",offset:180},{name:"Suriname Time (America/Paramaribo)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Recife)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Rosario)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Sao_Paulo)",gmt:"GMT-3:0",offset:180},{name:"Rothera Time (Antarctica/Rothera)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (BET)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (Brazil/East)",gmt:"GMT-3:0",offset:180},{name:"GMT-03:00 (Etc/GMT+3)",gmt:"GMT-3:0",offset:180},{name:"Fernando de Noronha Time (America/Noronha)",gmt:"GMT-2:0",offset:120},{name:"South Georgia Standard Time (Atlantic/South_Georgia)",gmt:"GMT-2:0",offset:120},{name:"Fernando de Noronha Time (Brazil/DeNoronha)",gmt:"GMT-2:0",offset:120},{name:"GMT-02:00 (Etc/GMT+2)",gmt:"GMT-2:0",offset:120},{name:"Eastern Greenland Summer Time (America/Scoresbysund)",gmt:"GMT-1:0",offset:60},{name:"Azores Summer Time (Atlantic/Azores)",gmt:"GMT-1:0",offset:60},{name:"Cape Verde Time (Atlantic/Cape_Verde)",gmt:"GMT-1:0",offset:60},{name:"GMT-01:00 (Etc/GMT+1)",gmt:"GMT-1:0",offset:60},{name:"Greenwich Mean Time (Africa/Abidjan)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Accra)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bamako)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Banjul)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bissau)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/Casablanca)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Conakry)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Dakar)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/El_Aaiun)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Freetown)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Lome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Monrovia)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Nouakchott)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Ouagadougou)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Sao_Tome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Timbuktu)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (America/Danmarkshavn)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Canary)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Faeroe)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Madeira)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Atlantic/Reykjavik)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Atlantic/St_Helena)",gmt:"GMT+0:0",offset:0},{name:"Irish Summer Time (Eire)",gmt:"GMT+0:0",offset:0},{name:"GMT+00",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Etc/Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Universal)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Zulu)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Belfast)",gmt:"GMT+0:0",offset:0},{name:"Irish Summer Time (Europe/Dublin)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Guernsey)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Isle_of_Man)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Jersey)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Europe/Lisbon)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/London)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (GB)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (GB-Eire)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (GMT)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Iceland)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Portugal)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Universal)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (WET)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Zulu)",gmt:"GMT+0:0",offset:0},{name:"Central European Time (Africa/Algiers)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Bangui)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Brazzaville)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Ceuta)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Douala)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Kinshasa)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Lagos)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Libreville)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Luanda)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Malabo)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Ndjamena)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Niamey)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Porto-Novo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Tunis)",gmt:"GMT+1:0",offset:-60},{name:"Western African Summer Time (Africa/Windhoek)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Arctic/Longyearbyen)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Atlantic/Jan_Mayen)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (CET)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (ECT)",gmt:"GMT+1:0",offset:-60},{name:"GMT+01",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Amsterdam)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Andorra)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Belgrade)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Berlin)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Bratislava)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Brussels)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Budapest)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Copenhagen)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Gibraltar)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Ljubljana)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Luxembourg)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Madrid)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Malta)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Monaco)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Oslo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Paris)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Podgorica)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Prague)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Rome)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/San_Marino)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Sarajevo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Skopje)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Stockholm)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Tirane)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Vaduz)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Vatican)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Vienna)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Warsaw)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Zagreb)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Zurich)",gmt:"GMT+1:0",offset:-60},{name:"Middle Europe Summer Time (MET)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Poland)",gmt:"GMT+1:0",offset:-60},{name:"Eastern European Summer Time (ART)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Blantyre)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Bujumbura)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Africa/Cairo)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Gaborone)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Harare)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Johannesburg)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Kigali)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lubumbashi)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lusaka)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Maputo)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Maseru)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Mbabane)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Africa/Tripoli)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Amman)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Beirut)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Damascus)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Gaza)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Istanbul)",gmt:"GMT+2:0",offset:-120},{name:"Israel Standard Time (Asia/Jerusalem)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Nicosia)",gmt:"GMT+2:0",offset:-120},{name:"Israel Standard Time (Asia/Tel_Aviv)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (CAT)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (EET)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Egypt)",gmt:"GMT+2:0",offset:-120},{name:"GMT+02",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Athens)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Bucharest)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Chisinau)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Helsinki)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Istanbul)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kaliningrad)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kiev)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Mariehamn)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Minsk)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Nicosia)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Riga)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Simferopol)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Sofia)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tallinn)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tiraspol)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Uzhgorod)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Vilnius)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Zaporozhye)",gmt:"GMT+2:0",offset:-120},{name:"Israel Standard Time (Israel)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Libya)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Turkey)",gmt:"GMT+2:0",offset:-120},{name:"Eastern African Time (Africa/Addis_Ababa)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Asmera)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Dar_es_Salaam)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Djibouti)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Kampala)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Khartoum)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Mogadishu)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Nairobi)",gmt:"GMT+3:0",offset:-180},{name:"Syowa Time (Antarctica/Syowa)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Aden)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Daylight Time (Asia/Baghdad)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Bahrain)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Kuwait)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Qatar)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Riyadh)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (EAT)",gmt:"GMT+3:0",offset:-180},{name:"GMT+03",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (Europe/Moscow)",gmt:"GMT+3:0",offset:-180},{name:"Volgograd Summer Time (Europe/Volgograd)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Antananarivo)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Comoro)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Mayotte)",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (W-SU)",gmt:"GMT+3:0",offset:-180},{name:"( GMT 3:7 ) GMT+03",gmt:"GMT+3:7",offset:-187},{name:"( GMT 3:30 ) Iran Standard Time (Asia/Tehran)",gmt:"GMT+3:30",offset:-210},{name:"( GMT 3:30 ) Iran Standard Time (Iran)",gmt:"GMT+3:30",offset:-210},{name:"Azerbaijan Summer Time (Asia/Baku)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Dubai)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Muscat)",gmt:"GMT+4:0",offset:-240},{name:"Georgia Time (Asia/Tbilisi)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (Asia/Yerevan)",gmt:"GMT+4:0",offset:-240},{name:"GMT+04",gmt:"GMT+4:0",offset:-240},{name:"Samara Summer Time (Europe/Samara)",gmt:"GMT+4:0",offset:-240},{name:"Seychelles Time (Indian/Mahe)",gmt:"GMT+4:0",offset:-240},{name:"Mauritius Time (Indian/Mauritius)",gmt:"GMT+4:0",offset:-240},{name:"Reunion Time (Indian/Reunion)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (NET)",gmt:"GMT+4:0",offset:-240},{name:"( GMT 4:30 ) Afghanistan Time (Asia/Kabul)",gmt:"GMT+4:30",offset:-270},{name:"Aqtau Time (Asia/Aqtau)",gmt:"GMT+5:0",offset:-300},{name:"Aqtobe Time (Asia/Aqtobe)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashgabat)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashkhabad)",gmt:"GMT+5:0",offset:-300},{name:"Tajikistan Time (Asia/Dushanbe)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (Asia/Karachi)",gmt:"GMT+5:0",offset:-300},{name:"Oral Time (Asia/Oral)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Samarkand)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Tashkent)",gmt:"GMT+5:0",offset:-300},{name:"Yekaterinburg Summer Time (Asia/Yekaterinburg)",gmt:"GMT+5:0",offset:-300},{name:"GMT+05",gmt:"GMT+5:0",offset:-300},{name:"French Southern &amp; Antarctic Lands Time (Indian/Kerguelen)",gmt:"GMT+5:0",offset:-300},{name:"Maldives Time (Indian/Maldives)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (PLT)",gmt:"GMT+5:0",offset:-300},{name:"India Standard Time (Asia/Calcutta)",gmt:"GMT+5:30",offset:-330},{name:"Sri Lanka Time (Asia/Colombo)",gmt:"GMT+5:30",offset:-330},{name:"India Standard Time (IST)",gmt:"GMT+5:30",offset:-330},{name:"Nepal Time (Asia/Katmandu)",gmt:"GMT+5:45",offset:-345},{name:"Mawson Time (Antarctica/Mawson)",gmt:"GMT+6:0",offset:-360},{name:"Vostok Time (Antarctica/Vostok)",gmt:"GMT+6:0",offset:-360},{name:"Alma-Ata Time (Asia/Almaty)",gmt:"GMT+6:0",offset:-360},{name:"Kirgizstan Time (Asia/Bishkek)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dacca)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dhaka)",gmt:"GMT+6:0",offset:-360},{name:"Novosibirsk Summer Time (Asia/Novosibirsk)",gmt:"GMT+6:0",offset:-360},{name:"Omsk Summer Time (Asia/Omsk)",gmt:"GMT+6:0",offset:-360},{name:"Qyzylorda Time (Asia/Qyzylorda)",gmt:"GMT+6:0",offset:-360},{name:"Bhutan Time (Asia/Thimbu)",gmt:"GMT+6:0",offset:-360},{name:"Bhutan Time (Asia/Thimphu)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (BST)",gmt:"GMT+6:0",offset:-360},{name:"GMT+06",gmt:"GMT+6:0",offset:-360},{name:"Indian Ocean Territory Time (Indian/Chagos)",gmt:"GMT+6:0",offset:-360},{name:"Myanmar Time (Asia/Rangoon)",gmt:"GMT+6:30",offset:-390},{name:"Cocos Islands Time (Indian/Cocos)",gmt:"GMT+6:30",offset:-390},{name:"Davis Time (Antarctica/Davis)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Bangkok)",gmt:"GMT+7:0",offset:-420},{name:"Hovd Summer Time (Asia/Hovd)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Jakarta)",gmt:"GMT+7:0",offset:-420},{name:"Krasnoyarsk Summer Time (Asia/Krasnoyarsk)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Phnom_Penh)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Pontianak)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Saigon)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Vientiane)",gmt:"GMT+7:0",offset:-420},{name:"GMT+07",gmt:"GMT+7:0",offset:-420},{name:"Christmas Island Time (Indian/Christmas)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (VST)",gmt:"GMT+7:0",offset:-420},{name:"Western Standard Time  (Australia) (Antarctica/Casey)",gmt:"GMT+8:0",offset:-480},{name:"Brunei Time (Asia/Brunei)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Chongqing)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Harbin)",gmt:"GMT+8:0",offset:-480},{name:"Hong Kong Time (Asia/Hong_Kong)",gmt:"GMT+8:0",offset:-480},{name:"Irkutsk Summer Time (Asia/Irkutsk)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Kashgar)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuala_Lumpur)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuching)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Macao)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Makassar)",gmt:"GMT+8:0",offset:-480},{name:"Philippines Time (Asia/Manila)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Shanghai)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Asia/Singapore)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Taipei)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Ujung_Pandang)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulaanbaatar)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulan_Bator)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Urumqi)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/Perth)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/West)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (CTT)",gmt:"GMT+8:0",offset:-480},{name:"GMT+08",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (PRC)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Singapore)",gmt:"GMT+8:0",offset:-480},{name:"Choibalsan Summer Time (Asia/Choibalsan)",gmt:"GMT+9:0",offset:-540},{name:"East Timor Time (Asia/Dili)",gmt:"GMT+9:0",offset:-540},{name:"East Indonesia Time (Asia/Jayapura)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Pyongyang)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Seoul)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Asia/Tokyo)",gmt:"GMT+9:0",offset:-540},{name:"Yaktsk Summer Time (Asia/Yakutsk)",gmt:"GMT+9:0",offset:-540},{name:"GMT+09",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (JST)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Japan)",gmt:"GMT+9:0",offset:-540},{name:"Palau Time (Pacific/Palau)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (ROK)",gmt:"GMT+9:0",offset:-540},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (ACT)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/Adelaide)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Broken_Hill)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/Darwin)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/North)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/South)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Yancowinna)",gmt:"GMT+9:30",offset:-570},{name:"Eastern Standard Time  (New South Wales) (AET)",gmt:"GMT+10:0",offset:-600},{name:"Dumont-d Urville Time (Antarctica/DumontDUrville)",gmt:"GMT+10:0",offset:-600},{name:"Sakhalin Summer Time (Asia/Sakhalin)",gmt:"GMT+10:0",offset:-600},{name:"Vladivostok Summer Time (Asia/Vladivostok)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/ACT)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Brisbane)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Canberra)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Currie)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Hobart)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Lindeman)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Melbourne)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/NSW)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Queensland)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Sydney)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Tasmania)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Victoria)",gmt:"GMT+10:0",offset:-600},{name:"GMT+10",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Guam)",gmt:"GMT+10:0",offset:-600},{name:"Papua New Guinea Time (Pacific/Port_Moresby)",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Saipan)",gmt:"GMT+10:0",offset:-600},{name:"Truk Time (Pacific/Truk)",gmt:"GMT+10:0",offset:-600},{name:"Yap Time (Pacific/Yap)",gmt:"GMT+10:0",offset:-600},{name:"Load Howe Standard Time (Australia/LHI)",gmt:"GMT+10:30",offset:-630},{name:"Load Howe Standard Time (Australia/Lord_Howe)",gmt:"GMT+10:30",offset:-630},{name:"Magadan Summer Time (Asia/Magadan)",gmt:"GMT+11:0",offset:-660},{name:"GMT+11",gmt:"GMT+11:0",offset:-660},{name:"Vanuatu Time (Pacific/Efate)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (Pacific/Guadalcanal)",gmt:"GMT+11:0",offset:-660},{name:"Kosrae Time (Pacific/Kosrae)",gmt:"GMT+11:0",offset:-660},{name:"New Caledonia Time (Pacific/Noumea)",gmt:"GMT+11:0",offset:-660},{name:"Ponape Time (Pacific/Ponape)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (SST)",gmt:"GMT+11:0",offset:-660},{name:"Norfolk Time (Pacific/Norfolk)",gmt:"GMT+11:30",offset:-690},{name:"New Zealand Standard Time (Antarctica/McMurdo)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Antarctica/South_Pole)",gmt:"GMT+12:0",offset:-720},{name:"Anadyr Summer Time (Asia/Anadyr)",gmt:"GMT+12:0",offset:-720},{name:"Petropavlovsk-Kamchatski Summer Time (Asia/Kamchatka)",gmt:"GMT+12:0",offset:-720},{name:"GMT+12",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NST)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NZ)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Pacific/Auckland)",gmt:"GMT+12:0",offset:-720},{name:"Fiji Time (Pacific/Fiji)",gmt:"GMT+12:0",offset:-720},{name:"Tuvalu Time (Pacific/Funafuti)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Majuro)",gmt:"GMT+12:0",offset:-720},{name:"Nauru Time (Pacific/Nauru)",gmt:"GMT+12:0",offset:-720},{name:"Gilbert Is. Time (Pacific/Tarawa)",gmt:"GMT+12:0",offset:-720},{name:"Wake Time (Pacific/Wake)",gmt:"GMT+12:0",offset:-720},{name:"Wallis &amp; Futuna Time (Pacific/Wallis)",gmt:"GMT+12:0",offset:-720},{name:"Chatham Standard Time (NZ-CHAT)",gmt:"GMT+12:45",offset:-765},{name:"Chatham Standard Time (Pacific/Chatham)",gmt:"GMT+12:45",offset:-765},{name:"GMT+13",gmt:"GMT+13:0",offset:-780},{name:"Phoenix Is. Time (Pacific/Enderbury)",gmt:"GMT+13:0",offset:-780},{name:"Tonga Time (Pacific/Tongatapu)",gmt:"GMT+13:0",offset:-780},{name:"GMT+14",gmt:"GMT+14:0",offset:-840},{name:"Line Is. Time (Pacific/Kiritimati)",gmt:"GMT+14:0",offset:-840}].forEach(function(e){var a=n.toLowerCase(),m=e.name.toLowerCase(),t=e.gmt.toLowerCase();(!n||m.includes(a)||t.includes(a))&&(f+='<div data-target="timezone" data="'+e.gmt+'">'+(i?e.gmt:"")+" "+e.name+"</div>")}),a=f?a.replace("!{list}",f):(e=n,'<div class="zsiq-emptytime"><div><div class="zsiq-nosrch">'+LSResource.getRealValue("widget.timezone.searchnotfound")+'</div><div>"'+e+'"</div></div></div>')}return{getTimeZoneHTML:function(e){return a=e,'<div class="zsiq-time-zone" id="tz-list"><div class="zsiq-time-srch" ><em class="sqico-search" ></em><input placeholder="'+LSResource.getRealValue("widget.timezone.search")+'"></div>'+T("",a)+"</div>";var a},handleSearch:function(e,a,m){var t,n,i,f;n=m,i=(t=a).value,(f=t.parentElement).nextElementSibling&&f.nextElementSibling.remove(),f.insertAdjacentHTML("afterend",T(i,n))},getTimeZone:function(){return[{name:"GMT-12:00 (Etc/GMT+12)",gmt:"GMT-12:0",offset:720},{name:"GMT-11:00 (Etc/GMT+11)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (MIT)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (Pacific/Apia)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Midway)",gmt:"GMT-11:0",offset:660},{name:"Niue Time (Pacific/Niue)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Pago_Pago)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (US/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Hawaii-Aleutian Daylight Time (America/Adak)",gmt:"GMT-10:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (America/Atka)",gmt:"GMT-10:0",offset:600},{name:"GMT-10:00 (Etc/GMT+10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (HST)",gmt:"GMT-10:0",offset:600},{name:"Tokelau Time (Pacific/Fakaofo)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (Pacific/Honolulu)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (Pacific/Johnston)",gmt:"GMT-10:0",offset:600},{name:"Cook Is. Time (Pacific/Rarotonga)",gmt:"GMT-10:0",offset:600},{name:"Tahiti Time (Pacific/Tahiti)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (SystemV/HST10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (US/Aleutian)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (US/Hawaii)",gmt:"GMT-10:0",offset:600},{name:"Marquesas Time (Pacific/Marquesas)",gmt:"GMT-9:30",offset:570},{name:"Alaska Daylight Time (AST)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Anchorage)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Juneau)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Nome)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Yakutat)",gmt:"GMT-9:0",offset:540},{name:"GMT-09:00 (Etc/GMT+9)",gmt:"GMT-9:0",offset:540},{name:"Gambier Time (Pacific/Gambier)",gmt:"GMT-9:0",offset:540},{name:"Alaska Standard Time (SystemV/YST9)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (SystemV/YST9YDT)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (US/Alaska)",gmt:"GMT-9:0",offset:540},{name:"Pacific Daylight Time (America/Dawson)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Ensenada)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Los_Angeles)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Tijuana)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Vancouver)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Whitehorse)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Canada/Pacific)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Canada/Yukon)",gmt:"GMT-8:0",offset:480},{name:"GMT-08:00 (Etc/GMT+8)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Mexico/BajaNorte)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (PST)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (PST8PDT)",gmt:"GMT-8:0",offset:480},{name:"Pitcairn Standard Time (Pacific/Pitcairn)",gmt:"GMT-8:0",offset:480},{name:"Pacific Standard Time (SystemV/PST8)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (SystemV/PST8PDT)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (US/Pacific)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (US/Pacific-New)",gmt:"GMT-8:0",offset:480},{name:"Mountain Daylight Time (America/Boise)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Cambridge_Bay)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Chihuahua)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (America/Dawson_Creek)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Denver)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Edmonton)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (America/Hermosillo)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Inuvik)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Mazatlan)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (America/Phoenix)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Shiprock)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Yellowknife)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (Canada/Mountain)",gmt:"GMT-7:0",offset:420},{name:"GMT-07:00 (Etc/GMT+7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (MST)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (MST7MDT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (Mexico/BajaSur)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (Navajo)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (PNT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (SystemV/MST7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (SystemV/MST7MDT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (US/Arizona)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (US/Mountain)",gmt:"GMT-7:0",offset:420},{name:"Central Standard Time (America/Belize)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Cancun)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Chicago)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Costa_Rica)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/El_Salvador)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Guatemala)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Knox)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Petersburg)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Vincennes)",gmt:"GMT-6:0",offset:360},{name:"Eastern Daylight Time (America/Knox_IN)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Managua)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Menominee)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Merida)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Mexico_City)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Monterrey)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/Center)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/New_Salem)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Rainy_River)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Rankin_Inlet)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Regina)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Swift_Current)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Tegucigalpa)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Winnipeg)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (CST)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (CST6CDT)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (Canada/Central)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (Canada/East-Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (Canada/Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Easter Is. Time (Chile/EasterIsland)",gmt:"GMT-6:0",offset:360},{name:"GMT-06:00 (Etc/GMT+6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (Mexico/General)",gmt:"GMT-6:0",offset:360},{name:"Easter Is. Time (Pacific/Easter)",gmt:"GMT-6:0",offset:360},{name:"Galapagos Time (Pacific/Galapagos)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (SystemV/CST6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (SystemV/CST6CDT)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (US/Central)",gmt:"GMT-6:0",offset:360},{name:"Eastern Daylight Time (US/Indiana-Starke)",gmt:"GMT-6:0",offset:360},{name:"Eastern Standard Time (America/Atikokan)",gmt:"GMT-5:0",offset:300},{name:"Colombia Time (America/Bogota)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Cayman)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Coral_Harbour)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Detroit)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Eirunepe)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Fort_Wayne)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Grand_Turk)",gmt:"GMT-5:0",offset:300},{name:"Ecuador Time (America/Guayaquil)",gmt:"GMT-5:0",offset:300},{name:"Central Daylight Time (America/Havana)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Indianapolis)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Marengo)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Vevay)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indianapolis)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Iqaluit)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Louisville)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Monticello)",gmt:"GMT-5:0",offset:300},{name:"Peru Time (America/Lima)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Louisville)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Montreal)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Nassau)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/New_York)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Nipigon)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Panama)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Pangnirtung)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Port-au-Prince)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Porto_Acre)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Rio_Branco)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Thunder_Bay)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Toronto)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (Brazil/Acre)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (Canada/Eastern)",gmt:"GMT-5:0",offset:300},{name:"Central Daylight Time (Cuba)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (EST)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (EST5EDT)",gmt:"GMT-5:0",offset:300},{name:"GMT-05:00 (Etc/GMT+5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (IET)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (SystemV/EST5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (SystemV/EST5EDT)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (US/East-Indiana)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (US/Eastern)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (US/Michigan)",gmt:"GMT-5:0",offset:300},{name:"Atlantic Standard Time (America/Anguilla)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Antigua)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Aruba)",gmt:"GMT-4:0",offset:240},{name:"Paraguay Time (America/Asuncion)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Barbados)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Blanc-Sablon)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Boa_Vista)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Campo_Grande)",gmt:"GMT-4:0",offset:240},{name:"Venezuela Time (America/Caracas)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Cuiaba)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Curacao)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Dominica)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Glace_Bay)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Goose_Bay)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Grenada)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Guadeloupe)",gmt:"GMT-4:0",offset:240},{name:"Guyana Time (America/Guyana)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Halifax)",gmt:"GMT-4:0",offset:240},{name:"Bolivia Time (America/La_Paz)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Manaus)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Martinique)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Moncton)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Montserrat)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Port_of_Spain)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Porto_Velho)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Puerto_Rico)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (America/Santiago)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Santo_Domingo)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Kitts)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Lucia)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Thomas)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Vincent)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Thule)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Tortola)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Virgin)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (Antarctica/Palmer)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (Atlantic/Bermuda)",gmt:"GMT-4:0",offset:240},{name:"Falkland Is. Summer Time (Atlantic/Stanley)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (Brazil/West)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (Canada/Atlantic)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (Chile/Continental)",gmt:"GMT-4:0",offset:240},{name:"GMT-04:00 (Etc/GMT+4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (PRT)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (SystemV/AST4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (SystemV/AST4ADT)",gmt:"GMT-4:0",offset:240},{name:"Newfoundland Daylight Time (America/St_Johns)",gmt:"GMT-3:30",offset:210},{name:"Newfoundland Daylight Time (CNT)",gmt:"GMT-3:30",offset:210},{name:"Newfoundland Daylight Time (Canada/Newfoundland)",gmt:"GMT-3:30",offset:210},{name:"Argentine Time (AGT)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Araguaina)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/ComodRivadavia)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/La_Rioja)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Rio_Gallegos)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/San_Juan)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Tucuman)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Ushuaia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Bahia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Belem)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"French Guiana Time (America/Cayenne)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Fortaleza)",gmt:"GMT-3:0",offset:180},{name:"Western Greenland Summer Time (America/Godthab)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Maceio)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Pierre &amp; Miquelon Daylight Time (America/Miquelon)",gmt:"GMT-3:0",offset:180},{name:"Uruguay Time (America/Montevideo)",gmt:"GMT-3:0",offset:180},{name:"Suriname Time (America/Paramaribo)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Recife)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Rosario)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Sao_Paulo)",gmt:"GMT-3:0",offset:180},{name:"Rothera Time (Antarctica/Rothera)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (BET)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (Brazil/East)",gmt:"GMT-3:0",offset:180},{name:"GMT-03:00 (Etc/GMT+3)",gmt:"GMT-3:0",offset:180},{name:"Fernando de Noronha Time (America/Noronha)",gmt:"GMT-2:0",offset:120},{name:"South Georgia Standard Time (Atlantic/South_Georgia)",gmt:"GMT-2:0",offset:120},{name:"Fernando de Noronha Time (Brazil/DeNoronha)",gmt:"GMT-2:0",offset:120},{name:"GMT-02:00 (Etc/GMT+2)",gmt:"GMT-2:0",offset:120},{name:"Eastern Greenland Summer Time (America/Scoresbysund)",gmt:"GMT-1:0",offset:60},{name:"Azores Summer Time (Atlantic/Azores)",gmt:"GMT-1:0",offset:60},{name:"Cape Verde Time (Atlantic/Cape_Verde)",gmt:"GMT-1:0",offset:60},{name:"GMT-01:00 (Etc/GMT+1)",gmt:"GMT-1:0",offset:60},{name:"Greenwich Mean Time (Africa/Abidjan)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Accra)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bamako)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Banjul)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bissau)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/Casablanca)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Conakry)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Dakar)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/El_Aaiun)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Freetown)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Lome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Monrovia)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Nouakchott)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Ouagadougou)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Sao_Tome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Timbuktu)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (America/Danmarkshavn)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Canary)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Faeroe)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Madeira)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Atlantic/Reykjavik)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Atlantic/St_Helena)",gmt:"GMT+0:0",offset:0},{name:"Irish Summer Time (Eire)",gmt:"GMT+0:0",offset:0},{name:"GMT+00",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Etc/Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Universal)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Zulu)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Belfast)",gmt:"GMT+0:0",offset:0},{name:"Irish Summer Time (Europe/Dublin)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Guernsey)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Isle_of_Man)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Jersey)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Europe/Lisbon)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/London)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (GB)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (GB-Eire)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (GMT)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Iceland)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Portugal)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Universal)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (WET)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Zulu)",gmt:"GMT+0:0",offset:0},{name:"Central European Time (Africa/Algiers)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Bangui)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Brazzaville)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Ceuta)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Douala)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Kinshasa)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Lagos)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Libreville)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Luanda)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Malabo)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Ndjamena)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Niamey)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Porto-Novo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Tunis)",gmt:"GMT+1:0",offset:-60},{name:"Western African Summer Time (Africa/Windhoek)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Arctic/Longyearbyen)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Atlantic/Jan_Mayen)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (CET)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (ECT)",gmt:"GMT+1:0",offset:-60},{name:"GMT+01",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Amsterdam)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Andorra)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Belgrade)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Berlin)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Bratislava)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Brussels)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Budapest)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Copenhagen)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Gibraltar)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Ljubljana)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Luxembourg)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Madrid)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Malta)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Monaco)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Oslo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Paris)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Podgorica)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Prague)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Rome)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/San_Marino)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Sarajevo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Skopje)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Stockholm)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Tirane)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Vaduz)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Vatican)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Vienna)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Warsaw)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Zagreb)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Zurich)",gmt:"GMT+1:0",offset:-60},{name:"Middle Europe Summer Time (MET)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Poland)",gmt:"GMT+1:0",offset:-60},{name:"Eastern European Summer Time (ART)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Blantyre)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Bujumbura)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Africa/Cairo)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Gaborone)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Harare)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Johannesburg)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Kigali)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lubumbashi)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lusaka)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Maputo)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Maseru)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Mbabane)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Africa/Tripoli)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Amman)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Beirut)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Damascus)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Gaza)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Istanbul)",gmt:"GMT+2:0",offset:-120},{name:"Israel Standard Time (Asia/Jerusalem)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Nicosia)",gmt:"GMT+2:0",offset:-120},{name:"Israel Standard Time (Asia/Tel_Aviv)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (CAT)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (EET)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Egypt)",gmt:"GMT+2:0",offset:-120},{name:"GMT+02",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Athens)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Bucharest)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Chisinau)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Helsinki)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Istanbul)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kaliningrad)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kiev)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Mariehamn)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Minsk)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Nicosia)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Riga)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Simferopol)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Sofia)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tallinn)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tiraspol)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Uzhgorod)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Vilnius)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Zaporozhye)",gmt:"GMT+2:0",offset:-120},{name:"Israel Standard Time (Israel)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Libya)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Turkey)",gmt:"GMT+2:0",offset:-120},{name:"Eastern African Time (Africa/Addis_Ababa)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Asmera)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Dar_es_Salaam)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Djibouti)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Kampala)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Khartoum)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Mogadishu)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Nairobi)",gmt:"GMT+3:0",offset:-180},{name:"Syowa Time (Antarctica/Syowa)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Aden)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Daylight Time (Asia/Baghdad)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Bahrain)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Kuwait)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Qatar)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Riyadh)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (EAT)",gmt:"GMT+3:0",offset:-180},{name:"GMT+03",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (Europe/Moscow)",gmt:"GMT+3:0",offset:-180},{name:"Volgograd Summer Time (Europe/Volgograd)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Antananarivo)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Comoro)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Mayotte)",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (W-SU)",gmt:"GMT+3:0",offset:-180},{name:"( GMT 3:7 ) GMT+03",gmt:"GMT+3:7",offset:-187},{name:"( GMT 3:30 ) Iran Standard Time (Asia/Tehran)",gmt:"GMT+3:30",offset:-210},{name:"( GMT 3:30 ) Iran Standard Time (Iran)",gmt:"GMT+3:30",offset:-210},{name:"Azerbaijan Summer Time (Asia/Baku)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Dubai)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Muscat)",gmt:"GMT+4:0",offset:-240},{name:"Georgia Time (Asia/Tbilisi)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (Asia/Yerevan)",gmt:"GMT+4:0",offset:-240},{name:"GMT+04",gmt:"GMT+4:0",offset:-240},{name:"Samara Summer Time (Europe/Samara)",gmt:"GMT+4:0",offset:-240},{name:"Seychelles Time (Indian/Mahe)",gmt:"GMT+4:0",offset:-240},{name:"Mauritius Time (Indian/Mauritius)",gmt:"GMT+4:0",offset:-240},{name:"Reunion Time (Indian/Reunion)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (NET)",gmt:"GMT+4:0",offset:-240},{name:"( GMT 4:30 ) Afghanistan Time (Asia/Kabul)",gmt:"GMT+4:30",offset:-270},{name:"Aqtau Time (Asia/Aqtau)",gmt:"GMT+5:0",offset:-300},{name:"Aqtobe Time (Asia/Aqtobe)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashgabat)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashkhabad)",gmt:"GMT+5:0",offset:-300},{name:"Tajikistan Time (Asia/Dushanbe)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (Asia/Karachi)",gmt:"GMT+5:0",offset:-300},{name:"Oral Time (Asia/Oral)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Samarkand)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Tashkent)",gmt:"GMT+5:0",offset:-300},{name:"Yekaterinburg Summer Time (Asia/Yekaterinburg)",gmt:"GMT+5:0",offset:-300},{name:"GMT+05",gmt:"GMT+5:0",offset:-300},{name:"French Southern &amp; Antarctic Lands Time (Indian/Kerguelen)",gmt:"GMT+5:0",offset:-300},{name:"Maldives Time (Indian/Maldives)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (PLT)",gmt:"GMT+5:0",offset:-300},{name:"India Standard Time (Asia/Calcutta)",gmt:"GMT+5:30",offset:-330},{name:"Sri Lanka Time (Asia/Colombo)",gmt:"GMT+5:30",offset:-330},{name:"India Standard Time (IST)",gmt:"GMT+5:30",offset:-330},{name:"Nepal Time (Asia/Katmandu)",gmt:"GMT+5:45",offset:-345},{name:"Mawson Time (Antarctica/Mawson)",gmt:"GMT+6:0",offset:-360},{name:"Vostok Time (Antarctica/Vostok)",gmt:"GMT+6:0",offset:-360},{name:"Alma-Ata Time (Asia/Almaty)",gmt:"GMT+6:0",offset:-360},{name:"Kirgizstan Time (Asia/Bishkek)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dacca)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dhaka)",gmt:"GMT+6:0",offset:-360},{name:"Novosibirsk Summer Time (Asia/Novosibirsk)",gmt:"GMT+6:0",offset:-360},{name:"Omsk Summer Time (Asia/Omsk)",gmt:"GMT+6:0",offset:-360},{name:"Qyzylorda Time (Asia/Qyzylorda)",gmt:"GMT+6:0",offset:-360},{name:"Bhutan Time (Asia/Thimbu)",gmt:"GMT+6:0",offset:-360},{name:"Bhutan Time (Asia/Thimphu)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (BST)",gmt:"GMT+6:0",offset:-360},{name:"GMT+06",gmt:"GMT+6:0",offset:-360},{name:"Indian Ocean Territory Time (Indian/Chagos)",gmt:"GMT+6:0",offset:-360},{name:"Myanmar Time (Asia/Rangoon)",gmt:"GMT+6:30",offset:-390},{name:"Cocos Islands Time (Indian/Cocos)",gmt:"GMT+6:30",offset:-390},{name:"Davis Time (Antarctica/Davis)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Bangkok)",gmt:"GMT+7:0",offset:-420},{name:"Hovd Summer Time (Asia/Hovd)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Jakarta)",gmt:"GMT+7:0",offset:-420},{name:"Krasnoyarsk Summer Time (Asia/Krasnoyarsk)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Phnom_Penh)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Pontianak)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Saigon)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Vientiane)",gmt:"GMT+7:0",offset:-420},{name:"GMT+07",gmt:"GMT+7:0",offset:-420},{name:"Christmas Island Time (Indian/Christmas)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (VST)",gmt:"GMT+7:0",offset:-420},{name:"Western Standard Time  (Australia) (Antarctica/Casey)",gmt:"GMT+8:0",offset:-480},{name:"Brunei Time (Asia/Brunei)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Chongqing)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Harbin)",gmt:"GMT+8:0",offset:-480},{name:"Hong Kong Time (Asia/Hong_Kong)",gmt:"GMT+8:0",offset:-480},{name:"Irkutsk Summer Time (Asia/Irkutsk)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Kashgar)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuala_Lumpur)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuching)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Macao)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Makassar)",gmt:"GMT+8:0",offset:-480},{name:"Philippines Time (Asia/Manila)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Shanghai)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Asia/Singapore)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Taipei)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Ujung_Pandang)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulaanbaatar)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulan_Bator)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Urumqi)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/Perth)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/West)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (CTT)",gmt:"GMT+8:0",offset:-480},{name:"GMT+08",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (PRC)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Singapore)",gmt:"GMT+8:0",offset:-480},{name:"Choibalsan Summer Time (Asia/Choibalsan)",gmt:"GMT+9:0",offset:-540},{name:"East Timor Time (Asia/Dili)",gmt:"GMT+9:0",offset:-540},{name:"East Indonesia Time (Asia/Jayapura)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Pyongyang)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Seoul)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Asia/Tokyo)",gmt:"GMT+9:0",offset:-540},{name:"Yaktsk Summer Time (Asia/Yakutsk)",gmt:"GMT+9:0",offset:-540},{name:"GMT+09",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (JST)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Japan)",gmt:"GMT+9:0",offset:-540},{name:"Palau Time (Pacific/Palau)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (ROK)",gmt:"GMT+9:0",offset:-540},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (ACT)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/Adelaide)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Broken_Hill)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/Darwin)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/North)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/South)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Yancowinna)",gmt:"GMT+9:30",offset:-570},{name:"Eastern Standard Time  (New South Wales) (AET)",gmt:"GMT+10:0",offset:-600},{name:"Dumont-d Urville Time (Antarctica/DumontDUrville)",gmt:"GMT+10:0",offset:-600},{name:"Sakhalin Summer Time (Asia/Sakhalin)",gmt:"GMT+10:0",offset:-600},{name:"Vladivostok Summer Time (Asia/Vladivostok)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/ACT)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Brisbane)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Canberra)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Currie)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Hobart)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Lindeman)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Melbourne)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/NSW)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Queensland)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Sydney)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Tasmania)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Victoria)",gmt:"GMT+10:0",offset:-600},{name:"GMT+10",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Guam)",gmt:"GMT+10:0",offset:-600},{name:"Papua New Guinea Time (Pacific/Port_Moresby)",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Saipan)",gmt:"GMT+10:0",offset:-600},{name:"Truk Time (Pacific/Truk)",gmt:"GMT+10:0",offset:-600},{name:"Yap Time (Pacific/Yap)",gmt:"GMT+10:0",offset:-600},{name:"Load Howe Standard Time (Australia/LHI)",gmt:"GMT+10:30",offset:-630},{name:"Load Howe Standard Time (Australia/Lord_Howe)",gmt:"GMT+10:30",offset:-630},{name:"Magadan Summer Time (Asia/Magadan)",gmt:"GMT+11:0",offset:-660},{name:"GMT+11",gmt:"GMT+11:0",offset:-660},{name:"Vanuatu Time (Pacific/Efate)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (Pacific/Guadalcanal)",gmt:"GMT+11:0",offset:-660},{name:"Kosrae Time (Pacific/Kosrae)",gmt:"GMT+11:0",offset:-660},{name:"New Caledonia Time (Pacific/Noumea)",gmt:"GMT+11:0",offset:-660},{name:"Ponape Time (Pacific/Ponape)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (SST)",gmt:"GMT+11:0",offset:-660},{name:"Norfolk Time (Pacific/Norfolk)",gmt:"GMT+11:30",offset:-690},{name:"New Zealand Standard Time (Antarctica/McMurdo)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Antarctica/South_Pole)",gmt:"GMT+12:0",offset:-720},{name:"Anadyr Summer Time (Asia/Anadyr)",gmt:"GMT+12:0",offset:-720},{name:"Petropavlovsk-Kamchatski Summer Time (Asia/Kamchatka)",gmt:"GMT+12:0",offset:-720},{name:"GMT+12",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NST)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NZ)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Pacific/Auckland)",gmt:"GMT+12:0",offset:-720},{name:"Fiji Time (Pacific/Fiji)",gmt:"GMT+12:0",offset:-720},{name:"Tuvalu Time (Pacific/Funafuti)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Majuro)",gmt:"GMT+12:0",offset:-720},{name:"Nauru Time (Pacific/Nauru)",gmt:"GMT+12:0",offset:-720},{name:"Gilbert Is. Time (Pacific/Tarawa)",gmt:"GMT+12:0",offset:-720},{name:"Wake Time (Pacific/Wake)",gmt:"GMT+12:0",offset:-720},{name:"Wallis &amp; Futuna Time (Pacific/Wallis)",gmt:"GMT+12:0",offset:-720},{name:"Chatham Standard Time (NZ-CHAT)",gmt:"GMT+12:45",offset:-765},{name:"Chatham Standard Time (Pacific/Chatham)",gmt:"GMT+12:45",offset:-765},{name:"GMT+13",gmt:"GMT+13:0",offset:-780},{name:"Phoenix Is. Time (Pacific/Enderbury)",gmt:"GMT+13:0",offset:-780},{name:"Tonga Time (Pacific/Tongatapu)",gmt:"GMT+13:0",offset:-780},{name:"GMT+14",gmt:"GMT+14:0",offset:-840},{name:"Line Is. Time (Pacific/Kiritimati)",gmt:"GMT+14:0",offset:-840}]},getCurrentTimeZone:function(){return function(){var e=(new Date).getTimezoneOffset(),a=[{name:"GMT-12:00 (Etc/GMT+12)",gmt:"GMT-12:0",offset:720},{name:"GMT-11:00 (Etc/GMT+11)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (MIT)",gmt:"GMT-11:0",offset:660},{name:"West Samoa Time (Pacific/Apia)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Midway)",gmt:"GMT-11:0",offset:660},{name:"Niue Time (Pacific/Niue)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Pago_Pago)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (Pacific/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Samoa Standard Time (US/Samoa)",gmt:"GMT-11:0",offset:660},{name:"Hawaii-Aleutian Daylight Time (America/Adak)",gmt:"GMT-10:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (America/Atka)",gmt:"GMT-10:0",offset:600},{name:"GMT-10:00 (Etc/GMT+10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (HST)",gmt:"GMT-10:0",offset:600},{name:"Tokelau Time (Pacific/Fakaofo)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (Pacific/Honolulu)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (Pacific/Johnston)",gmt:"GMT-10:0",offset:600},{name:"Cook Is. Time (Pacific/Rarotonga)",gmt:"GMT-10:0",offset:600},{name:"Tahiti Time (Pacific/Tahiti)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (SystemV/HST10)",gmt:"GMT-10:0",offset:600},{name:"Hawaii-Aleutian Daylight Time (US/Aleutian)",gmt:"GMT-10:0",offset:600},{name:"Hawaii Standard Time (US/Hawaii)",gmt:"GMT-10:0",offset:600},{name:"Marquesas Time (Pacific/Marquesas)",gmt:"GMT-9:30",offset:570},{name:"Alaska Daylight Time (AST)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Anchorage)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Juneau)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Nome)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (America/Yakutat)",gmt:"GMT-9:0",offset:540},{name:"GMT-09:00 (Etc/GMT+9)",gmt:"GMT-9:0",offset:540},{name:"Gambier Time (Pacific/Gambier)",gmt:"GMT-9:0",offset:540},{name:"Alaska Standard Time (SystemV/YST9)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (SystemV/YST9YDT)",gmt:"GMT-9:0",offset:540},{name:"Alaska Daylight Time (US/Alaska)",gmt:"GMT-9:0",offset:540},{name:"Pacific Daylight Time (America/Dawson)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Ensenada)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Los_Angeles)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Tijuana)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Vancouver)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (America/Whitehorse)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Canada/Pacific)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Canada/Yukon)",gmt:"GMT-8:0",offset:480},{name:"GMT-08:00 (Etc/GMT+8)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (Mexico/BajaNorte)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (PST)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (PST8PDT)",gmt:"GMT-8:0",offset:480},{name:"Pitcairn Standard Time (Pacific/Pitcairn)",gmt:"GMT-8:0",offset:480},{name:"Pacific Standard Time (SystemV/PST8)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (SystemV/PST8PDT)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (US/Pacific)",gmt:"GMT-8:0",offset:480},{name:"Pacific Daylight Time (US/Pacific-New)",gmt:"GMT-8:0",offset:480},{name:"Mountain Daylight Time (America/Boise)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Cambridge_Bay)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Chihuahua)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (America/Dawson_Creek)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Denver)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Edmonton)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (America/Hermosillo)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Inuvik)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Mazatlan)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (America/Phoenix)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Shiprock)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (America/Yellowknife)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (Canada/Mountain)",gmt:"GMT-7:0",offset:420},{name:"GMT-07:00 (Etc/GMT+7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (MST)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (MST7MDT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (Mexico/BajaSur)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (Navajo)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (PNT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (SystemV/MST7)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (SystemV/MST7MDT)",gmt:"GMT-7:0",offset:420},{name:"Mountain Standard Time (US/Arizona)",gmt:"GMT-7:0",offset:420},{name:"Mountain Daylight Time (US/Mountain)",gmt:"GMT-7:0",offset:420},{name:"Central Standard Time (America/Belize)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Cancun)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Chicago)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Costa_Rica)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/El_Salvador)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Guatemala)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Knox)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Petersburg)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Indiana/Vincennes)",gmt:"GMT-6:0",offset:360},{name:"Eastern Daylight Time (America/Knox_IN)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Managua)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Menominee)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Merida)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Mexico_City)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Monterrey)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/Center)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/North_Dakota/New_Salem)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Rainy_River)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Rankin_Inlet)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Regina)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Swift_Current)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (America/Tegucigalpa)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (America/Winnipeg)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (CST)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (CST6CDT)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (Canada/Central)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (Canada/East-Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (Canada/Saskatchewan)",gmt:"GMT-6:0",offset:360},{name:"Easter Is. Time (Chile/EasterIsland)",gmt:"GMT-6:0",offset:360},{name:"GMT-06:00 (Etc/GMT+6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (Mexico/General)",gmt:"GMT-6:0",offset:360},{name:"Easter Is. Time (Pacific/Easter)",gmt:"GMT-6:0",offset:360},{name:"Galapagos Time (Pacific/Galapagos)",gmt:"GMT-6:0",offset:360},{name:"Central Standard Time (SystemV/CST6)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (SystemV/CST6CDT)",gmt:"GMT-6:0",offset:360},{name:"Central Daylight Time (US/Central)",gmt:"GMT-6:0",offset:360},{name:"Eastern Daylight Time (US/Indiana-Starke)",gmt:"GMT-6:0",offset:360},{name:"Eastern Standard Time (America/Atikokan)",gmt:"GMT-5:0",offset:300},{name:"Colombia Time (America/Bogota)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Cayman)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Coral_Harbour)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Detroit)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Eirunepe)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Fort_Wayne)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Grand_Turk)",gmt:"GMT-5:0",offset:300},{name:"Ecuador Time (America/Guayaquil)",gmt:"GMT-5:0",offset:300},{name:"Central Daylight Time (America/Havana)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Indianapolis)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Marengo)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indiana/Vevay)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Indianapolis)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Iqaluit)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Louisville)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Kentucky/Monticello)",gmt:"GMT-5:0",offset:300},{name:"Peru Time (America/Lima)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Louisville)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Montreal)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Nassau)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/New_York)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Nipigon)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (America/Panama)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Pangnirtung)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Port-au-Prince)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Porto_Acre)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (America/Rio_Branco)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Thunder_Bay)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (America/Toronto)",gmt:"GMT-5:0",offset:300},{name:"Acre Time (Brazil/Acre)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (Canada/Eastern)",gmt:"GMT-5:0",offset:300},{name:"Central Daylight Time (Cuba)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (EST)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (EST5EDT)",gmt:"GMT-5:0",offset:300},{name:"GMT-05:00 (Etc/GMT+5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (IET)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (Jamaica)",gmt:"GMT-5:0",offset:300},{name:"Eastern Standard Time (SystemV/EST5)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (SystemV/EST5EDT)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (US/East-Indiana)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (US/Eastern)",gmt:"GMT-5:0",offset:300},{name:"Eastern Daylight Time (US/Michigan)",gmt:"GMT-5:0",offset:300},{name:"Atlantic Standard Time (America/Anguilla)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Antigua)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Aruba)",gmt:"GMT-4:0",offset:240},{name:"Paraguay Time (America/Asuncion)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Barbados)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Blanc-Sablon)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Boa_Vista)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Campo_Grande)",gmt:"GMT-4:0",offset:240},{name:"Venezuela Time (America/Caracas)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Cuiaba)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Curacao)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Dominica)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Glace_Bay)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Goose_Bay)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Grenada)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Guadeloupe)",gmt:"GMT-4:0",offset:240},{name:"Guyana Time (America/Guyana)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Halifax)",gmt:"GMT-4:0",offset:240},{name:"Bolivia Time (America/La_Paz)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Manaus)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Martinique)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Moncton)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Montserrat)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Port_of_Spain)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (America/Porto_Velho)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Puerto_Rico)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (America/Santiago)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Santo_Domingo)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Kitts)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Lucia)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Thomas)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/St_Vincent)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (America/Thule)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Tortola)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (America/Virgin)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (Antarctica/Palmer)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (Atlantic/Bermuda)",gmt:"GMT-4:0",offset:240},{name:"Falkland Is. Summer Time (Atlantic/Stanley)",gmt:"GMT-4:0",offset:240},{name:"Amazon Time (Brazil/West)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (Canada/Atlantic)",gmt:"GMT-4:0",offset:240},{name:"Chile Time (Chile/Continental)",gmt:"GMT-4:0",offset:240},{name:"GMT-04:00 (Etc/GMT+4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (PRT)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Standard Time (SystemV/AST4)",gmt:"GMT-4:0",offset:240},{name:"Atlantic Daylight Time (SystemV/AST4ADT)",gmt:"GMT-4:0",offset:240},{name:"Newfoundland Daylight Time (America/St_Johns)",gmt:"GMT-3:30",offset:210},{name:"Newfoundland Daylight Time (CNT)",gmt:"GMT-3:30",offset:210},{name:"Newfoundland Daylight Time (Canada/Newfoundland)",gmt:"GMT-3:30",offset:210},{name:"Argentine Time (AGT)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Araguaina)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/ComodRivadavia)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/La_Rioja)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Rio_Gallegos)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/San_Juan)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Tucuman)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Argentina/Ushuaia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Bahia)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Belem)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Buenos_Aires)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Catamarca)",gmt:"GMT-3:0",offset:180},{name:"French Guiana Time (America/Cayenne)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Cordoba)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Fortaleza)",gmt:"GMT-3:0",offset:180},{name:"Western Greenland Summer Time (America/Godthab)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Jujuy)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Maceio)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Mendoza)",gmt:"GMT-3:0",offset:180},{name:"Pierre &amp; Miquelon Daylight Time (America/Miquelon)",gmt:"GMT-3:0",offset:180},{name:"Uruguay Time (America/Montevideo)",gmt:"GMT-3:0",offset:180},{name:"Suriname Time (America/Paramaribo)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Recife)",gmt:"GMT-3:0",offset:180},{name:"Argentine Time (America/Rosario)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (America/Sao_Paulo)",gmt:"GMT-3:0",offset:180},{name:"Rothera Time (Antarctica/Rothera)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (BET)",gmt:"GMT-3:0",offset:180},{name:"Brasilia Time (Brazil/East)",gmt:"GMT-3:0",offset:180},{name:"GMT-03:00 (Etc/GMT+3)",gmt:"GMT-3:0",offset:180},{name:"Fernando de Noronha Time (America/Noronha)",gmt:"GMT-2:0",offset:120},{name:"South Georgia Standard Time (Atlantic/South_Georgia)",gmt:"GMT-2:0",offset:120},{name:"Fernando de Noronha Time (Brazil/DeNoronha)",gmt:"GMT-2:0",offset:120},{name:"GMT-02:00 (Etc/GMT+2)",gmt:"GMT-2:0",offset:120},{name:"Eastern Greenland Summer Time (America/Scoresbysund)",gmt:"GMT-1:0",offset:60},{name:"Azores Summer Time (Atlantic/Azores)",gmt:"GMT-1:0",offset:60},{name:"Cape Verde Time (Atlantic/Cape_Verde)",gmt:"GMT-1:0",offset:60},{name:"GMT-01:00 (Etc/GMT+1)",gmt:"GMT-1:0",offset:60},{name:"Greenwich Mean Time (Africa/Abidjan)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Accra)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bamako)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Banjul)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Bissau)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/Casablanca)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Conakry)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Dakar)",gmt:"GMT+0:0",offset:0},{name:"Western European Time (Africa/El_Aaiun)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Freetown)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Lome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Monrovia)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Nouakchott)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Ouagadougou)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Sao_Tome)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Africa/Timbuktu)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (America/Danmarkshavn)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Canary)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Faeroe)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Atlantic/Madeira)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Atlantic/Reykjavik)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Atlantic/St_Helena)",gmt:"GMT+0:0",offset:0},{name:"Irish Summer Time (Eire)",gmt:"GMT+0:0",offset:0},{name:"GMT+00",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Etc/Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Universal)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Etc/Zulu)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Belfast)",gmt:"GMT+0:0",offset:0},{name:"Irish Summer Time (Europe/Dublin)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Guernsey)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Isle_of_Man)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/Jersey)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Europe/Lisbon)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (Europe/London)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (GB)",gmt:"GMT+0:0",offset:0},{name:"British Summer Time (GB-Eire)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (GMT)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Greenwich)",gmt:"GMT+0:0",offset:0},{name:"Greenwich Mean Time (Iceland)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (Portugal)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (UCT)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (UTC)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Universal)",gmt:"GMT+0:0",offset:0},{name:"Western European Summer Time (WET)",gmt:"GMT+0:0",offset:0},{name:"Coordinated Universal Time (Zulu)",gmt:"GMT+0:0",offset:0},{name:"Central European Time (Africa/Algiers)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Bangui)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Brazzaville)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Ceuta)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Douala)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Kinshasa)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Lagos)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Libreville)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Luanda)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Malabo)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Ndjamena)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Niamey)",gmt:"GMT+1:0",offset:-60},{name:"Western African Time (Africa/Porto-Novo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Africa/Tunis)",gmt:"GMT+1:0",offset:-60},{name:"Western African Summer Time (Africa/Windhoek)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Arctic/Longyearbyen)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Atlantic/Jan_Mayen)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (CET)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (ECT)",gmt:"GMT+1:0",offset:-60},{name:"GMT+01",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Amsterdam)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Andorra)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Belgrade)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Berlin)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Bratislava)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Brussels)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Budapest)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Copenhagen)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Gibraltar)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Ljubljana)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Luxembourg)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Madrid)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Malta)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Monaco)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Oslo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Paris)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Podgorica)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Prague)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Rome)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/San_Marino)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Sarajevo)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Skopje)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Stockholm)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Tirane)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Vaduz)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Vatican)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Vienna)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Warsaw)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Zagreb)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Europe/Zurich)",gmt:"GMT+1:0",offset:-60},{name:"Middle Europe Summer Time (MET)",gmt:"GMT+1:0",offset:-60},{name:"Central European Summer Time (Poland)",gmt:"GMT+1:0",offset:-60},{name:"Eastern European Summer Time (ART)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Blantyre)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Bujumbura)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Africa/Cairo)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Gaborone)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Harare)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Johannesburg)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Kigali)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lubumbashi)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Lusaka)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (Africa/Maputo)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Maseru)",gmt:"GMT+2:0",offset:-120},{name:"South Africa Standard Time (Africa/Mbabane)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Africa/Tripoli)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Amman)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Beirut)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Damascus)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Gaza)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Istanbul)",gmt:"GMT+2:0",offset:-120},{name:"Israel Standard Time (Asia/Jerusalem)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Asia/Nicosia)",gmt:"GMT+2:0",offset:-120},{name:"Israel Standard Time (Asia/Tel_Aviv)",gmt:"GMT+2:0",offset:-120},{name:"Central African Time (CAT)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (EET)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Egypt)",gmt:"GMT+2:0",offset:-120},{name:"GMT+02",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Athens)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Bucharest)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Chisinau)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Helsinki)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Istanbul)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kaliningrad)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Kiev)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Mariehamn)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Minsk)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Nicosia)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Riga)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Simferopol)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Sofia)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tallinn)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Tiraspol)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Uzhgorod)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Vilnius)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Europe/Zaporozhye)",gmt:"GMT+2:0",offset:-120},{name:"Israel Standard Time (Israel)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Time (Libya)",gmt:"GMT+2:0",offset:-120},{name:"Eastern European Summer Time (Turkey)",gmt:"GMT+2:0",offset:-120},{name:"Eastern African Time (Africa/Addis_Ababa)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Asmera)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Dar_es_Salaam)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Djibouti)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Kampala)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Khartoum)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Mogadishu)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Africa/Nairobi)",gmt:"GMT+3:0",offset:-180},{name:"Syowa Time (Antarctica/Syowa)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Aden)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Daylight Time (Asia/Baghdad)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Bahrain)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Kuwait)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Qatar)",gmt:"GMT+3:0",offset:-180},{name:"Arabia Standard Time (Asia/Riyadh)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (EAT)",gmt:"GMT+3:0",offset:-180},{name:"GMT+03",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (Europe/Moscow)",gmt:"GMT+3:0",offset:-180},{name:"Volgograd Summer Time (Europe/Volgograd)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Antananarivo)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Comoro)",gmt:"GMT+3:0",offset:-180},{name:"Eastern African Time (Indian/Mayotte)",gmt:"GMT+3:0",offset:-180},{name:"Moscow Daylight Time (W-SU)",gmt:"GMT+3:0",offset:-180},{name:"( GMT 3:7 ) GMT+03",gmt:"GMT+3:7",offset:-187},{name:"( GMT 3:30 ) Iran Standard Time (Asia/Tehran)",gmt:"GMT+3:30",offset:-210},{name:"( GMT 3:30 ) Iran Standard Time (Iran)",gmt:"GMT+3:30",offset:-210},{name:"Azerbaijan Summer Time (Asia/Baku)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Dubai)",gmt:"GMT+4:0",offset:-240},{name:"Gulf Standard Time (Asia/Muscat)",gmt:"GMT+4:0",offset:-240},{name:"Georgia Time (Asia/Tbilisi)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (Asia/Yerevan)",gmt:"GMT+4:0",offset:-240},{name:"GMT+04",gmt:"GMT+4:0",offset:-240},{name:"Samara Summer Time (Europe/Samara)",gmt:"GMT+4:0",offset:-240},{name:"Seychelles Time (Indian/Mahe)",gmt:"GMT+4:0",offset:-240},{name:"Mauritius Time (Indian/Mauritius)",gmt:"GMT+4:0",offset:-240},{name:"Reunion Time (Indian/Reunion)",gmt:"GMT+4:0",offset:-240},{name:"Armenia Summer Time (NET)",gmt:"GMT+4:0",offset:-240},{name:"( GMT 4:30 ) Afghanistan Time (Asia/Kabul)",gmt:"GMT+4:30",offset:-270},{name:"Aqtau Time (Asia/Aqtau)",gmt:"GMT+5:0",offset:-300},{name:"Aqtobe Time (Asia/Aqtobe)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashgabat)",gmt:"GMT+5:0",offset:-300},{name:"Turkmenistan Time (Asia/Ashkhabad)",gmt:"GMT+5:0",offset:-300},{name:"Tajikistan Time (Asia/Dushanbe)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (Asia/Karachi)",gmt:"GMT+5:0",offset:-300},{name:"Oral Time (Asia/Oral)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Samarkand)",gmt:"GMT+5:0",offset:-300},{name:"Uzbekistan Time (Asia/Tashkent)",gmt:"GMT+5:0",offset:-300},{name:"Yekaterinburg Summer Time (Asia/Yekaterinburg)",gmt:"GMT+5:0",offset:-300},{name:"GMT+05",gmt:"GMT+5:0",offset:-300},{name:"French Southern &amp; Antarctic Lands Time (Indian/Kerguelen)",gmt:"GMT+5:0",offset:-300},{name:"Maldives Time (Indian/Maldives)",gmt:"GMT+5:0",offset:-300},{name:"Pakistan Time (PLT)",gmt:"GMT+5:0",offset:-300},{name:"India Standard Time (Asia/Calcutta)",gmt:"GMT+5:30",offset:-330},{name:"Sri Lanka Time (Asia/Colombo)",gmt:"GMT+5:30",offset:-330},{name:"India Standard Time (IST)",gmt:"GMT+5:30",offset:-330},{name:"Nepal Time (Asia/Katmandu)",gmt:"GMT+5:45",offset:-345},{name:"Mawson Time (Antarctica/Mawson)",gmt:"GMT+6:0",offset:-360},{name:"Vostok Time (Antarctica/Vostok)",gmt:"GMT+6:0",offset:-360},{name:"Alma-Ata Time (Asia/Almaty)",gmt:"GMT+6:0",offset:-360},{name:"Kirgizstan Time (Asia/Bishkek)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dacca)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (Asia/Dhaka)",gmt:"GMT+6:0",offset:-360},{name:"Novosibirsk Summer Time (Asia/Novosibirsk)",gmt:"GMT+6:0",offset:-360},{name:"Omsk Summer Time (Asia/Omsk)",gmt:"GMT+6:0",offset:-360},{name:"Qyzylorda Time (Asia/Qyzylorda)",gmt:"GMT+6:0",offset:-360},{name:"Bhutan Time (Asia/Thimbu)",gmt:"GMT+6:0",offset:-360},{name:"Bhutan Time (Asia/Thimphu)",gmt:"GMT+6:0",offset:-360},{name:"Bangladesh Time (BST)",gmt:"GMT+6:0",offset:-360},{name:"GMT+06",gmt:"GMT+6:0",offset:-360},{name:"Indian Ocean Territory Time (Indian/Chagos)",gmt:"GMT+6:0",offset:-360},{name:"Myanmar Time (Asia/Rangoon)",gmt:"GMT+6:30",offset:-390},{name:"Cocos Islands Time (Indian/Cocos)",gmt:"GMT+6:30",offset:-390},{name:"Davis Time (Antarctica/Davis)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Bangkok)",gmt:"GMT+7:0",offset:-420},{name:"Hovd Summer Time (Asia/Hovd)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Jakarta)",gmt:"GMT+7:0",offset:-420},{name:"Krasnoyarsk Summer Time (Asia/Krasnoyarsk)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Phnom_Penh)",gmt:"GMT+7:0",offset:-420},{name:"West Indonesia Time (Asia/Pontianak)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Saigon)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (Asia/Vientiane)",gmt:"GMT+7:0",offset:-420},{name:"GMT+07",gmt:"GMT+7:0",offset:-420},{name:"Christmas Island Time (Indian/Christmas)",gmt:"GMT+7:0",offset:-420},{name:"Indochina Time (VST)",gmt:"GMT+7:0",offset:-420},{name:"Western Standard Time  (Australia) (Antarctica/Casey)",gmt:"GMT+8:0",offset:-480},{name:"Brunei Time (Asia/Brunei)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Chongqing)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Harbin)",gmt:"GMT+8:0",offset:-480},{name:"Hong Kong Time (Asia/Hong_Kong)",gmt:"GMT+8:0",offset:-480},{name:"Irkutsk Summer Time (Asia/Irkutsk)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Kashgar)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuala_Lumpur)",gmt:"GMT+8:0",offset:-480},{name:"Malaysia Time (Asia/Kuching)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Macao)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Makassar)",gmt:"GMT+8:0",offset:-480},{name:"Philippines Time (Asia/Manila)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Shanghai)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Asia/Singapore)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Taipei)",gmt:"GMT+8:0",offset:-480},{name:"Central Indonesia Time (Asia/Ujung_Pandang)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulaanbaatar)",gmt:"GMT+8:0",offset:-480},{name:"Ulaanbaatar Summer Time (Asia/Ulan_Bator)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (Asia/Urumqi)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/Perth)",gmt:"GMT+8:0",offset:-480},{name:"Western Standard Time  (Australia) (Australia/West)",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (CTT)",gmt:"GMT+8:0",offset:-480},{name:"GMT+08",gmt:"GMT+8:0",offset:-480},{name:"China Standard Time (PRC)",gmt:"GMT+8:0",offset:-480},{name:"Singapore Time (Singapore)",gmt:"GMT+8:0",offset:-480},{name:"Choibalsan Summer Time (Asia/Choibalsan)",gmt:"GMT+9:0",offset:-540},{name:"East Timor Time (Asia/Dili)",gmt:"GMT+9:0",offset:-540},{name:"East Indonesia Time (Asia/Jayapura)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Pyongyang)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (Asia/Seoul)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Asia/Tokyo)",gmt:"GMT+9:0",offset:-540},{name:"Yaktsk Summer Time (Asia/Yakutsk)",gmt:"GMT+9:0",offset:-540},{name:"GMT+09",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (JST)",gmt:"GMT+9:0",offset:-540},{name:"Japan Standard Time (Japan)",gmt:"GMT+9:0",offset:-540},{name:"Palau Time (Pacific/Palau)",gmt:"GMT+9:0",offset:-540},{name:"Korea Standard Time (ROK)",gmt:"GMT+9:0",offset:-540},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (ACT)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/Adelaide)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Broken_Hill)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/Darwin)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (Northern Territory) (Australia/North)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia) (Australia/South)",gmt:"GMT+9:30",offset:-570},{name:"( GMT 9:30 ) Central Standard Time  (South Australia/New South Wales) (Australia/Yancowinna)",gmt:"GMT+9:30",offset:-570},{name:"Eastern Standard Time  (New South Wales) (AET)",gmt:"GMT+10:0",offset:-600},{name:"Dumont-d Urville Time (Antarctica/DumontDUrville)",gmt:"GMT+10:0",offset:-600},{name:"Sakhalin Summer Time (Asia/Sakhalin)",gmt:"GMT+10:0",offset:-600},{name:"Vladivostok Summer Time (Asia/Vladivostok)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/ACT)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Brisbane)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Canberra)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Currie)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Hobart)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Lindeman)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Melbourne)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/NSW)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Queensland) (Australia/Queensland)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (New South Wales) (Australia/Sydney)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Tasmania) (Australia/Tasmania)",gmt:"GMT+10:0",offset:-600},{name:"Eastern Standard Time  (Victoria) (Australia/Victoria)",gmt:"GMT+10:0",offset:-600},{name:"GMT+10",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Guam)",gmt:"GMT+10:0",offset:-600},{name:"Papua New Guinea Time (Pacific/Port_Moresby)",gmt:"GMT+10:0",offset:-600},{name:"Chamorro Standard Time (Pacific/Saipan)",gmt:"GMT+10:0",offset:-600},{name:"Truk Time (Pacific/Truk)",gmt:"GMT+10:0",offset:-600},{name:"Yap Time (Pacific/Yap)",gmt:"GMT+10:0",offset:-600},{name:"Load Howe Standard Time (Australia/LHI)",gmt:"GMT+10:30",offset:-630},{name:"Load Howe Standard Time (Australia/Lord_Howe)",gmt:"GMT+10:30",offset:-630},{name:"Magadan Summer Time (Asia/Magadan)",gmt:"GMT+11:0",offset:-660},{name:"GMT+11",gmt:"GMT+11:0",offset:-660},{name:"Vanuatu Time (Pacific/Efate)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (Pacific/Guadalcanal)",gmt:"GMT+11:0",offset:-660},{name:"Kosrae Time (Pacific/Kosrae)",gmt:"GMT+11:0",offset:-660},{name:"New Caledonia Time (Pacific/Noumea)",gmt:"GMT+11:0",offset:-660},{name:"Ponape Time (Pacific/Ponape)",gmt:"GMT+11:0",offset:-660},{name:"Solomon Is. Time (SST)",gmt:"GMT+11:0",offset:-660},{name:"Norfolk Time (Pacific/Norfolk)",gmt:"GMT+11:30",offset:-690},{name:"New Zealand Standard Time (Antarctica/McMurdo)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Antarctica/South_Pole)",gmt:"GMT+12:0",offset:-720},{name:"Anadyr Summer Time (Asia/Anadyr)",gmt:"GMT+12:0",offset:-720},{name:"Petropavlovsk-Kamchatski Summer Time (Asia/Kamchatka)",gmt:"GMT+12:0",offset:-720},{name:"GMT+12",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NST)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (NZ)",gmt:"GMT+12:0",offset:-720},{name:"New Zealand Standard Time (Pacific/Auckland)",gmt:"GMT+12:0",offset:-720},{name:"Fiji Time (Pacific/Fiji)",gmt:"GMT+12:0",offset:-720},{name:"Tuvalu Time (Pacific/Funafuti)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Kwajalein)",gmt:"GMT+12:0",offset:-720},{name:"Marshall Islands Time (Pacific/Majuro)",gmt:"GMT+12:0",offset:-720},{name:"Nauru Time (Pacific/Nauru)",gmt:"GMT+12:0",offset:-720},{name:"Gilbert Is. Time (Pacific/Tarawa)",gmt:"GMT+12:0",offset:-720},{name:"Wake Time (Pacific/Wake)",gmt:"GMT+12:0",offset:-720},{name:"Wallis &amp; Futuna Time (Pacific/Wallis)",gmt:"GMT+12:0",offset:-720},{name:"Chatham Standard Time (NZ-CHAT)",gmt:"GMT+12:45",offset:-765},{name:"Chatham Standard Time (Pacific/Chatham)",gmt:"GMT+12:45",offset:-765},{name:"GMT+13",gmt:"GMT+13:0",offset:-780},{name:"Phoenix Is. Time (Pacific/Enderbury)",gmt:"GMT+13:0",offset:-780},{name:"Tonga Time (Pacific/Tongatapu)",gmt:"GMT+13:0",offset:-780},{name:"GMT+14",gmt:"GMT+14:0",offset:-840},{name:"Line Is. Time (Pacific/Kiritimati)",gmt:"GMT+14:0",offset:-840}],m={};for(var t in a)if(e==a[t].offset){m.gmt=a[t].gmt,m.name=a[t].name;break}return m}()}}}();